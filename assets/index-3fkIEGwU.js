var LP=Object.defineProperty;var zP=(t,e,n)=>e in t?LP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ey=(t,e,n)=>zP(t,typeof e!="symbol"?e+"":e,n);function DP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hb={exports:{}},Gu={},fb={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xl=Symbol.for("react.element"),$P=Symbol.for("react.portal"),FP=Symbol.for("react.fragment"),BP=Symbol.for("react.strict_mode"),VP=Symbol.for("react.profiler"),WP=Symbol.for("react.provider"),UP=Symbol.for("react.context"),HP=Symbol.for("react.forward_ref"),qP=Symbol.for("react.suspense"),GP=Symbol.for("react.memo"),KP=Symbol.for("react.lazy"),ty=Symbol.iterator;function XP(t){return t===null||typeof t!="object"?null:(t=ty&&t[ty]||t["@@iterator"],typeof t=="function"?t:null)}var pb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mb=Object.assign,gb={};function To(t,e,n){this.props=t,this.context=e,this.refs=gb,this.updater=n||pb}To.prototype.isReactComponent={};To.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};To.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vb(){}vb.prototype=To.prototype;function Cm(t,e,n){this.props=t,this.context=e,this.refs=gb,this.updater=n||pb}var Em=Cm.prototype=new vb;Em.constructor=Cm;mb(Em,To.prototype);Em.isPureReactComponent=!0;var ny=Array.isArray,yb=Object.prototype.hasOwnProperty,_m={current:null},xb={key:!0,ref:!0,__self:!0,__source:!0};function wb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)yb.call(e,r)&&!xb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xl,type:t,key:s,ref:o,props:i,_owner:_m.current}}function YP(t,e){return{$$typeof:xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nm(t){return typeof t=="object"&&t!==null&&t.$$typeof===xl}function ZP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ry=/\/+/g;function ah(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZP(""+t.key):e.toString(36)}function kc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xl:case $P:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ah(o,0):r,ny(i)?(n="",t!=null&&(n=t.replace(ry,"$&/")+"/"),kc(i,e,n,"",function(c){return c})):i!=null&&(Nm(i)&&(i=YP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ry,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ny(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ah(s,a);o+=kc(s,e,n,l,i)}else if(l=XP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ah(s,a++),o+=kc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zl(t,e,n){if(t==null)return t;var r=[],i=0;return kc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function QP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},Cc={transition:null},JP={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Cc,ReactCurrentOwner:_m};function bb(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:zl,forEach:function(t,e,n){zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zl(t,function(){e++}),e},toArray:function(t){return zl(t,function(e){return e})||[]},only:function(t){if(!Nm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=To;ye.Fragment=FP;ye.Profiler=VP;ye.PureComponent=Cm;ye.StrictMode=BP;ye.Suspense=qP;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JP;ye.act=bb;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=_m.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yb.call(e,l)&&!xb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xl,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:UP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WP,_context:t},t.Consumer=t};ye.createElement=wb;ye.createFactory=function(t){var e=wb.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:HP,render:t}};ye.isValidElement=Nm;ye.lazy=function(t){return{$$typeof:KP,_payload:{_status:-1,_result:t},_init:QP}};ye.memo=function(t,e){return{$$typeof:GP,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Cc.transition;Cc.transition={};try{t()}finally{Cc.transition=e}};ye.unstable_act=bb;ye.useCallback=function(t,e){return Pt.current.useCallback(t,e)};ye.useContext=function(t){return Pt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Pt.current.useEffect(t,e)};ye.useId=function(){return Pt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Pt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};ye.useRef=function(t){return Pt.current.useRef(t)};ye.useState=function(t){return Pt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Pt.current.useTransition()};ye.version="18.3.1";fb.exports=ye;var v=fb.exports;const Re=yl(v),Sb=DP({__proto__:null,default:Re},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej=v,tj=Symbol.for("react.element"),nj=Symbol.for("react.fragment"),rj=Object.prototype.hasOwnProperty,ij=ej.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sj={key:!0,ref:!0,__self:!0,__source:!0};function kb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rj.call(e,r)&&!sj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tj,type:t,key:s,ref:o,props:i,_owner:ij.current}}Gu.Fragment=nj;Gu.jsx=kb;Gu.jsxs=kb;hb.exports=Gu;var h=hb.exports,Mf={},Cb={exports:{}},sn={},Eb={exports:{}},_b={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,A){var E=O.length;O.push(A);e:for(;0<E;){var X=E-1>>>1,he=O[X];if(0<i(he,A))O[X]=A,O[E]=he,E=X;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var A=O[0],E=O.pop();if(E!==A){O[0]=E;e:for(var X=0,he=O.length,T=he>>>1;X<T;){var Se=2*(X+1)-1,Ge=O[Se],xe=Se+1,ee=O[xe];if(0>i(Ge,E))xe<he&&0>i(ee,Ge)?(O[X]=ee,O[xe]=E,X=xe):(O[X]=Ge,O[Se]=E,X=Se);else if(xe<he&&0>i(ee,E))O[X]=ee,O[xe]=E,X=xe;else break e}}return A}function i(O,A){var E=O.sortIndex-A.sortIndex;return E!==0?E:O.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=O)r(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(c)}}function S(O){if(m=!1,b(O),!g)if(n(l)!==null)g=!0,V(C);else{var A=n(c);A!==null&&F(S,A.startTime-O)}}function C(O,A){g=!1,m&&(m=!1,y(N),N=-1),p=!0;var E=f;try{for(b(A),d=n(l);d!==null&&(!(d.expirationTime>A)||O&&!j());){var X=d.callback;if(typeof X=="function"){d.callback=null,f=d.priorityLevel;var he=X(d.expirationTime<=A);A=t.unstable_now(),typeof he=="function"?d.callback=he:d===n(l)&&r(l),b(A)}else r(l);d=n(l)}if(d!==null)var T=!0;else{var Se=n(c);Se!==null&&F(S,Se.startTime-A),T=!1}return T}finally{d=null,f=E,p=!1}}var k=!1,_=null,N=-1,M=5,R=-1;function j(){return!(t.unstable_now()-R<M)}function P(){if(_!==null){var O=t.unstable_now();R=O;var A=!0;try{A=_(!0,O)}finally{A?L():(k=!1,_=null)}}else k=!1}var L;if(typeof x=="function")L=function(){x(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,H=I.port2;I.port1.onmessage=P,L=function(){H.postMessage(null)}}else L=function(){w(P,0)};function V(O){_=O,k||(k=!0,L())}function F(O,A){N=w(function(){O(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,V(C))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var E=f;f=A;try{return O()}finally{f=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,A){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var E=f;f=O;try{return A()}finally{f=E}},t.unstable_scheduleCallback=function(O,A,E){var X=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?X+E:X):E=X,O){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=E+he,O={id:u++,callback:A,priorityLevel:O,startTime:E,expirationTime:he,sortIndex:-1},E>X?(O.sortIndex=E,e(c,O),n(l)===null&&O===n(c)&&(m?(y(N),N=-1):m=!0,F(S,E-X))):(O.sortIndex=he,e(l,O),g||p||(g=!0,V(C))),O},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(O){var A=f;return function(){var E=f;f=A;try{return O.apply(this,arguments)}finally{f=E}}}})(_b);Eb.exports=_b;var oj=Eb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aj=v,rn=oj;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nb=new Set,ja={};function fs(t,e){ho(t,e),ho(t+"Capture",e)}function ho(t,e){for(ja[t]=e,t=0;t<e.length;t++)Nb.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=Object.prototype.hasOwnProperty,lj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iy={},sy={};function cj(t){return Af.call(sy,t)?!0:Af.call(iy,t)?!1:lj.test(t)?sy[t]=!0:(iy[t]=!0,!1)}function uj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dj(t,e,n,r){if(e===null||typeof e>"u"||uj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tm=/[\-:]([a-z])/g;function Pm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tm,Pm);ct[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tm,Pm);ct[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tm,Pm);ct[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jm(t,e,n,r){var i=ct.hasOwnProperty(e)?ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dj(e,n,i,r)&&(n=null),r||i===null?cj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mr=aj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dl=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),Rm=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Tb=Symbol.for("react.provider"),Pb=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),Lf=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),jb=Symbol.for("react.offscreen"),oy=Symbol.iterator;function Wo(t){return t===null||typeof t!="object"?null:(t=oy&&t[oy]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,lh;function ia(t){if(lh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lh=e&&e[1]||""}return`
`+lh+t}var ch=!1;function uh(t,e){if(!t||ch)return"";ch=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ch=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ia(t):""}function hj(t){switch(t.tag){case 5:return ia(t.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return t=uh(t.type,!1),t;case 11:return t=uh(t.type.render,!1),t;case 1:return t=uh(t.type,!0),t;default:return""}}function zf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ms:return"Fragment";case Rs:return"Portal";case If:return"Profiler";case Rm:return"StrictMode";case Of:return"Suspense";case Lf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pb:return(t.displayName||"Context")+".Consumer";case Tb:return(t._context.displayName||"Context")+".Provider";case Mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Am:return e=t.displayName||null,e!==null?e:zf(t.type)||"Memo";case Xr:e=t._payload,t=t._init;try{return zf(t(e))}catch{}}return null}function fj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zf(e);case 8:return e===Rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pj(t){var e=Rb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $l(t){t._valueTracker||(t._valueTracker=pj(t))}function Mb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Rb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Df(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ay(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ab(t,e){e=e.checked,e!=null&&jm(t,"checked",e,!1)}function $f(t,e){Ab(t,e);var n=fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ff(t,e.type,fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ly(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ff(t,e,n){(e!=="number"||Gc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sa=Array.isArray;function qs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(sa(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fi(n)}}function Ib(t,e){var n=fi(e.value),r=fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ob(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ob(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fl,Lb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fl=Fl||document.createElement("div"),Fl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mj=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){mj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function zb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function Db(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gj=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(t,e){if(e){if(gj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Uf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=null;function Im(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qf=null,Gs=null,Ks=null;function dy(t){if(t=Sl(t)){if(typeof qf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Qu(e),qf(t.stateNode,t.type,e))}}function $b(t){Gs?Ks?Ks.push(t):Ks=[t]:Gs=t}function Fb(){if(Gs){var t=Gs,e=Ks;if(Ks=Gs=null,dy(t),e)for(t=0;t<e.length;t++)dy(e[t])}}function Bb(t,e){return t(e)}function Vb(){}var dh=!1;function Wb(t,e,n){if(dh)return t(e,n);dh=!0;try{return Bb(t,e,n)}finally{dh=!1,(Gs!==null||Ks!==null)&&(Vb(),Fb())}}function Ma(t,e){var n=t.stateNode;if(n===null)return null;var r=Qu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Gf=!1;if(Er)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){Gf=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{Gf=!1}function vj(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var pa=!1,Kc=null,Xc=!1,Kf=null,yj={onError:function(t){pa=!0,Kc=t}};function xj(t,e,n,r,i,s,o,a,l){pa=!1,Kc=null,vj.apply(yj,arguments)}function wj(t,e,n,r,i,s,o,a,l){if(xj.apply(this,arguments),pa){if(pa){var c=Kc;pa=!1,Kc=null}else throw Error(U(198));Xc||(Xc=!0,Kf=c)}}function ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ub(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hy(t){if(ps(t)!==t)throw Error(U(188))}function bj(t){var e=t.alternate;if(!e){if(e=ps(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return hy(i),t;if(s===r)return hy(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Hb(t){return t=bj(t),t!==null?qb(t):null}function qb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qb(t);if(e!==null)return e;t=t.sibling}return null}var Gb=rn.unstable_scheduleCallback,fy=rn.unstable_cancelCallback,Sj=rn.unstable_shouldYield,kj=rn.unstable_requestPaint,Ke=rn.unstable_now,Cj=rn.unstable_getCurrentPriorityLevel,Om=rn.unstable_ImmediatePriority,Kb=rn.unstable_UserBlockingPriority,Yc=rn.unstable_NormalPriority,Ej=rn.unstable_LowPriority,Xb=rn.unstable_IdlePriority,Ku=null,Qn=null;function _j(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Ku,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:Pj,Nj=Math.log,Tj=Math.LN2;function Pj(t){return t>>>=0,t===0?32:31-(Nj(t)/Tj|0)|0}var Bl=64,Vl=4194304;function oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=oa(a):(s&=o,s!==0&&(r=oa(s)))}else o=n&~i,o!==0?r=oa(o):s!==0&&(r=oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nn(e),i=1<<n,r|=t[n],e&=~i;return r}function jj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=jj(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yb(){var t=Bl;return Bl<<=1,!(Bl&4194240)&&(Bl=64),t}function hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nn(e),t[e]=n}function Mj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Lm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function Zb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qb,zm,Jb,e1,t1,Yf=!1,Wl=[],ni=null,ri=null,ii=null,Aa=new Map,Ia=new Map,Zr=[],Aj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function py(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(e.pointerId)}}function Ho(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sl(e),e!==null&&zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ij(t,e,n,r,i){switch(e){case"focusin":return ni=Ho(ni,t,e,n,r,i),!0;case"dragenter":return ri=Ho(ri,t,e,n,r,i),!0;case"mouseover":return ii=Ho(ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Aa.set(s,Ho(Aa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ia.set(s,Ho(Ia.get(s)||null,t,e,n,r,i)),!0}return!1}function n1(t){var e=$i(t.target);if(e!==null){var n=ps(e);if(n!==null){if(e=n.tag,e===13){if(e=Ub(n),e!==null){t.blockedOn=e,t1(t.priority,function(){Jb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hf=r,n.target.dispatchEvent(r),Hf=null}else return e=Sl(n),e!==null&&zm(e),t.blockedOn=n,!1;e.shift()}return!0}function my(t,e,n){Ec(t)&&n.delete(e)}function Oj(){Yf=!1,ni!==null&&Ec(ni)&&(ni=null),ri!==null&&Ec(ri)&&(ri=null),ii!==null&&Ec(ii)&&(ii=null),Aa.forEach(my),Ia.forEach(my)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,Yf||(Yf=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,Oj)))}function Oa(t){function e(i){return qo(i,t)}if(0<Wl.length){qo(Wl[0],t);for(var n=1;n<Wl.length;n++){var r=Wl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ni!==null&&qo(ni,t),ri!==null&&qo(ri,t),ii!==null&&qo(ii,t),Aa.forEach(e),Ia.forEach(e),n=0;n<Zr.length;n++)r=Zr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zr.length&&(n=Zr[0],n.blockedOn===null);)n1(n),n.blockedOn===null&&Zr.shift()}var Xs=Mr.ReactCurrentBatchConfig,Qc=!0;function Lj(t,e,n,r){var i=je,s=Xs.transition;Xs.transition=null;try{je=1,Dm(t,e,n,r)}finally{je=i,Xs.transition=s}}function zj(t,e,n,r){var i=je,s=Xs.transition;Xs.transition=null;try{je=4,Dm(t,e,n,r)}finally{je=i,Xs.transition=s}}function Dm(t,e,n,r){if(Qc){var i=Zf(t,e,n,r);if(i===null)Sh(t,e,r,Jc,n),py(t,r);else if(Ij(i,t,e,n,r))r.stopPropagation();else if(py(t,r),e&4&&-1<Aj.indexOf(t)){for(;i!==null;){var s=Sl(i);if(s!==null&&Qb(s),s=Zf(t,e,n,r),s===null&&Sh(t,e,r,Jc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sh(t,e,r,null,n)}}var Jc=null;function Zf(t,e,n,r){if(Jc=null,t=Im(r),t=$i(t),t!==null)if(e=ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ub(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jc=t,null}function r1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cj()){case Om:return 1;case Kb:return 4;case Yc:case Ej:return 16;case Xb:return 536870912;default:return 16}default:return 16}}var Jr=null,$m=null,_c=null;function i1(){if(_c)return _c;var t,e=$m,n=e.length,r,i="value"in Jr?Jr.value:Jr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _c=i.slice(t,1<r?1-r:void 0)}function Nc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function gy(){return!1}function on(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ul:gy,this.isPropagationStopped=gy,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),e}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fm=on(Po),bl=He({},Po,{view:0,detail:0}),Dj=on(bl),fh,ph,Go,Xu=He({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Go&&(Go&&t.type==="mousemove"?(fh=t.screenX-Go.screenX,ph=t.screenY-Go.screenY):ph=fh=0,Go=t),fh)},movementY:function(t){return"movementY"in t?t.movementY:ph}}),vy=on(Xu),$j=He({},Xu,{dataTransfer:0}),Fj=on($j),Bj=He({},bl,{relatedTarget:0}),mh=on(Bj),Vj=He({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),Wj=on(Vj),Uj=He({},Po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hj=on(Uj),qj=He({},Po,{data:0}),yy=on(qj),Gj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xj[t])?!!e[t]:!1}function Bm(){return Yj}var Zj=He({},bl,{key:function(t){if(t.key){var e=Gj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bm,charCode:function(t){return t.type==="keypress"?Nc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qj=on(Zj),Jj=He({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=on(Jj),eR=He({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bm}),tR=on(eR),nR=He({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),rR=on(nR),iR=He({},Xu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sR=on(iR),oR=[9,13,27,32],Vm=Er&&"CompositionEvent"in window,ma=null;Er&&"documentMode"in document&&(ma=document.documentMode);var aR=Er&&"TextEvent"in window&&!ma,s1=Er&&(!Vm||ma&&8<ma&&11>=ma),wy=" ",by=!1;function o1(t,e){switch(t){case"keyup":return oR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function lR(t,e){switch(t){case"compositionend":return a1(e);case"keypress":return e.which!==32?null:(by=!0,wy);case"textInput":return t=e.data,t===wy&&by?null:t;default:return null}}function cR(t,e){if(As)return t==="compositionend"||!Vm&&o1(t,e)?(t=i1(),_c=$m=Jr=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s1&&e.locale!=="ko"?null:e.data;default:return null}}var uR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uR[t.type]:e==="textarea"}function l1(t,e,n,r){$b(r),e=eu(e,"onChange"),0<e.length&&(n=new Fm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ga=null,La=null;function dR(t){x1(t,0)}function Yu(t){var e=Ls(t);if(Mb(e))return t}function hR(t,e){if(t==="change")return e}var c1=!1;if(Er){var gh;if(Er){var vh="oninput"in document;if(!vh){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),vh=typeof ky.oninput=="function"}gh=vh}else gh=!1;c1=gh&&(!document.documentMode||9<document.documentMode)}function Cy(){ga&&(ga.detachEvent("onpropertychange",u1),La=ga=null)}function u1(t){if(t.propertyName==="value"&&Yu(La)){var e=[];l1(e,La,t,Im(t)),Wb(dR,e)}}function fR(t,e,n){t==="focusin"?(Cy(),ga=e,La=n,ga.attachEvent("onpropertychange",u1)):t==="focusout"&&Cy()}function pR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(La)}function mR(t,e){if(t==="click")return Yu(e)}function gR(t,e){if(t==="input"||t==="change")return Yu(e)}function vR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:vR;function za(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Af.call(e,i)||!Rn(t[i],e[i]))return!1}return!0}function Ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _y(t,e){var n=Ey(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ey(n)}}function d1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?d1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function h1(){for(var t=window,e=Gc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gc(t.document)}return e}function Wm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yR(t){var e=h1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&d1(n.ownerDocument.documentElement,n)){if(r!==null&&Wm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=_y(n,s);var o=_y(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xR=Er&&"documentMode"in document&&11>=document.documentMode,Is=null,Qf=null,va=null,Jf=!1;function Ny(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jf||Is==null||Is!==Gc(r)||(r=Is,"selectionStart"in r&&Wm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),va&&za(va,r)||(va=r,r=eu(Qf,"onSelect"),0<r.length&&(e=new Fm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Is)))}function Hl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Os={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},yh={},f1={};Er&&(f1=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Zu(t){if(yh[t])return yh[t];if(!Os[t])return t;var e=Os[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in f1)return yh[t]=e[n];return t}var p1=Zu("animationend"),m1=Zu("animationiteration"),g1=Zu("animationstart"),v1=Zu("transitionend"),y1=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){y1.set(t,e),fs(e,[t])}for(var xh=0;xh<Ty.length;xh++){var wh=Ty[xh],wR=wh.toLowerCase(),bR=wh[0].toUpperCase()+wh.slice(1);ki(wR,"on"+bR)}ki(p1,"onAnimationEnd");ki(m1,"onAnimationIteration");ki(g1,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(v1,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function Py(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wj(r,e,void 0,t),t.currentTarget=null}function x1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Py(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Py(i,a,c),s=l}}}if(Xc)throw t=Kf,Xc=!1,Kf=null,t}function ze(t,e){var n=e[ip];n===void 0&&(n=e[ip]=new Set);var r=t+"__bubble";n.has(r)||(w1(e,t,2,!1),n.add(r))}function bh(t,e,n){var r=0;e&&(r|=4),w1(n,t,r,e)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Da(t){if(!t[ql]){t[ql]=!0,Nb.forEach(function(n){n!=="selectionchange"&&(SR.has(n)||bh(n,!1,t),bh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ql]||(e[ql]=!0,bh("selectionchange",!1,e))}}function w1(t,e,n,r){switch(r1(e)){case 1:var i=Lj;break;case 4:i=zj;break;default:i=Dm}n=i.bind(null,e,n,t),i=void 0,!Gf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$i(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Wb(function(){var c=s,u=Im(n),d=[];e:{var f=y1.get(t);if(f!==void 0){var p=Fm,g=t;switch(t){case"keypress":if(Nc(n)===0)break e;case"keydown":case"keyup":p=Qj;break;case"focusin":g="focus",p=mh;break;case"focusout":g="blur",p=mh;break;case"beforeblur":case"afterblur":p=mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Fj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tR;break;case p1:case m1:case g1:p=Wj;break;case v1:p=rR;break;case"scroll":p=Dj;break;case"wheel":p=sR;break;case"copy":case"cut":case"paste":p=Hj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xy}var m=(e&4)!==0,w=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var x=c,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=Ma(x,y),S!=null&&m.push($a(x,S,b)))),w)break;x=x.return}0<m.length&&(f=new p(f,g,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Hf&&(g=n.relatedTarget||n.fromElement)&&($i(g)||g[_r]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?$i(g):null,g!==null&&(w=ps(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=vy,S="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=xy,S="onPointerLeave",y="onPointerEnter",x="pointer"),w=p==null?f:Ls(p),b=g==null?f:Ls(g),f=new m(S,x+"leave",p,n,u),f.target=w,f.relatedTarget=b,S=null,$i(u)===c&&(m=new m(y,x+"enter",g,n,u),m.target=b,m.relatedTarget=w,S=m),w=S,p&&g)t:{for(m=p,y=g,x=0,b=m;b;b=ws(b))x++;for(b=0,S=y;S;S=ws(S))b++;for(;0<x-b;)m=ws(m),x--;for(;0<b-x;)y=ws(y),b--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=ws(m),y=ws(y)}m=null}else m=null;p!==null&&jy(d,f,p,m,!1),g!==null&&w!==null&&jy(d,w,g,m,!0)}}e:{if(f=c?Ls(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=hR;else if(Sy(f))if(c1)C=gR;else{C=pR;var k=fR}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=mR);if(C&&(C=C(t,c))){l1(d,C,n,u);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Ff(f,"number",f.value)}switch(k=c?Ls(c):window,t){case"focusin":(Sy(k)||k.contentEditable==="true")&&(Is=k,Qf=c,va=null);break;case"focusout":va=Qf=Is=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Ny(d,n,u);break;case"selectionchange":if(xR)break;case"keydown":case"keyup":Ny(d,n,u)}var _;if(Vm)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else As?o1(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(s1&&n.locale!=="ko"&&(As||N!=="onCompositionStart"?N==="onCompositionEnd"&&As&&(_=i1()):(Jr=u,$m="value"in Jr?Jr.value:Jr.textContent,As=!0)),k=eu(c,N),0<k.length&&(N=new yy(N,t,null,n,u),d.push({event:N,listeners:k}),_?N.data=_:(_=a1(n),_!==null&&(N.data=_)))),(_=aR?lR(t,n):cR(t,n))&&(c=eu(c,"onBeforeInput"),0<c.length&&(u=new yy("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}x1(d,e)})}function $a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ma(t,n),s!=null&&r.unshift($a(t,s,i)),s=Ma(t,e),s!=null&&r.push($a(t,s,i))),t=t.return}return r}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ma(n,s),l!=null&&o.unshift($a(n,l,a))):i||(l=Ma(n,s),l!=null&&o.push($a(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kR=/\r\n?/g,CR=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(kR,`
`).replace(CR,"")}function Gl(t,e,n){if(e=Ry(e),Ry(t)!==e&&n)throw Error(U(425))}function tu(){}var ep=null,tp=null;function np(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rp=typeof setTimeout=="function"?setTimeout:void 0,ER=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,_R=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(t){return My.resolve(null).then(t).catch(NR)}:rp;function NR(t){setTimeout(function(){throw t})}function kh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Oa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Oa(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ay(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jo=Math.random().toString(36).slice(2),qn="__reactFiber$"+jo,Fa="__reactProps$"+jo,_r="__reactContainer$"+jo,ip="__reactEvents$"+jo,TR="__reactListeners$"+jo,PR="__reactHandles$"+jo;function $i(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ay(t);t!==null;){if(n=t[qn])return n;t=Ay(t)}return e}t=n,n=t.parentNode}return null}function Sl(t){return t=t[qn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Qu(t){return t[Fa]||null}var sp=[],zs=-1;function Ci(t){return{current:t}}function $e(t){0>zs||(t.current=sp[zs],sp[zs]=null,zs--)}function Ie(t,e){zs++,sp[zs]=t.current,t.current=e}var pi={},gt=Ci(pi),Dt=Ci(!1),Xi=pi;function fo(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $t(t){return t=t.childContextTypes,t!=null}function nu(){$e(Dt),$e(gt)}function Iy(t,e,n){if(gt.current!==pi)throw Error(U(168));Ie(gt,e),Ie(Dt,n)}function b1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,fj(t)||"Unknown",i));return He({},n,r)}function ru(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,Xi=gt.current,Ie(gt,t),Ie(Dt,Dt.current),!0}function Oy(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=b1(t,e,Xi),r.__reactInternalMemoizedMergedChildContext=t,$e(Dt),$e(gt),Ie(gt,t)):$e(Dt),Ie(Dt,n)}var gr=null,Ju=!1,Ch=!1;function S1(t){gr===null?gr=[t]:gr.push(t)}function jR(t){Ju=!0,S1(t)}function Ei(){if(!Ch&&gr!==null){Ch=!0;var t=0,e=je;try{var n=gr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gr=null,Ju=!1}catch(i){throw gr!==null&&(gr=gr.slice(t+1)),Gb(Om,Ei),i}finally{je=e,Ch=!1}}return null}var Ds=[],$s=0,iu=null,su=0,cn=[],un=0,Yi=null,xr=1,wr="";function Oi(t,e){Ds[$s++]=su,Ds[$s++]=iu,iu=t,su=e}function k1(t,e,n){cn[un++]=xr,cn[un++]=wr,cn[un++]=Yi,Yi=t;var r=xr;t=wr;var i=32-Nn(r)-1;r&=~(1<<i),n+=1;var s=32-Nn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xr=1<<32-Nn(e)+i|n<<i|r,wr=s+t}else xr=1<<s|n<<i|r,wr=t}function Um(t){t.return!==null&&(Oi(t,1),k1(t,1,0))}function Hm(t){for(;t===iu;)iu=Ds[--$s],Ds[$s]=null,su=Ds[--$s],Ds[$s]=null;for(;t===Yi;)Yi=cn[--un],cn[un]=null,wr=cn[--un],cn[un]=null,xr=cn[--un],cn[un]=null}var Jt=null,Zt=null,Fe=!1,Cn=null;function C1(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ly(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jt=t,Zt=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jt=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yi!==null?{id:xr,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jt=t,Zt=null,!0):!1;default:return!1}}function op(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ap(t){if(Fe){var e=Zt;if(e){var n=e;if(!Ly(t,e)){if(op(t))throw Error(U(418));e=si(n.nextSibling);var r=Jt;e&&Ly(t,e)?C1(r,n):(t.flags=t.flags&-4097|2,Fe=!1,Jt=t)}}else{if(op(t))throw Error(U(418));t.flags=t.flags&-4097|2,Fe=!1,Jt=t}}}function zy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function Kl(t){if(t!==Jt)return!1;if(!Fe)return zy(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!np(t.type,t.memoizedProps)),e&&(e=Zt)){if(op(t))throw E1(),Error(U(418));for(;e;)C1(t,e),e=si(e.nextSibling)}if(zy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=Jt?si(t.stateNode.nextSibling):null;return!0}function E1(){for(var t=Zt;t;)t=si(t.nextSibling)}function po(){Zt=Jt=null,Fe=!1}function qm(t){Cn===null?Cn=[t]:Cn.push(t)}var RR=Mr.ReactCurrentBatchConfig;function Ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Xl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dy(t){var e=t._init;return e(t._payload)}function _1(t){function e(y,x){if(t){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=ci(y,x),y.index=0,y.sibling=null,y}function s(y,x,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,b,S){return x===null||x.tag!==6?(x=Rh(b,y.mode,S),x.return=y,x):(x=i(x,b),x.return=y,x)}function l(y,x,b,S){var C=b.type;return C===Ms?u(y,x,b.props.children,S,b.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xr&&Dy(C)===x.type)?(S=i(x,b.props),S.ref=Ko(y,x,b),S.return=y,S):(S=Ic(b.type,b.key,b.props,null,y.mode,S),S.ref=Ko(y,x,b),S.return=y,S)}function c(y,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Mh(b,y.mode,S),x.return=y,x):(x=i(x,b.children||[]),x.return=y,x)}function u(y,x,b,S,C){return x===null||x.tag!==7?(x=Ui(b,y.mode,S,C),x.return=y,x):(x=i(x,b),x.return=y,x)}function d(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Rh(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Dl:return b=Ic(x.type,x.key,x.props,null,y.mode,b),b.ref=Ko(y,null,x),b.return=y,b;case Rs:return x=Mh(x,y.mode,b),x.return=y,x;case Xr:var S=x._init;return d(y,S(x._payload),b)}if(sa(x)||Wo(x))return x=Ui(x,y.mode,b,null),x.return=y,x;Xl(y,x)}return null}function f(y,x,b,S){var C=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(y,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Dl:return b.key===C?l(y,x,b,S):null;case Rs:return b.key===C?c(y,x,b,S):null;case Xr:return C=b._init,f(y,x,C(b._payload),S)}if(sa(b)||Wo(b))return C!==null?null:u(y,x,b,S,null);Xl(y,b)}return null}function p(y,x,b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,a(x,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Dl:return y=y.get(S.key===null?b:S.key)||null,l(x,y,S,C);case Rs:return y=y.get(S.key===null?b:S.key)||null,c(x,y,S,C);case Xr:var k=S._init;return p(y,x,b,k(S._payload),C)}if(sa(S)||Wo(S))return y=y.get(b)||null,u(x,y,S,C,null);Xl(x,S)}return null}function g(y,x,b,S){for(var C=null,k=null,_=x,N=x=0,M=null;_!==null&&N<b.length;N++){_.index>N?(M=_,_=null):M=_.sibling;var R=f(y,_,b[N],S);if(R===null){_===null&&(_=M);break}t&&_&&R.alternate===null&&e(y,_),x=s(R,x,N),k===null?C=R:k.sibling=R,k=R,_=M}if(N===b.length)return n(y,_),Fe&&Oi(y,N),C;if(_===null){for(;N<b.length;N++)_=d(y,b[N],S),_!==null&&(x=s(_,x,N),k===null?C=_:k.sibling=_,k=_);return Fe&&Oi(y,N),C}for(_=r(y,_);N<b.length;N++)M=p(_,y,N,b[N],S),M!==null&&(t&&M.alternate!==null&&_.delete(M.key===null?N:M.key),x=s(M,x,N),k===null?C=M:k.sibling=M,k=M);return t&&_.forEach(function(j){return e(y,j)}),Fe&&Oi(y,N),C}function m(y,x,b,S){var C=Wo(b);if(typeof C!="function")throw Error(U(150));if(b=C.call(b),b==null)throw Error(U(151));for(var k=C=null,_=x,N=x=0,M=null,R=b.next();_!==null&&!R.done;N++,R=b.next()){_.index>N?(M=_,_=null):M=_.sibling;var j=f(y,_,R.value,S);if(j===null){_===null&&(_=M);break}t&&_&&j.alternate===null&&e(y,_),x=s(j,x,N),k===null?C=j:k.sibling=j,k=j,_=M}if(R.done)return n(y,_),Fe&&Oi(y,N),C;if(_===null){for(;!R.done;N++,R=b.next())R=d(y,R.value,S),R!==null&&(x=s(R,x,N),k===null?C=R:k.sibling=R,k=R);return Fe&&Oi(y,N),C}for(_=r(y,_);!R.done;N++,R=b.next())R=p(_,y,N,R.value,S),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?N:R.key),x=s(R,x,N),k===null?C=R:k.sibling=R,k=R);return t&&_.forEach(function(P){return e(y,P)}),Fe&&Oi(y,N),C}function w(y,x,b,S){if(typeof b=="object"&&b!==null&&b.type===Ms&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Dl:e:{for(var C=b.key,k=x;k!==null;){if(k.key===C){if(C=b.type,C===Ms){if(k.tag===7){n(y,k.sibling),x=i(k,b.props.children),x.return=y,y=x;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xr&&Dy(C)===k.type){n(y,k.sibling),x=i(k,b.props),x.ref=Ko(y,k,b),x.return=y,y=x;break e}n(y,k);break}else e(y,k);k=k.sibling}b.type===Ms?(x=Ui(b.props.children,y.mode,S,b.key),x.return=y,y=x):(S=Ic(b.type,b.key,b.props,null,y.mode,S),S.ref=Ko(y,x,b),S.return=y,y=S)}return o(y);case Rs:e:{for(k=b.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(y,x.sibling),x=i(x,b.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=Mh(b,y.mode,S),x.return=y,y=x}return o(y);case Xr:return k=b._init,w(y,x,k(b._payload),S)}if(sa(b))return g(y,x,b,S);if(Wo(b))return m(y,x,b,S);Xl(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,b),x.return=y,y=x):(n(y,x),x=Rh(b,y.mode,S),x.return=y,y=x),o(y)):n(y,x)}return w}var mo=_1(!0),N1=_1(!1),ou=Ci(null),au=null,Fs=null,Gm=null;function Km(){Gm=Fs=au=null}function Xm(t){var e=ou.current;$e(ou),t._currentValue=e}function lp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ys(t,e){au=t,Gm=Fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(Gm!==t)if(t={context:t,memoizedValue:e,next:null},Fs===null){if(au===null)throw Error(U(308));Fs=t,au.dependencies={lanes:0,firstContext:t}}else Fs=Fs.next=t;return e}var Fi=null;function Ym(t){Fi===null?Fi=[t]:Fi.push(t)}function T1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ym(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nr(t,r)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Zm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ym(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nr(t,n)}function Tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lm(t,n)}}function $y(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lu(t,e,n,r){var i=t.updateQueue;Yr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(f=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=He({},d,f);break e;case 2:Yr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qi|=o,t.lanes=o,t.memoizedState=d}}function Fy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var kl={},Jn=Ci(kl),Ba=Ci(kl),Va=Ci(kl);function Bi(t){if(t===kl)throw Error(U(174));return t}function Qm(t,e){switch(Ie(Va,e),Ie(Ba,t),Ie(Jn,kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vf(e,t)}$e(Jn),Ie(Jn,e)}function go(){$e(Jn),$e(Ba),$e(Va)}function j1(t){Bi(Va.current);var e=Bi(Jn.current),n=Vf(e,t.type);e!==n&&(Ie(Ba,t),Ie(Jn,n))}function Jm(t){Ba.current===t&&($e(Jn),$e(Ba))}var Ve=Ci(0);function cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eh=[];function eg(){for(var t=0;t<Eh.length;t++)Eh[t]._workInProgressVersionPrimary=null;Eh.length=0}var Pc=Mr.ReactCurrentDispatcher,_h=Mr.ReactCurrentBatchConfig,Zi=0,We=null,et=null,it=null,uu=!1,ya=!1,Wa=0,MR=0;function dt(){throw Error(U(321))}function tg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function ng(t,e,n,r,i,s){if(Zi=s,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pc.current=t===null||t.memoizedState===null?LR:zR,t=n(r,i),ya){s=0;do{if(ya=!1,Wa=0,25<=s)throw Error(U(301));s+=1,it=et=null,e.updateQueue=null,Pc.current=DR,t=n(r,i)}while(ya)}if(Pc.current=du,e=et!==null&&et.next!==null,Zi=0,it=et=We=null,uu=!1,e)throw Error(U(300));return t}function rg(){var t=Wa!==0;return Wa=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?We.memoizedState=it=t:it=it.next=t,it}function gn(){if(et===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=it===null?We.memoizedState:it.next;if(e!==null)it=e,et=t;else{if(t===null)throw Error(U(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?We.memoizedState=it=t:it=it.next=t}return it}function Ua(t,e){return typeof e=="function"?e(t):e}function Nh(t){var e=gn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Zi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,We.lanes|=u,Qi|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Rn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,We.lanes|=s,Qi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Th(t){var e=gn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Rn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function R1(){}function M1(t,e){var n=We,r=gn(),i=e(),s=!Rn(r.memoizedState,i);if(s&&(r.memoizedState=i,zt=!0),r=r.queue,ig(O1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,Ha(9,I1.bind(null,n,r,i,e),void 0,null),st===null)throw Error(U(349));Zi&30||A1(n,e,i)}return i}function A1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function I1(t,e,n,r){e.value=n,e.getSnapshot=r,L1(e)&&z1(t)}function O1(t,e,n){return n(function(){L1(e)&&z1(t)})}function L1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function z1(t){var e=Nr(t,1);e!==null&&Tn(e,t,1,-1)}function By(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:t},e.queue=t,t=t.dispatch=OR.bind(null,We,t),[e.memoizedState,t]}function Ha(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function D1(){return gn().memoizedState}function jc(t,e,n,r){var i=Un();We.flags|=t,i.memoizedState=Ha(1|e,n,void 0,r===void 0?null:r)}function ed(t,e,n,r){var i=gn();r=r===void 0?null:r;var s=void 0;if(et!==null){var o=et.memoizedState;if(s=o.destroy,r!==null&&tg(r,o.deps)){i.memoizedState=Ha(e,n,s,r);return}}We.flags|=t,i.memoizedState=Ha(1|e,n,s,r)}function Vy(t,e){return jc(8390656,8,t,e)}function ig(t,e){return ed(2048,8,t,e)}function $1(t,e){return ed(4,2,t,e)}function F1(t,e){return ed(4,4,t,e)}function B1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V1(t,e,n){return n=n!=null?n.concat([t]):null,ed(4,4,B1.bind(null,e,t),n)}function sg(){}function W1(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function U1(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function H1(t,e,n){return Zi&21?(Rn(n,e)||(n=Yb(),We.lanes|=n,Qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function AR(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=_h.transition;_h.transition={};try{t(!1),e()}finally{je=n,_h.transition=r}}function q1(){return gn().memoizedState}function IR(t,e,n){var r=li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G1(t))K1(e,n);else if(n=T1(t,e,n,r),n!==null){var i=kt();Tn(n,t,r,i),X1(n,e,r)}}function OR(t,e,n){var r=li(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G1(t))K1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Rn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ym(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=T1(t,e,i,r),n!==null&&(i=kt(),Tn(n,t,r,i),X1(n,e,r))}}function G1(t){var e=t.alternate;return t===We||e!==null&&e===We}function K1(t,e){ya=uu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lm(t,n)}}var du={readContext:mn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},LR={readContext:mn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:Vy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jc(4194308,4,B1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return jc(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IR.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:By,useDebugValue:sg,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=By(!1),e=t[0];return t=AR.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=Un();if(Fe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),st===null)throw Error(U(349));Zi&30||A1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Vy(O1.bind(null,r,s,t),[t]),r.flags|=2048,Ha(9,I1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Un(),e=st.identifierPrefix;if(Fe){var n=wr,r=xr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zR={readContext:mn,useCallback:W1,useContext:mn,useEffect:ig,useImperativeHandle:V1,useInsertionEffect:$1,useLayoutEffect:F1,useMemo:U1,useReducer:Nh,useRef:D1,useState:function(){return Nh(Ua)},useDebugValue:sg,useDeferredValue:function(t){var e=gn();return H1(e,et.memoizedState,t)},useTransition:function(){var t=Nh(Ua)[0],e=gn().memoizedState;return[t,e]},useMutableSource:R1,useSyncExternalStore:M1,useId:q1,unstable_isNewReconciler:!1},DR={readContext:mn,useCallback:W1,useContext:mn,useEffect:ig,useImperativeHandle:V1,useInsertionEffect:$1,useLayoutEffect:F1,useMemo:U1,useReducer:Th,useRef:D1,useState:function(){return Th(Ua)},useDebugValue:sg,useDeferredValue:function(t){var e=gn();return et===null?e.memoizedState=t:H1(e,et.memoizedState,t)},useTransition:function(){var t=Th(Ua)[0],e=gn().memoizedState;return[t,e]},useMutableSource:R1,useSyncExternalStore:M1,useId:q1,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var td={isMounted:function(t){return(t=t._reactInternals)?ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),i=li(t),s=Cr(r,i);s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(Tn(e,t,i,r),Tc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),i=li(t),s=Cr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(Tn(e,t,i,r),Tc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=li(t),i=Cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=oi(t,i,r),e!==null&&(Tn(e,t,r,n),Tc(e,t,r))}};function Wy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!za(n,r)||!za(i,s):!0}function Y1(t,e,n){var r=!1,i=pi,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=$t(e)?Xi:gt.current,r=e.contextTypes,s=(r=r!=null)?fo(t,i):pi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Uy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&td.enqueueReplaceState(e,e.state,null)}function up(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Zm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=$t(e)?Xi:gt.current,i.context=fo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&td.enqueueReplaceState(i,i.state,null),lu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e){try{var n="",r=e;do n+=hj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ph(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $R=typeof WeakMap=="function"?WeakMap:Map;function Z1(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fu||(fu=!0,bp=r),dp(t,e)},n}function Q1(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){dp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dp(t,e),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $R;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JR.bind(null,t,e,n),e.then(t,t))}function qy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,oi(n,e,1))),n.lanes|=1),t)}var FR=Mr.ReactCurrentOwner,zt=!1;function St(t,e,n,r){e.child=t===null?N1(e,null,n,r):mo(e,t.child,n,r)}function Ky(t,e,n,r,i){n=n.render;var s=e.ref;return Ys(e,i),r=ng(t,e,n,r,s,i),n=rg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tr(t,e,i)):(Fe&&n&&Um(e),e.flags|=1,St(t,e,r,i),e.child)}function Xy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!fg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,J1(t,e,s,r,i)):(t=Ic(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:za,n(o,r)&&t.ref===e.ref)return Tr(t,e,i)}return e.flags|=1,t=ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function J1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(za(s,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,Tr(t,e,i)}return hp(t,e,n,r,i)}function eS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Vs,Xt),Xt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Vs,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(Vs,Xt),Xt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(Vs,Xt),Xt|=r;return St(t,e,i,n),e.child}function tS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hp(t,e,n,r,i){var s=$t(n)?Xi:gt.current;return s=fo(e,s),Ys(e,i),n=ng(t,e,n,r,s,i),r=rg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tr(t,e,i)):(Fe&&r&&Um(e),e.flags|=1,St(t,e,n,i),e.child)}function Yy(t,e,n,r,i){if($t(n)){var s=!0;ru(e)}else s=!1;if(Ys(e,i),e.stateNode===null)Rc(t,e),Y1(e,n,r),up(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mn(c):(c=$t(n)?Xi:gt.current,c=fo(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Uy(e,o,r,c),Yr=!1;var f=e.memoizedState;o.state=f,lu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Dt.current||Yr?(typeof u=="function"&&(cp(e,n,u,r),l=e.memoizedState),(a=Yr||Wy(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,P1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=$t(n)?Xi:gt.current,l=fo(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Uy(e,o,r,l),Yr=!1,f=e.memoizedState,o.state=f,lu(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||Dt.current||Yr?(typeof p=="function"&&(cp(e,n,p,r),g=e.memoizedState),(c=Yr||Wy(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return fp(t,e,n,r,s,i)}function fp(t,e,n,r,i,s){tS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Oy(e,n,!1),Tr(t,e,s);r=e.stateNode,FR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mo(e,t.child,null,s),e.child=mo(e,null,a,s)):St(t,e,a,s),e.memoizedState=r.state,i&&Oy(e,n,!0),e.child}function nS(t){var e=t.stateNode;e.pendingContext?Iy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Iy(t,e.context,!1),Qm(t,e.containerInfo)}function Zy(t,e,n,r,i){return po(),qm(i),e.flags|=256,St(t,e,n,r),e.child}var pp={dehydrated:null,treeContext:null,retryLane:0};function mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function rS(t,e,n){var r=e.pendingProps,i=Ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Ve,i&1),t===null)return ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=id(o,r,0,null),t=Ui(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mp(n),e.memoizedState=pp,t):og(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return BR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ci(a,s):(s=Ui(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?mp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=pp,r}return s=t.child,t=s.sibling,r=ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function og(t,e){return e=id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yl(t,e,n,r){return r!==null&&qm(r),mo(e,t.child,null,n),t=og(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ph(Error(U(422))),Yl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=id({mode:"visible",children:r.children},i,0,null),s=Ui(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mo(e,t.child,null,o),e.child.memoizedState=mp(o),e.memoizedState=pp,s);if(!(e.mode&1))return Yl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Ph(s,r,void 0),Yl(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nr(t,i),Tn(r,t,i,-1))}return hg(),r=Ph(Error(U(421))),Yl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=e2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zt=si(i.nextSibling),Jt=e,Fe=!0,Cn=null,t!==null&&(cn[un++]=xr,cn[un++]=wr,cn[un++]=Yi,xr=t.id,wr=t.overflow,Yi=e),e=og(e,r.children),e.flags|=4096,e)}function Qy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lp(t.return,e,n)}function jh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function iS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(St(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,n,e);else if(t.tag===19)Qy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jh(e,!0,n,null,s);break;case"together":jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VR(t,e,n){switch(e.tag){case 3:nS(e),po();break;case 5:j1(e);break;case 1:$t(e.type)&&ru(e);break;case 4:Qm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(ou,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?rS(t,e,n):(Ie(Ve,Ve.current&1),t=Tr(t,e,n),t!==null?t.sibling:null);Ie(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,eS(t,e,n)}return Tr(t,e,n)}var sS,gp,oS,aS;sS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gp=function(){};oS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bi(Jn.current);var s=null;switch(n){case"input":i=Df(t,i),r=Df(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=Bf(t,i),r=Bf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tu)}Wf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ja.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ja.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};aS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xo(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WR(t,e,n){var r=e.pendingProps;switch(Hm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return $t(e.type)&&nu(),ht(e),null;case 3:return r=e.stateNode,go(),$e(Dt),$e(gt),eg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cn!==null&&(Cp(Cn),Cn=null))),gp(t,e),ht(e),null;case 5:Jm(e);var i=Bi(Va.current);if(n=e.type,t!==null&&e.stateNode!=null)oS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ht(e),null}if(t=Bi(Jn.current),Kl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qn]=e,r[Fa]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<aa.length;i++)ze(aa[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ay(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":cy(r,s),ze("invalid",r)}Wf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Gl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Gl(r.textContent,a,t),i=["children",""+a]):ja.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":$l(r),ly(r,s,!0);break;case"textarea":$l(r),uy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ob(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[Fa]=r,sS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Uf(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<aa.length;i++)ze(aa[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":ay(t,r),i=Df(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),ze("invalid",t);break;case"textarea":cy(t,r),i=Bf(t,r),ze("invalid",t);break;default:i=r}Wf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Db(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ra(t,l):typeof l=="number"&&Ra(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ja.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&jm(t,s,l,o))}switch(n){case"input":$l(t),ly(t,r,!1);break;case"textarea":$l(t),uy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qs(t,!!r.multiple,s,!1):r.defaultValue!=null&&qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)aS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Bi(Va.current),Bi(Jn.current),Kl(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(s=r.nodeValue!==n)&&(t=Jt,t!==null))switch(t.tag){case 3:Gl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return ht(e),null;case 13:if($e(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Zt!==null&&e.mode&1&&!(e.flags&128))E1(),po(),e.flags|=98560,s=!1;else if(s=Kl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[qn]=e}else po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),s=!1}else Cn!==null&&(Cp(Cn),Cn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?tt===0&&(tt=3):hg())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return go(),gp(t,e),t===null&&Da(e.stateNode.containerInfo),ht(e),null;case 10:return Xm(e.type._context),ht(e),null;case 17:return $t(e.type)&&nu(),ht(e),null;case 19:if($e(Ve),s=e.memoizedState,s===null)return ht(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Xo(s,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cu(t),o!==null){for(e.flags|=128,Xo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Ve,Ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ke()>yo&&(e.flags|=128,r=!0,Xo(s,!1),e.lanes=4194304)}else{if(!r)if(t=cu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return ht(e),null}else 2*Ke()-s.renderingStartTime>yo&&n!==1073741824&&(e.flags|=128,r=!0,Xo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,n=Ve.current,Ie(Ve,r?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return dg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xt&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function UR(t,e){switch(Hm(e),e.tag){case 1:return $t(e.type)&&nu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return go(),$e(Dt),$e(gt),eg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jm(e),null;case 13:if($e(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ve),null;case 4:return go(),null;case 10:return Xm(e.type._context),null;case 22:case 23:return dg(),null;case 24:return null;default:return null}}var Zl=!1,ft=!1,HR=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function vp(t,e,n){try{n()}catch(r){qe(t,e,r)}}var Jy=!1;function qR(t,e){if(ep=Qc,t=h1(),Wm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tp={focusedElem:t,selectionRange:n},Qc=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Sn(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){qe(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return g=Jy,Jy=!1,g}function xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&vp(e,n,s)}i=i.next}while(i!==r)}}function nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lS(t){var e=t.alternate;e!==null&&(t.alternate=null,lS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Fa],delete e[ip],delete e[TR],delete e[PR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cS(t){return t.tag===5||t.tag===3||t.tag===4}function ex(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tu));else if(r!==4&&(t=t.child,t!==null))for(xp(t,e,n),t=t.sibling;t!==null;)xp(t,e,n),t=t.sibling}function wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wp(t,e,n),t=t.sibling;t!==null;)wp(t,e,n),t=t.sibling}var ot=null,kn=!1;function Br(t,e,n){for(n=n.child;n!==null;)uS(t,e,n),n=n.sibling}function uS(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Ku,n)}catch{}switch(n.tag){case 5:ft||Bs(n,e);case 6:var r=ot,i=kn;ot=null,Br(t,e,n),ot=r,kn=i,ot!==null&&(kn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(kn?(t=ot,n=n.stateNode,t.nodeType===8?kh(t.parentNode,n):t.nodeType===1&&kh(t,n),Oa(t)):kh(ot,n.stateNode));break;case 4:r=ot,i=kn,ot=n.stateNode.containerInfo,kn=!0,Br(t,e,n),ot=r,kn=i;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vp(n,e,o),i=i.next}while(i!==r)}Br(t,e,n);break;case 1:if(!ft&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}Br(t,e,n);break;case 21:Br(t,e,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,Br(t,e,n),ft=r):Br(t,e,n);break;default:Br(t,e,n)}}function tx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HR),e.forEach(function(r){var i=t2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,kn=!1;break e;case 3:ot=a.stateNode.containerInfo,kn=!0;break e;case 4:ot=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(ot===null)throw Error(U(160));uS(s,o,i),ot=null,kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){qe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dS(e,t),e=e.sibling}function dS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Bn(t),r&4){try{xa(3,t,t.return),nd(3,t)}catch(m){qe(t,t.return,m)}try{xa(5,t,t.return)}catch(m){qe(t,t.return,m)}}break;case 1:wn(e,t),Bn(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(wn(e,t),Bn(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var i=t.stateNode;try{Ra(i,"")}catch(m){qe(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ab(i,s),Uf(a,o);var c=Uf(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Db(i,d):u==="dangerouslySetInnerHTML"?Lb(i,d):u==="children"?Ra(i,d):jm(i,u,d,c)}switch(a){case"input":$f(i,s);break;case"textarea":Ib(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?qs(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?qs(i,!!s.multiple,s.defaultValue,!0):qs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fa]=s}catch(m){qe(t,t.return,m)}}break;case 6:if(wn(e,t),Bn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){qe(t,t.return,m)}}break;case 3:if(wn(e,t),Bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oa(e.containerInfo)}catch(m){qe(t,t.return,m)}break;case 4:wn(e,t),Bn(t);break;case 13:wn(e,t),Bn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cg=Ke())),r&4&&tx(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ft=(c=ft)||u,wn(e,t),ft=c):wn(e,t),Bn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Z=t,u=t.child;u!==null;){for(d=Z=u;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:xa(4,f,f.return);break;case 1:Bs(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){qe(r,n,m)}}break;case 5:Bs(f,f.return);break;case 22:if(f.memoizedState!==null){rx(d);continue}}p!==null?(p.return=f,Z=p):rx(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zb("display",o))}catch(m){qe(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){qe(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wn(e,t),Bn(t),r&4&&tx(t);break;case 21:break;default:wn(e,t),Bn(t)}}function Bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cS(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ra(i,""),r.flags&=-33);var s=ex(t);wp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ex(t);xp(t,a,o);break;default:throw Error(U(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GR(t,e,n){Z=t,hS(t)}function hS(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ft;a=Zl;var c=ft;if(Zl=o,(ft=l)&&!c)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?ix(i):l!==null?(l.return=o,Z=l):ix(i);for(;s!==null;)Z=s,hS(s),s=s.sibling;Z=i,Zl=a,ft=c}nx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):nx(t)}}function nx(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ft||nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ft)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Oa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ft||e.flags&512&&yp(e)}catch(f){qe(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function rx(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function ix(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nd(4,e)}catch(l){qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qe(e,i,l)}}var s=e.return;try{yp(e)}catch(l){qe(e,s,l)}break;case 5:var o=e.return;try{yp(e)}catch(l){qe(e,o,l)}}}catch(l){qe(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var KR=Math.ceil,hu=Mr.ReactCurrentDispatcher,ag=Mr.ReactCurrentOwner,pn=Mr.ReactCurrentBatchConfig,Ce=0,st=null,Je=null,lt=0,Xt=0,Vs=Ci(0),tt=0,qa=null,Qi=0,rd=0,lg=0,wa=null,Ot=null,cg=0,yo=1/0,mr=null,fu=!1,bp=null,ai=null,Ql=!1,ei=null,pu=0,ba=0,Sp=null,Mc=-1,Ac=0;function kt(){return Ce&6?Ke():Mc!==-1?Mc:Mc=Ke()}function li(t){return t.mode&1?Ce&2&&lt!==0?lt&-lt:RR.transition!==null?(Ac===0&&(Ac=Yb()),Ac):(t=je,t!==0||(t=window.event,t=t===void 0?16:r1(t.type)),t):1}function Tn(t,e,n,r){if(50<ba)throw ba=0,Sp=null,Error(U(185));wl(t,n,r),(!(Ce&2)||t!==st)&&(t===st&&(!(Ce&2)&&(rd|=n),tt===4&&Qr(t,lt)),Ft(t,r),n===1&&Ce===0&&!(e.mode&1)&&(yo=Ke()+500,Ju&&Ei()))}function Ft(t,e){var n=t.callbackNode;Rj(t,e);var r=Zc(t,t===st?lt:0);if(r===0)n!==null&&fy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fy(n),e===1)t.tag===0?jR(sx.bind(null,t)):S1(sx.bind(null,t)),_R(function(){!(Ce&6)&&Ei()}),n=null;else{switch(Zb(r)){case 1:n=Om;break;case 4:n=Kb;break;case 16:n=Yc;break;case 536870912:n=Xb;break;default:n=Yc}n=wS(n,fS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fS(t,e){if(Mc=-1,Ac=0,Ce&6)throw Error(U(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=Zc(t,t===st?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mu(t,r);else{e=r;var i=Ce;Ce|=2;var s=mS();(st!==t||lt!==e)&&(mr=null,yo=Ke()+500,Wi(t,e));do try{ZR();break}catch(a){pS(t,a)}while(!0);Km(),hu.current=s,Ce=i,Je!==null?e=0:(st=null,lt=0,e=tt)}if(e!==0){if(e===2&&(i=Xf(t),i!==0&&(r=i,e=kp(t,i))),e===1)throw n=qa,Wi(t,0),Qr(t,r),Ft(t,Ke()),n;if(e===6)Qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!XR(i)&&(e=mu(t,r),e===2&&(s=Xf(t),s!==0&&(r=s,e=kp(t,s))),e===1))throw n=qa,Wi(t,0),Qr(t,r),Ft(t,Ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Li(t,Ot,mr);break;case 3:if(Qr(t,r),(r&130023424)===r&&(e=cg+500-Ke(),10<e)){if(Zc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rp(Li.bind(null,t,Ot,mr),e);break}Li(t,Ot,mr);break;case 4:if(Qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KR(r/1960))-r,10<r){t.timeoutHandle=rp(Li.bind(null,t,Ot,mr),r);break}Li(t,Ot,mr);break;case 5:Li(t,Ot,mr);break;default:throw Error(U(329))}}}return Ft(t,Ke()),t.callbackNode===n?fS.bind(null,t):null}function kp(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(Wi(t,e).flags|=256),t=mu(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&Cp(e)),t}function Cp(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function XR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(t,e){for(e&=~lg,e&=~rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nn(e),r=1<<n;t[n]=-1,e&=~r}}function sx(t){if(Ce&6)throw Error(U(327));Zs();var e=Zc(t,0);if(!(e&1))return Ft(t,Ke()),null;var n=mu(t,e);if(t.tag!==0&&n===2){var r=Xf(t);r!==0&&(e=r,n=kp(t,r))}if(n===1)throw n=qa,Wi(t,0),Qr(t,e),Ft(t,Ke()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,Ot,mr),Ft(t,Ke()),null}function ug(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(yo=Ke()+500,Ju&&Ei())}}function Ji(t){ei!==null&&ei.tag===0&&!(Ce&6)&&Zs();var e=Ce;Ce|=1;var n=pn.transition,r=je;try{if(pn.transition=null,je=1,t)return t()}finally{je=r,pn.transition=n,Ce=e,!(Ce&6)&&Ei()}}function dg(){Xt=Vs.current,$e(Vs)}function Wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ER(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Hm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nu();break;case 3:go(),$e(Dt),$e(gt),eg();break;case 5:Jm(r);break;case 4:go();break;case 13:$e(Ve);break;case 19:$e(Ve);break;case 10:Xm(r.type._context);break;case 22:case 23:dg()}n=n.return}if(st=t,Je=t=ci(t.current,null),lt=Xt=e,tt=0,qa=null,lg=rd=Qi=0,Ot=wa=null,Fi!==null){for(e=0;e<Fi.length;e++)if(n=Fi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Fi=null}return t}function pS(t,e){do{var n=Je;try{if(Km(),Pc.current=du,uu){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uu=!1}if(Zi=0,it=et=We=null,ya=!1,Wa=0,ag.current=null,n===null||n.return===null){tt=1,qa=e,Je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=qy(o);if(p!==null){p.flags&=-257,Gy(p,o,a,s,e),p.mode&1&&Hy(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Hy(s,c,e),hg();break e}l=Error(U(426))}}else if(Fe&&a.mode&1){var w=qy(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Gy(w,o,a,s,e),qm(vo(l,a));break e}}s=l=vo(l,a),tt!==4&&(tt=2),wa===null?wa=[s]:wa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Z1(s,l,e);$y(s,y);break e;case 1:a=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ai===null||!ai.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Q1(s,a,e);$y(s,S);break e}}s=s.return}while(s!==null)}vS(n)}catch(C){e=C,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function mS(){var t=hu.current;return hu.current=du,t===null?du:t}function hg(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||!(Qi&268435455)&&!(rd&268435455)||Qr(st,lt)}function mu(t,e){var n=Ce;Ce|=2;var r=mS();(st!==t||lt!==e)&&(mr=null,Wi(t,e));do try{YR();break}catch(i){pS(t,i)}while(!0);if(Km(),Ce=n,hu.current=r,Je!==null)throw Error(U(261));return st=null,lt=0,tt}function YR(){for(;Je!==null;)gS(Je)}function ZR(){for(;Je!==null&&!Sj();)gS(Je)}function gS(t){var e=xS(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?vS(t):Je=e,ag.current=null}function vS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UR(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Je=null;return}}else if(n=WR(n,e,Xt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);tt===0&&(tt=5)}function Li(t,e,n){var r=je,i=pn.transition;try{pn.transition=null,je=1,QR(t,e,n,r)}finally{pn.transition=i,je=r}return null}function QR(t,e,n,r){do Zs();while(ei!==null);if(Ce&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mj(t,s),t===st&&(Je=st=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ql||(Ql=!0,wS(Yc,function(){return Zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=je;je=1;var a=Ce;Ce|=4,ag.current=null,qR(t,n),dS(n,t),yR(tp),Qc=!!ep,tp=ep=null,t.current=n,GR(n),kj(),Ce=a,je=o,pn.transition=s}else t.current=n;if(Ql&&(Ql=!1,ei=t,pu=i),s=t.pendingLanes,s===0&&(ai=null),_j(n.stateNode),Ft(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fu)throw fu=!1,t=bp,bp=null,t;return pu&1&&t.tag!==0&&Zs(),s=t.pendingLanes,s&1?t===Sp?ba++:(ba=0,Sp=t):ba=0,Ei(),null}function Zs(){if(ei!==null){var t=Zb(pu),e=pn.transition,n=je;try{if(pn.transition=null,je=16>t?16:t,ei===null)var r=!1;else{if(t=ei,ei=null,pu=0,Ce&6)throw Error(U(331));var i=Ce;for(Ce|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:xa(8,u,s)}var d=u.child;if(d!==null)d.return=u,Z=d;else for(;Z!==null;){u=Z;var f=u.sibling,p=u.return;if(lS(u),u===c){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xa(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Z=y;break e}Z=s.return}}var x=t.current;for(Z=x;Z!==null;){o=Z;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Z=b;else e:for(o=x;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nd(9,a)}}catch(C){qe(a,a.return,C)}if(a===o){Z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Z=S;break e}Z=a.return}}if(Ce=i,Ei(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Ku,t)}catch{}r=!0}return r}finally{je=n,pn.transition=e}}return!1}function ox(t,e,n){e=vo(n,e),e=Z1(t,e,1),t=oi(t,e,1),e=kt(),t!==null&&(wl(t,1,e),Ft(t,e))}function qe(t,e,n){if(t.tag===3)ox(t,t,n);else for(;e!==null;){if(e.tag===3){ox(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){t=vo(n,t),t=Q1(e,t,1),e=oi(e,t,1),t=kt(),e!==null&&(wl(e,1,t),Ft(e,t));break}}e=e.return}}function JR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(lt&n)===n&&(tt===4||tt===3&&(lt&130023424)===lt&&500>Ke()-cg?Wi(t,0):lg|=n),Ft(t,e)}function yS(t,e){e===0&&(t.mode&1?(e=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):e=1);var n=kt();t=Nr(t,e),t!==null&&(wl(t,e,n),Ft(t,n))}function e2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yS(t,n)}function t2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),yS(t,n)}var xS;xS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,VR(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Fe&&e.flags&1048576&&k1(e,su,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rc(t,e),t=e.pendingProps;var i=fo(e,gt.current);Ys(e,n),i=ng(null,e,r,t,i,n);var s=rg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(s=!0,ru(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zm(e),i.updater=td,e.stateNode=i,i._reactInternals=e,up(e,r,t,n),e=fp(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&Um(e),St(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=r2(r),t=Sn(r,t),i){case 0:e=hp(null,e,r,t,n);break e;case 1:e=Yy(null,e,r,t,n);break e;case 11:e=Ky(null,e,r,t,n);break e;case 14:e=Xy(null,e,r,Sn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),hp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Yy(t,e,r,i,n);case 3:e:{if(nS(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,P1(t,e),lu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vo(Error(U(423)),e),e=Zy(t,e,r,n,i);break e}else if(r!==i){i=vo(Error(U(424)),e),e=Zy(t,e,r,n,i);break e}else for(Zt=si(e.stateNode.containerInfo.firstChild),Jt=e,Fe=!0,Cn=null,n=N1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(po(),r===i){e=Tr(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 5:return j1(e),t===null&&ap(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,np(r,i)?o=null:s!==null&&np(r,s)&&(e.flags|=32),tS(t,e),St(t,e,o,n),e.child;case 6:return t===null&&ap(e),null;case 13:return rS(t,e,n);case 4:return Qm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mo(e,null,r,n):St(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Ky(t,e,r,i,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(ou,r._currentValue),r._currentValue=o,s!==null)if(Rn(s.value,o)){if(s.children===i.children&&!Dt.current){e=Tr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Cr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),lp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}St(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ys(e,n),i=mn(i),r=r(i),e.flags|=1,St(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),Xy(t,e,r,i,n);case 15:return J1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Rc(t,e),e.tag=1,$t(r)?(t=!0,ru(e)):t=!1,Ys(e,n),Y1(e,r,i),up(e,r,i,n),fp(null,e,r,!0,t,n);case 19:return iS(t,e,n);case 22:return eS(t,e,n)}throw Error(U(156,e.tag))};function wS(t,e){return Gb(t,e)}function n2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new n2(t,e,n,r)}function fg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r2(t){if(typeof t=="function")return fg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mm)return 11;if(t===Am)return 14}return 2}function ci(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ic(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")fg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ms:return Ui(n.children,i,s,e);case Rm:o=8,i|=8;break;case If:return t=hn(12,n,e,i|2),t.elementType=If,t.lanes=s,t;case Of:return t=hn(13,n,e,i),t.elementType=Of,t.lanes=s,t;case Lf:return t=hn(19,n,e,i),t.elementType=Lf,t.lanes=s,t;case jb:return id(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tb:o=10;break e;case Pb:o=9;break e;case Mm:o=11;break e;case Am:o=14;break e;case Xr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ui(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function id(t,e,n,r){return t=hn(22,t,r,e),t.elementType=jb,t.lanes=n,t.stateNode={isHidden:!1},t}function Rh(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function Mh(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hh(0),this.expirationTimes=hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pg(t,e,n,r,i,s,o,a,l){return t=new i2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zm(s),t}function s2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bS(t){if(!t)return pi;t=t._reactInternals;e:{if(ps(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if($t(n))return b1(t,n,e)}return e}function SS(t,e,n,r,i,s,o,a,l){return t=pg(n,r,!0,t,i,s,o,a,l),t.context=bS(null),n=t.current,r=kt(),i=li(n),s=Cr(r,i),s.callback=e??null,oi(n,s,i),t.current.lanes=i,wl(t,i,r),Ft(t,r),t}function sd(t,e,n,r){var i=e.current,s=kt(),o=li(i);return n=bS(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oi(i,e,o),t!==null&&(Tn(t,i,o,s),Tc(t,i,o)),o}function gu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ax(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mg(t,e){ax(t,e),(t=t.alternate)&&ax(t,e)}function o2(){return null}var kS=typeof reportError=="function"?reportError:function(t){console.error(t)};function gg(t){this._internalRoot=t}od.prototype.render=gg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));sd(t,e,null,null)};od.prototype.unmount=gg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ji(function(){sd(null,t,null,null)}),e[_r]=null}};function od(t){this._internalRoot=t}od.prototype.unstable_scheduleHydration=function(t){if(t){var e=e1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zr.length&&e!==0&&e<Zr[n].priority;n++);Zr.splice(n,0,t),n===0&&n1(t)}};function vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lx(){}function a2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=gu(o);s.call(c)}}var o=SS(e,r,t,0,null,!1,!1,"",lx);return t._reactRootContainer=o,t[_r]=o.current,Da(t.nodeType===8?t.parentNode:t),Ji(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=gu(l);a.call(c)}}var l=pg(t,0,!1,null,null,!1,!1,"",lx);return t._reactRootContainer=l,t[_r]=l.current,Da(t.nodeType===8?t.parentNode:t),Ji(function(){sd(e,l,n,r)}),l}function ld(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=gu(o);a.call(l)}}sd(e,o,t,i)}else o=a2(n,e,t,i,r);return gu(o)}Qb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=oa(e.pendingLanes);n!==0&&(Lm(e,n|1),Ft(e,Ke()),!(Ce&6)&&(yo=Ke()+500,Ei()))}break;case 13:Ji(function(){var r=Nr(t,1);if(r!==null){var i=kt();Tn(r,t,1,i)}}),mg(t,1)}};zm=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=kt();Tn(e,t,134217728,n)}mg(t,134217728)}};Jb=function(t){if(t.tag===13){var e=li(t),n=Nr(t,e);if(n!==null){var r=kt();Tn(n,t,e,r)}mg(t,e)}};e1=function(){return je};t1=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};qf=function(t,e,n){switch(e){case"input":if($f(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qu(r);if(!i)throw Error(U(90));Mb(r),$f(r,i)}}}break;case"textarea":Ib(t,n);break;case"select":e=n.value,e!=null&&qs(t,!!n.multiple,e,!1)}};Bb=ug;Vb=Ji;var l2={usingClientEntryPoint:!1,Events:[Sl,Ls,Qu,$b,Fb,ug]},Yo={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c2={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hb(t),t===null?null:t.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||o2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{Ku=Jl.inject(c2),Qn=Jl}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l2;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vg(e))throw Error(U(200));return s2(t,e,null,n)};sn.createRoot=function(t,e){if(!vg(t))throw Error(U(299));var n=!1,r="",i=kS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pg(t,1,!1,null,null,n,!1,r,i),t[_r]=e.current,Da(t.nodeType===8?t.parentNode:t),new gg(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Hb(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return Ji(t)};sn.hydrate=function(t,e,n){if(!ad(e))throw Error(U(200));return ld(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!vg(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=SS(e,null,t,1,n??null,i,!1,s,o),t[_r]=e.current,Da(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new od(e)};sn.render=function(t,e,n){if(!ad(e))throw Error(U(200));return ld(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!ad(t))throw Error(U(40));return t._reactRootContainer?(Ji(function(){ld(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};sn.unstable_batchedUpdates=ug;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ad(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return ld(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function CS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CS)}catch(t){console.error(t)}}CS(),Cb.exports=sn;var ms=Cb.exports;const u2=yl(ms);var cx=ms;Mf.createRoot=cx.createRoot,Mf.hydrateRoot=cx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ga.apply(this,arguments)}var ti;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ti||(ti={}));const ux="popstate";function d2(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=gs(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ep("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:vu(s))}function r(i,s){yg(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return f2(e,n,r,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h2(){return Math.random().toString(36).substr(2,8)}function dx(t,e){return{usr:t.state,key:t.key,idx:e}}function Ep(t,e,n,r){return n===void 0&&(n=null),Ga({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gs(e):e,{state:n,key:e&&e.key||r||h2()})}function vu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function f2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ti.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ga({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ti.Pop;let w=u(),y=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:y})}function f(w,y){a=ti.Push;let x=Ep(m.location,w,y);n&&n(x,w),c=u()+1;let b=dx(x,c),S=m.createHref(x);try{o.pushState(b,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}s&&l&&l({action:a,location:m.location,delta:1})}function p(w,y){a=ti.Replace;let x=Ep(m.location,w,y);n&&n(x,w),c=u();let b=dx(x,c),S=m.createHref(x);o.replaceState(b,"",S),s&&l&&l({action:a,location:m.location,delta:0})}function g(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:vu(w);return x=x.replace(/ $/,"%20"),Ue(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ux,d),l=w,()=>{i.removeEventListener(ux,d),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(w){return o.go(w)}};return m}var hx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hx||(hx={}));function p2(t,e,n){return n===void 0&&(n="/"),m2(t,e,n)}function m2(t,e,n,r){let i=typeof e=="string"?gs(e):e,s=xo(i.pathname||"/",n);if(s==null)return null;let o=ES(t);g2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=N2(s);a=E2(o[l],c)}return a}function ES(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ui([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ES(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:k2(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _S(s.path))i(s,o,l)}),e}function _S(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_S(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function g2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:C2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const v2=/^:[\w-]+$/,y2=3,x2=2,w2=1,b2=10,S2=-2,fx=t=>t==="*";function k2(t,e){let n=t.split("/"),r=n.length;return n.some(fx)&&(r+=S2),e&&(r+=x2),n.filter(i=>!fx(i)).reduce((i,s)=>i+(v2.test(s)?y2:s===""?w2:b2),r)}function C2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function E2(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=_p({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ui([s,d.pathname]),pathnameBase:R2(ui([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=ui([s,d.pathnameBase]))}return o}function _p(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function _2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function N2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function T2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gs(t):t;return{pathname:n?n.startsWith("/")?n:P2(n,e):e,search:M2(r),hash:A2(i)}}function P2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ah(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function j2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xg(t,e){let n=j2(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=gs(t):(i=Ga({},t),Ue(!i.pathname||!i.pathname.includes("?"),Ah("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),Ah("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),Ah("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=T2(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ui=t=>t.join("/").replace(/\/\/+/g,"/"),R2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),M2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function I2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NS=["post","put","patch","delete"];new Set(NS);const O2=["get",...NS];new Set(O2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}const cd=v.createContext(null),TS=v.createContext(null),Ar=v.createContext(null),ud=v.createContext(null),Ir=v.createContext({outlet:null,matches:[],isDataRoute:!1}),PS=v.createContext(null);function L2(t,e){let{relative:n}=e===void 0?{}:e;Ro()||Ue(!1);let{basename:r,navigator:i}=v.useContext(Ar),{hash:s,pathname:o,search:a}=dd(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ui([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ro(){return v.useContext(ud)!=null}function Or(){return Ro()||Ue(!1),v.useContext(ud).location}function jS(t){v.useContext(Ar).static||v.useLayoutEffect(t)}function ut(){let{isDataRoute:t}=v.useContext(Ir);return t?X2():z2()}function z2(){Ro()||Ue(!1);let t=v.useContext(cd),{basename:e,future:n,navigator:r}=v.useContext(Ar),{matches:i}=v.useContext(Ir),{pathname:s}=Or(),o=JSON.stringify(xg(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return jS(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=wg(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ui([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function vs(){let{matches:t}=v.useContext(Ir),e=t[t.length-1];return e?e.params:{}}function dd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Ar),{matches:i}=v.useContext(Ir),{pathname:s}=Or(),o=JSON.stringify(xg(i,r.v7_relativeSplatPath));return v.useMemo(()=>wg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function D2(t,e){return $2(t,e)}function $2(t,e,n,r){Ro()||Ue(!1);let{navigator:i,static:s}=v.useContext(Ar),{matches:o}=v.useContext(Ir),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Or(),d;if(e){var f;let y=typeof e=="string"?gs(e):e;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Ue(!1),d=y}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=p2(t,{pathname:g}),w=U2(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ui([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ui([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&w?v.createElement(ud.Provider,{value:{location:Ka({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ti.Pop}},w):w}function F2(){let t=K2(),e=I2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const B2=v.createElement(F2,null);class V2 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Ir.Provider,{value:this.props.routeContext},v.createElement(PS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W2(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(cd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Ir.Provider,{value:e},r)}function U2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ue(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,g=!1,m=null,w=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||B2,l&&(c<0&&f===0?(Y2("route-fallback"),g=!0,w=null):c===f&&(g=!0,w=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),x=()=>{let b;return p?b=m:g?b=w:d.route.Component?b=v.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,v.createElement(W2,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(V2,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var RS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RS||{}),MS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(MS||{});function H2(t){let e=v.useContext(cd);return e||Ue(!1),e}function q2(t){let e=v.useContext(TS);return e||Ue(!1),e}function G2(t){let e=v.useContext(Ir);return e||Ue(!1),e}function AS(t){let e=G2(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function K2(){var t;let e=v.useContext(PS),n=q2(),r=AS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function X2(){let{router:t}=H2(RS.UseNavigateStable),e=AS(MS.UseNavigateStable),n=v.useRef(!1);return jS(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ka({fromRouteId:e},s)))},[t,e])}const px={};function Y2(t,e,n){px[t]||(px[t]=!0)}function Z2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function di(t){let{to:e,replace:n,state:r,relative:i}=t;Ro()||Ue(!1);let{future:s,static:o}=v.useContext(Ar),{matches:a}=v.useContext(Ir),{pathname:l}=Or(),c=ut(),u=wg(e,xg(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return v.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Qe(t){Ue(!1)}function Q2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ti.Pop,navigator:s,static:o=!1,future:a}=t;Ro()&&Ue(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:o,future:Ka({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=gs(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,m=v.useMemo(()=>{let w=xo(u,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:p,key:g},navigationType:i}},[l,u,d,f,p,g,i]);return m==null?null:v.createElement(Ar.Provider,{value:c},v.createElement(ud.Provider,{children:n,value:m}))}function IS(t){let{children:e,location:n}=t;return D2(Np(e),n)}new Promise(()=>{});function Np(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Np(r.props.children,s));return}r.type!==Qe&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Np(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(this,arguments)}function OS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function J2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eM(t,e){return t.button===0&&(!e||e==="_self")&&!J2(t)}const tM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nM=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rM="6";try{window.__reactRouterVersion=rM}catch{}const iM=v.createContext({isTransitioning:!1}),sM="startTransition",mx=Sb[sM];function oM(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=d2({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=v.useCallback(d=>{c&&mx?mx(()=>l(d)):l(d)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.useEffect(()=>Z2(r),[r]),v.createElement(Q2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const aM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cM=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=OS(e,tM),{basename:p}=v.useContext(Ar),g,m=!1;if(typeof c=="string"&&lM.test(c)&&(g=c,aM))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),C=xo(S.pathname,p);S.origin===b.origin&&C!=null?c=C+S.search+S.hash:m=!0}catch{}let w=L2(c,{relative:i}),y=hM(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function x(b){r&&r(b),b.defaultPrevented||y(b)}return v.createElement("a",yu({},f,{href:g||w,onClick:m||s?r:x,ref:n,target:l}))}),uM=v.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=OS(e,nM),f=dd(l,{relative:d.relative}),p=Or(),g=v.useContext(TS),{navigator:m,basename:w}=v.useContext(Ar),y=g!=null&&fM(f)&&c===!0,x=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,b=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(b=b.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&w&&(S=xo(S,w)||S);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=b===x||!o&&b.startsWith(x)&&b.charAt(C)==="/",_=S!=null&&(S===x||!o&&S.startsWith(x)&&S.charAt(x.length)==="/"),N={isActive:k,isPending:_,isTransitioning:y},M=k?r:void 0,R;typeof s=="function"?R=s(N):R=[s,k?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(N):a;return v.createElement(cM,yu({},d,{"aria-current":M,className:R,ref:n,style:j,to:l,viewTransition:c}),typeof u=="function"?u(N):u)});var Tp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tp||(Tp={}));var gx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gx||(gx={}));function dM(t){let e=v.useContext(cd);return e||Ue(!1),e}function hM(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ut(),c=Or(),u=dd(t,{relative:o});return v.useCallback(d=>{if(eM(d,n)){d.preventDefault();let f=r!==void 0?r:vu(c)===vu(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function fM(t,e){e===void 0&&(e={});let n=v.useContext(iM);n==null&&Ue(!1);let{basename:r}=dM(Tp.useViewTransitionState),i=dd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=xo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=xo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _p(i.pathname,o)!=null||_p(i.pathname,s)!=null}const pM={},vx=t=>{let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(g=>g(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(pM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},mM=t=>t?vx(t):vx;var LS={exports:{}},zS={},DS={exports:{}},$S={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=v;function gM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vM=typeof Object.is=="function"?Object.is:gM,yM=wo.useState,xM=wo.useEffect,wM=wo.useLayoutEffect,bM=wo.useDebugValue;function SM(t,e){var n=e(),r=yM({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return wM(function(){i.value=n,i.getSnapshot=e,Ih(i)&&s({inst:i})},[t,n,e]),xM(function(){return Ih(i)&&s({inst:i}),t(function(){Ih(i)&&s({inst:i})})},[t]),bM(n),n}function Ih(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vM(t,n)}catch{return!0}}function kM(t,e){return e()}var CM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kM:SM;$S.useSyncExternalStore=wo.useSyncExternalStore!==void 0?wo.useSyncExternalStore:CM;DS.exports=$S;var EM=DS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=v,_M=EM;function NM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var TM=typeof Object.is=="function"?Object.is:NM,PM=_M.useSyncExternalStore,jM=hd.useRef,RM=hd.useEffect,MM=hd.useMemo,AM=hd.useDebugValue;zS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=jM(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=MM(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return d=g}return d=p}if(g=d,TM(u,p))return g;var m=r(p);return i!==void 0&&i(g,m)?(u=p,g):(u=p,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=PM(t,s[0],s[1]);return RM(function(){o.hasValue=!0,o.value=a},[a]),AM(a),a};LS.exports=zS;var IM=LS.exports;const FS=yl(IM),BS={},{useDebugValue:OM}=Re,{useSyncExternalStoreWithSelector:LM}=FS;let yx=!1;const zM=t=>t;function DM(t,e=zM,n){(BS?"production":void 0)!=="production"&&n&&!yx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),yx=!0);const r=LM(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return OM(r),r}const xx=t=>{(BS?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?mM(t):t,n=(r,i)=>DM(e,r,i);return Object.assign(n,e),n},_i=t=>t?xx(t):xx;function VS(t,e){return function(){return t.apply(e,arguments)}}const{toString:$M}=Object.prototype,{getPrototypeOf:bg}=Object,fd=(t=>e=>{const n=$M.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zn=t=>(t=t.toLowerCase(),e=>fd(e)===t),pd=t=>e=>typeof e===t,{isArray:Mo}=Array,Xa=pd("undefined");function FM(t){return t!==null&&!Xa(t)&&t.constructor!==null&&!Xa(t.constructor)&&en(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WS=zn("ArrayBuffer");function BM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&WS(t.buffer),e}const VM=pd("string"),en=pd("function"),US=pd("number"),md=t=>t!==null&&typeof t=="object",WM=t=>t===!0||t===!1,Oc=t=>{if(fd(t)!=="object")return!1;const e=bg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},UM=zn("Date"),HM=zn("File"),qM=zn("Blob"),GM=zn("FileList"),KM=t=>md(t)&&en(t.pipe),XM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||en(t.append)&&((e=fd(t))==="formdata"||e==="object"&&en(t.toString)&&t.toString()==="[object FormData]"))},YM=zn("URLSearchParams"),[ZM,QM,JM,eA]=["ReadableStream","Request","Response","Headers"].map(zn),tA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Mo(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function HS(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qS=t=>!Xa(t)&&t!==Vi;function Pp(){const{caseless:t}=qS(this)&&this||{},e={},n=(r,i)=>{const s=t&&HS(e,i)||i;Oc(e[s])&&Oc(r)?e[s]=Pp(e[s],r):Oc(r)?e[s]=Pp({},r):Mo(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Cl(arguments[r],n);return e}const nA=(t,e,n,{allOwnKeys:r}={})=>(Cl(e,(i,s)=>{n&&en(i)?t[s]=VS(i,n):t[s]=i},{allOwnKeys:r}),t),rA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iA=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},sA=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&bg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},oA=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},aA=t=>{if(!t)return null;if(Mo(t))return t;let e=t.length;if(!US(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},lA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bg(Uint8Array)),cA=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},uA=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},dA=zn("HTMLFormElement"),hA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),wx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),fA=zn("RegExp"),GS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Cl(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},pA=t=>{GS(t,(e,n)=>{if(en(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(en(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mA=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Mo(t)?r(t):r(String(t).split(e)),n},gA=()=>{},vA=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function yA(t){return!!(t&&en(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const xA=t=>{const e=new Array(10),n=(r,i)=>{if(md(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Mo(r)?[]:{};return Cl(r,(o,a)=>{const l=n(o,i+1);!Xa(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},wA=zn("AsyncFunction"),bA=t=>t&&(md(t)||en(t))&&en(t.then)&&en(t.catch),KS=((t,e)=>t?setImmediate:e?((n,r)=>(Vi.addEventListener("message",({source:i,data:s})=>{i===Vi&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Vi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",en(Vi.postMessage)),SA=typeof queueMicrotask<"u"?queueMicrotask.bind(Vi):typeof process<"u"&&process.nextTick||KS,z={isArray:Mo,isArrayBuffer:WS,isBuffer:FM,isFormData:XM,isArrayBufferView:BM,isString:VM,isNumber:US,isBoolean:WM,isObject:md,isPlainObject:Oc,isReadableStream:ZM,isRequest:QM,isResponse:JM,isHeaders:eA,isUndefined:Xa,isDate:UM,isFile:HM,isBlob:qM,isRegExp:fA,isFunction:en,isStream:KM,isURLSearchParams:YM,isTypedArray:lA,isFileList:GM,forEach:Cl,merge:Pp,extend:nA,trim:tA,stripBOM:rA,inherits:iA,toFlatObject:sA,kindOf:fd,kindOfTest:zn,endsWith:oA,toArray:aA,forEachEntry:cA,matchAll:uA,isHTMLForm:dA,hasOwnProperty:wx,hasOwnProp:wx,reduceDescriptors:GS,freezeMethods:pA,toObjectSet:mA,toCamelCase:hA,noop:gA,toFiniteNumber:vA,findKey:HS,global:Vi,isContextDefined:qS,isSpecCompliantForm:yA,toJSONObject:xA,isAsyncFn:wA,isThenable:bA,setImmediate:KS,asap:SA};function ue(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}z.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const XS=ue.prototype,YS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YS[t]={value:t}});Object.defineProperties(ue,YS);Object.defineProperty(XS,"isAxiosError",{value:!0});ue.from=(t,e,n,r,i,s)=>{const o=Object.create(XS);return z.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ue.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const kA=null;function jp(t){return z.isPlainObject(t)||z.isArray(t)}function ZS(t){return z.endsWith(t,"[]")?t.slice(0,-2):t}function bx(t,e,n){return t?t.concat(e).map(function(i,s){return i=ZS(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function CA(t){return z.isArray(t)&&!t.some(jp)}const EA=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function gd(t,e,n){if(!z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!z.isUndefined(w[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(z.isDate(g))return g.toISOString();if(!l&&z.isBlob(g))throw new ue("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(g)||z.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,w){let y=g;if(g&&!w&&typeof g=="object"){if(z.endsWith(m,"{}"))m=r?m:m.slice(0,-2),g=JSON.stringify(g);else if(z.isArray(g)&&CA(g)||(z.isFileList(g)||z.endsWith(m,"[]"))&&(y=z.toArray(g)))return m=ZS(m),y.forEach(function(b,S){!(z.isUndefined(b)||b===null)&&e.append(o===!0?bx([m],S,s):o===null?m:m+"[]",c(b))}),!1}return jp(g)?!0:(e.append(bx(w,m,s),c(g)),!1)}const d=[],f=Object.assign(EA,{defaultVisitor:u,convertValue:c,isVisitable:jp});function p(g,m){if(!z.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),z.forEach(g,function(y,x){(!(z.isUndefined(y)||y===null)&&i.call(e,y,z.isString(x)?x.trim():x,m,f))===!0&&p(y,m?m.concat(x):[x])}),d.pop()}}if(!z.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Sx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Sg(t,e){this._pairs=[],t&&gd(t,this,e)}const QS=Sg.prototype;QS.append=function(e,n){this._pairs.push([e,n])};QS.toString=function(e){const n=e?function(r){return e.call(this,r,Sx)}:Sx;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _A(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JS(t,e,n){if(!e)return t;const r=n&&n.encode||_A;z.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=z.isURLSearchParams(e)?e.toString():new Sg(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class kx{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ek={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},NA=typeof URLSearchParams<"u"?URLSearchParams:Sg,TA=typeof FormData<"u"?FormData:null,PA=typeof Blob<"u"?Blob:null,jA={isBrowser:!0,classes:{URLSearchParams:NA,FormData:TA,Blob:PA},protocols:["http","https","file","blob","url","data"]},kg=typeof window<"u"&&typeof document<"u",Rp=typeof navigator=="object"&&navigator||void 0,RA=kg&&(!Rp||["ReactNative","NativeScript","NS"].indexOf(Rp.product)<0),MA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AA=kg&&window.location.href||"http://localhost",IA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kg,hasStandardBrowserEnv:RA,hasStandardBrowserWebWorkerEnv:MA,navigator:Rp,origin:AA},Symbol.toStringTag,{value:"Module"})),pt={...IA,...jA};function OA(t,e){return gd(t,new pt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return pt.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function LA(t){return z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zA(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function tk(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&z.isArray(i)?i.length:o,l?(z.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!z.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&z.isArray(i[o])&&(i[o]=zA(i[o])),!a)}if(z.isFormData(t)&&z.isFunction(t.entries)){const n={};return z.forEachEntry(t,(r,i)=>{e(LA(r),i,n,0)}),n}return null}function DA(t,e,n){if(z.isString(t))try{return(e||JSON.parse)(t),z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const El={transitional:ek,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=z.isObject(e);if(s&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return i?JSON.stringify(tk(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return OA(e,this.formSerializer).toString();if((a=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return gd(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),DA(e)):e}],transformResponse:[function(e){const n=this.transitional||El.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ue.from(a,ue.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pt.classes.FormData,Blob:pt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],t=>{El.headers[t]={}});const $A=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FA=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&$A[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Cx=Symbol("internals");function Zo(t){return t&&String(t).trim().toLowerCase()}function Lc(t){return t===!1||t==null?t:z.isArray(t)?t.map(Lc):String(t)}function BA(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const VA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Oh(t,e,n,r,i){if(z.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function WA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function UA(t,e){const n=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Bt=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=Zo(l);if(!u)throw new Error("header name must be a non-empty string");const d=z.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Lc(a))}const o=(a,l)=>z.forEach(a,(c,u)=>s(c,u,l));if(z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(z.isString(e)&&(e=e.trim())&&!VA(e))o(FA(e),n);else if(z.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Zo(e),e){const r=z.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return BA(i);if(z.isFunction(n))return n.call(this,i,r);if(z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Zo(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Oh(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Zo(o),o){const a=z.findKey(r,o);a&&(!n||Oh(r,r[a],a,n))&&(delete r[a],i=!0)}}return z.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Oh(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return z.forEach(this,(i,s)=>{const o=z.findKey(r,s);if(o){n[o]=Lc(i),delete n[s];return}const a=e?WA(s):String(s).trim();a!==s&&delete n[s],n[a]=Lc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Cx]=this[Cx]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Zo(o);r[a]||(UA(i,o),r[a]=!0)}return z.isArray(e)?e.forEach(s):s(e),this}};Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Bt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});z.freezeMethods(Bt);function Lh(t,e){const n=this||El,r=e||n,i=Bt.from(r.headers);let s=r.data;return z.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function nk(t){return!!(t&&t.__CANCEL__)}function Ao(t,e,n){ue.call(this,t??"canceled",ue.ERR_CANCELED,e,n),this.name="CanceledError"}z.inherits(Ao,ue,{__CANCEL__:!0});function rk(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function HA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qA(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function GA(t,e){let n=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const xu=(t,e,n=3)=>{let r=0;const i=qA(50,250);return GA(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Ex=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},_x=t=>(...e)=>z.asap(()=>t(...e)),KA=pt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,pt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(pt.origin),pt.navigator&&/(msie|trident)/i.test(pt.navigator.userAgent)):()=>!0,XA=pt.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),z.isString(r)&&o.push("path="+r),z.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function YA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ZA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ik(t,e,n){let r=!YA(e);return t&&(r||n==!1)?ZA(t,e):e}const Nx=t=>t instanceof Bt?{...t}:t;function es(t,e){e=e||{};const n={};function r(c,u,d,f){return z.isPlainObject(c)&&z.isPlainObject(u)?z.merge.call({caseless:f},c,u):z.isPlainObject(u)?z.merge({},u):z.isArray(u)?u.slice():u}function i(c,u,d,f){if(z.isUndefined(u)){if(!z.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function s(c,u){if(!z.isUndefined(u))return r(void 0,u)}function o(c,u){if(z.isUndefined(u)){if(!z.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(Nx(c),Nx(u),d,!0)};return z.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);z.isUndefined(f)&&d!==a||(n[u]=f)}),n}const sk=t=>{const e=es({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Bt.from(o),e.url=JS(ik(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(z.isFormData(n)){if(pt.hasStandardBrowserEnv||pt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(pt.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(e)),r||r!==!1&&KA(e.url))){const c=i&&s&&XA.read(s);c&&o.set(i,c)}return e},QA=typeof XMLHttpRequest<"u",JA=QA&&function(t){return new Promise(function(n,r){const i=sk(t);let s=i.data;const o=Bt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,p,g;function m(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function y(){if(!w)return;const b=Bt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:b,config:t,request:w};rk(function(_){n(_),m()},function(_){r(_),m()},C),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(r(new ue("Request aborted",ue.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new ue("Network Error",ue.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||ek;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new ue(S,C.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,t,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&z.forEach(o.toJSON(),function(S,C){w.setRequestHeader(C,S)}),z.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),c&&([f,g]=xu(c,!0),w.addEventListener("progress",f)),l&&w.upload&&([d,p]=xu(l),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=b=>{w&&(r(!b||b.type?new Ao(null,t,w):b),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const x=HA(i.url);if(x&&pt.protocols.indexOf(x)===-1){r(new ue("Unsupported protocol "+x+":",ue.ERR_BAD_REQUEST,t));return}w.send(s||null)})},eI=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof ue?u:new Ao(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new ue(`timeout ${e} of ms exceeded`,ue.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>z.asap(a),l}},tI=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},nI=async function*(t,e){for await(const n of rI(t))yield*tI(n,e)},rI=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Tx=(t,e,n,r)=>{const i=nI(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=s+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},vd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ok=vd&&typeof ReadableStream=="function",iI=vd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ak=(t,...e)=>{try{return!!t(...e)}catch{return!1}},sI=ok&&ak(()=>{let t=!1;const e=new Request(pt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Px=64*1024,Mp=ok&&ak(()=>z.isReadableStream(new Response("").body)),wu={stream:Mp&&(t=>t.body)};vd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wu[e]&&(wu[e]=z.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ue(`Response type '${e}' is not supported`,ue.ERR_NOT_SUPPORT,r)})})})(new Response);const oI=async t=>{if(t==null)return 0;if(z.isBlob(t))return t.size;if(z.isSpecCompliantForm(t))return(await new Request(pt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(z.isArrayBufferView(t)||z.isArrayBuffer(t))return t.byteLength;if(z.isURLSearchParams(t)&&(t=t+""),z.isString(t))return(await iI(t)).byteLength},aI=async(t,e)=>{const n=z.toFiniteNumber(t.getContentLength());return n??oI(e)},lI=vd&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=sk(t);c=c?(c+"").toLowerCase():"text";let p=eI([i,s&&s.toAbortSignal()],o),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let w;try{if(l&&sI&&n!=="get"&&n!=="head"&&(w=await aI(u,r))!==0){let C=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(z.isFormData(r)&&(k=C.headers.get("content-type"))&&u.setContentType(k),C.body){const[_,N]=Ex(w,xu(_x(l)));r=Tx(C.body,Px,_,N)}}z.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;g=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let x=await fetch(g);const b=Mp&&(c==="stream"||c==="response");if(Mp&&(a||b&&m)){const C={};["status","statusText","headers"].forEach(M=>{C[M]=x[M]});const k=z.toFiniteNumber(x.headers.get("content-length")),[_,N]=a&&Ex(k,xu(_x(a),!0))||[];x=new Response(Tx(x.body,Px,_,()=>{N&&N(),m&&m()}),C)}c=c||"text";let S=await wu[z.findKey(wu,c)||"text"](x,t);return!b&&m&&m(),await new Promise((C,k)=>{rk(C,k,{data:S,headers:Bt.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:g})})}catch(y){throw m&&m(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,t,g),{cause:y.cause||y}):ue.from(y,y&&y.code,t,g)}}),Ap={http:kA,xhr:JA,fetch:lI};z.forEach(Ap,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const jx=t=>`- ${t}`,cI=t=>z.isFunction(t)||t===null||t===!1,lk={getAdapter:t=>{t=z.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!cI(n)&&(r=Ap[(o=String(n)).toLowerCase()],r===void 0))throw new ue(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(jx).join(`
`):" "+jx(s[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Ap};function zh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ao(null,t)}function Rx(t){return zh(t),t.headers=Bt.from(t.headers),t.data=Lh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lk.getAdapter(t.adapter||El.adapter)(t).then(function(r){return zh(t),r.data=Lh.call(t,t.transformResponse,r),r.headers=Bt.from(r.headers),r},function(r){return nk(r)||(zh(t),r&&r.response&&(r.response.data=Lh.call(t,t.transformResponse,r.response),r.response.headers=Bt.from(r.response.headers))),Promise.reject(r)})}const ck="1.8.4",yd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{yd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Mx={};yd.transitional=function(e,n,r){function i(s,o){return"[Axios v"+ck+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ue(i(o," has been removed"+(n?" in "+n:"")),ue.ERR_DEPRECATED);return n&&!Mx[o]&&(Mx[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};yd.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function uI(t,e,n){if(typeof t!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ue("option "+s+" must be "+l,ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ue("Unknown option "+s,ue.ERR_BAD_OPTION)}}const zc={assertOptions:uI,validators:yd},Vn=zc.validators;let Hi=class{constructor(e){this.defaults=e,this.interceptors={request:new kx,response:new kx}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=es(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&zc.assertOptions(r,{silentJSONParsing:Vn.transitional(Vn.boolean),forcedJSONParsing:Vn.transitional(Vn.boolean),clarifyTimeoutError:Vn.transitional(Vn.boolean)},!1),i!=null&&(z.isFunction(i)?n.paramsSerializer={serialize:i}:zc.assertOptions(i,{encode:Vn.function,serialize:Vn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zc.assertOptions(n,{baseUrl:Vn.spelling("baseURL"),withXsrfToken:Vn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&z.merge(s.common,s[n.method]);s&&z.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Bt.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const g=[Rx.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let p=n;for(d=0;d<f;){const g=a[d++],m=a[d++];try{p=g(p)}catch(w){m.call(this,w);break}}try{u=Rx.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=es(this.defaults,e);const n=ik(e.baseURL,e.url,e.allowAbsoluteUrls);return JS(n,e.params,e.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(e){Hi.prototype[e]=function(n,r){return this.request(es(r||{},{method:e,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(es(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Hi.prototype[e]=n(),Hi.prototype[e+"Form"]=n(!0)});let dI=class uk{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Ao(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new uk(function(i){e=i}),cancel:e}}};function hI(t){return function(n){return t.apply(null,n)}}function fI(t){return z.isObject(t)&&t.isAxiosError===!0}const Ip={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ip).forEach(([t,e])=>{Ip[e]=t});function dk(t){const e=new Hi(t),n=VS(Hi.prototype.request,e);return z.extend(n,Hi.prototype,e,{allOwnKeys:!0}),z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return dk(es(t,i))},n}const Ye=dk(El);Ye.Axios=Hi;Ye.CanceledError=Ao;Ye.CancelToken=dI;Ye.isCancel=nk;Ye.VERSION=ck;Ye.toFormData=gd;Ye.AxiosError=ue;Ye.Cancel=Ye.CanceledError;Ye.all=function(e){return Promise.all(e)};Ye.spread=hI;Ye.isAxiosError=fI;Ye.mergeConfig=es;Ye.AxiosHeaders=Bt;Ye.formToJSON=t=>tk(z.isHTMLForm(t)?new FormData(t):t);Ye.getAdapter=lk.getAdapter;Ye.HttpStatusCode=Ip;Ye.default=Ye;const{Axios:Eq,AxiosError:_q,CanceledError:Nq,isCancel:Tq,CancelToken:Pq,VERSION:jq,all:Rq,Cancel:Mq,isAxiosError:Aq,spread:Iq,toFormData:Oq,AxiosHeaders:Lq,HttpStatusCode:zq,formToJSON:Dq,getAdapter:$q,mergeConfig:Fq}=Ye,pI={};function Io(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Ya=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Ya(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ya(r)(n)}}}},mI=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,y)=>({...y,...w}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,i);const u=Ya(s.serialize),d=()=>{const w=s.partialize({...r()});let y;const x=u({state:w,version:s.version}).then(b=>c.setItem(s.name,b)).catch(b=>{y=b});if(y)throw y;return x},f=i.setState;i.setState=(w,y)=>{f(w,y),d()};const p=t((...w)=>{n(...w),d()},r,i);let g;const m=()=>{var w;if(!c)return;o=!1,a.forEach(x=>x(r()));const y=((w=s.onRehydrateStorage)==null?void 0:w.call(s,r()))||void 0;return Ya(c.getItem.bind(c))(s.name).then(x=>{if(x)return s.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return s.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var b;return g=s.merge(x,(b=r())!=null?b:p),n(g,!0),d()}).then(()=>{y==null||y(g,void 0),o=!0,l.forEach(x=>x(g))}).catch(x=>{y==null||y(void 0,x)})};return i.persist={setOptions:w=>{s={...s,...w},w.getStorage&&(c=w.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},m(),g||p},gI=(t,e)=>(n,r,i)=>{let s={storage:Io(()=>localStorage),partialize:m=>m,version:0,merge:(m,w)=>({...w,...m}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=s.partialize({...r()});return c.setItem(s.name,{state:m,version:s.version})},d=i.setState;i.setState=(m,w)=>{d(m,w),u()};const f=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>f;let p;const g=()=>{var m,w;if(!c)return;o=!1,a.forEach(x=>{var b;return x((b=r())!=null?b:f)});const y=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(m=r())!=null?m:f))||void 0;return Ya(c.getItem.bind(c))(s.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return[!0,s.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[S,C]=x;if(p=s.merge(C,(b=r())!=null?b:f),n(p,!0),S)return u()}).then(()=>{y==null||y(p,void 0),p=r(),o=!0,l.forEach(x=>x(p))}).catch(x=>{y==null||y(void 0,x)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},s.skipHydration||g(),p||f},vI=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((pI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),mI(t,e)):gI(t,e),_l=vI,ar=_i()(_l(t=>({userId:null,jwt:null,isAuthenticated:!1,isLoading:!0,login:(e,n)=>{console.log("[AuthStore] Login successful."),t({userId:e,jwt:n,isAuthenticated:!0,isLoading:!1})},logout:()=>{console.log("[AuthStore] Logout called."),t({userId:null,jwt:null,isAuthenticated:!1,isLoading:!1})}}),{name:"auth-storage",storage:Io(()=>sessionStorage),onRehydrateStorage:()=>t=>{console.log("[AuthStore] onRehydrateStorage: Hydration complete."),t?(t.isAuthenticated=!!t.jwt,t.isLoading=!1,console.log(`[AuthStore] onRehydrateStorage: State initialized. isLoading: ${t.isLoading}, isAuthenticated: ${t.isAuthenticated}`)):(console.warn("[AuthStore] onRehydrateStorage: Rehydrated state is null."),ar.setState({isLoading:!1,isAuthenticated:!1}))},partialize:t=>({userId:t.userId,jwt:t.jwt})}));var ke;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ke||(ke={}));var Op;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Op||(Op={}));const Y=ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vr=t=>{switch(typeof t){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return isNaN(t)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(t)?Y.array:t===null?Y.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Y.promise:typeof Map<"u"&&t instanceof Map?Y.map:typeof Set<"u"&&t instanceof Set?Y.set:typeof Date<"u"&&t instanceof Date?Y.date:Y.object;default:return Y.unknown}},B=ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),yI=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class tn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof tn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}tn.create=t=>new tn(t);const bo=(t,e)=>{let n;switch(t.code){case B.invalid_type:t.received===Y.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case B.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ke.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:n=`Unrecognized key(s) in object: ${ke.joinValues(t.keys,", ")}`;break;case B.invalid_union:n="Invalid input";break;case B.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ke.joinValues(t.options)}`;break;case B.invalid_enum_value:n=`Invalid enum value. Expected ${ke.joinValues(t.options)}, received '${t.received}'`;break;case B.invalid_arguments:n="Invalid function arguments";break;case B.invalid_return_type:n="Invalid function return type";break;case B.invalid_date:n="Invalid date";break;case B.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ke.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case B.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case B.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case B.custom:n="Invalid input";break;case B.invalid_intersection_types:n="Intersection results could not be merged";break;case B.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case B.not_finite:n="Number must be finite";break;default:n=e.defaultError,ke.assertNever(t)}return{message:n}};let hk=bo;function xI(t){hk=t}function bu(){return hk}const Su=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},wI=[];function K(t,e){const n=bu(),r=Su({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===bo?void 0:bo].filter(i=>!!i)});t.common.issues.push(r)}class vt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return oe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return vt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return oe;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const oe=Object.freeze({status:"aborted"}),Ws=t=>({status:"dirty",value:t}),Et=t=>({status:"valid",value:t}),Lp=t=>t.status==="aborted",zp=t=>t.status==="dirty",ts=t=>t.status==="valid",Za=t=>typeof Promise<"u"&&t instanceof Promise;function ku(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function fk(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var J;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(J||(J={}));var la,ca;class rr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ax=(t,e)=>{if(ts(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new tn(t.common.issues);return this._error=n,this._error}}};function de(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class pe{get description(){return this._def.description}_getType(e){return vr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:vr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vt,ctx:{common:e.parent.common,data:e.data,parsedType:vr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Za(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vr(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Ax(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vr(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return ts(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>ts(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vr(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Za(i)?i:Promise.resolve(i));return Ax(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:B.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Mn({schema:this,typeName:se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return er.create(this,this._def)}nullable(){return yi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pn.create(this)}promise(){return ko.create(this,this._def)}or(e){return tl.create([this,e],this._def)}and(e){return nl.create(this,e,this._def)}transform(e){return new Mn({...de(this._def),schema:this,typeName:se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new al({...de(this._def),innerType:this,defaultValue:n,typeName:se.ZodDefault})}brand(){return new Cg({typeName:se.ZodBranded,type:this,...de(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ll({...de(this._def),innerType:this,catchValue:n,typeName:se.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Nl.create(this,e)}readonly(){return cl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bI=/^c[^\s-]{8,}$/i,SI=/^[0-9a-z]+$/,kI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,CI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,EI=/^[a-z0-9_-]{21}$/i,_I=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,NI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,TI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,PI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dh;const jI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,MI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,AI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,II=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,OI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,pk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",LI=new RegExp(`^${pk}$`);function mk(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function zI(t){return new RegExp(`^${mk(t)}$`)}function gk(t){let e=`${pk}T${mk(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function DI(t,e){return!!((e==="v4"||!e)&&jI.test(t)||(e==="v6"||!e)&&MI.test(t))}function $I(t,e){if(!_I.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function FI(t,e){return!!((e==="v4"||!e)&&RI.test(t)||(e==="v6"||!e)&&AI.test(t))}class _n extends pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Y.string){const s=this._getOrReturnCtx(e);return K(s,{code:B.invalid_type,expected:Y.string,received:s.parsedType}),oe}const r=new vt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),K(i,{code:B.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),K(i,{code:B.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?K(i,{code:B.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&K(i,{code:B.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")TI.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"email",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Dh||(Dh=new RegExp(PI,"u")),Dh.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"emoji",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")CI.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"uuid",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")EI.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"nanoid",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")bI.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"cuid",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")SI.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"cuid2",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")kI.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"ulid",code:B.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),K(i,{validation:"url",code:B.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"regex",code:B.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),K(i,{code:B.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),K(i,{code:B.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),K(i,{code:B.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?gk(s).test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{code:B.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?LI.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{code:B.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?zI(s).test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{code:B.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?NI.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"duration",code:B.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?DI(e.data,s.version)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"ip",code:B.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?$I(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"jwt",code:B.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?FI(e.data,s.version)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"cidr",code:B.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?II.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"base64",code:B.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?OI.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"base64url",code:B.invalid_string,message:s.message}),r.dirty()):ke.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:B.invalid_string,...J.errToObj(r)})}_addCheck(e){return new _n({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...J.errToObj(e)})}url(e){return this._addCheck({kind:"url",...J.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...J.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...J.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...J.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...J.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...J.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...J.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...J.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...J.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...J.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...J.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...J.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...J.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...J.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...J.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...J.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...J.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...J.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...J.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...J.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...J.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...J.errToObj(n)})}nonempty(e){return this.min(1,J.errToObj(e))}trim(){return new _n({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _n({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _n({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}_n.create=t=>{var e;return new _n({checks:[],typeName:se.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...de(t)})};function BI(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class mi extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Y.number){const s=this._getOrReturnCtx(e);return K(s,{code:B.invalid_type,expected:Y.number,received:s.parsedType}),oe}let r;const i=new vt;for(const s of this._def.checks)s.kind==="int"?ke.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{code:B.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:B.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:B.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?BI(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),K(r,{code:B.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),K(r,{code:B.not_finite,message:s.message}),i.dirty()):ke.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,J.toString(n))}gt(e,n){return this.setLimit("min",e,!1,J.toString(n))}lte(e,n){return this.setLimit("max",e,!0,J.toString(n))}lt(e,n){return this.setLimit("max",e,!1,J.toString(n))}setLimit(e,n,r,i){return new mi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:J.toString(i)}]})}_addCheck(e){return new mi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:J.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:J.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ke.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}mi.create=t=>new mi({checks:[],typeName:se.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class gi extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Y.bigint)return this._getInvalidInput(e);let r;const i=new vt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:B.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),K(r,{code:B.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),K(r,{code:B.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ke.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return K(n,{code:B.invalid_type,expected:Y.bigint,received:n.parsedType}),oe}gte(e,n){return this.setLimit("min",e,!0,J.toString(n))}gt(e,n){return this.setLimit("min",e,!1,J.toString(n))}lte(e,n){return this.setLimit("max",e,!0,J.toString(n))}lt(e,n){return this.setLimit("max",e,!1,J.toString(n))}setLimit(e,n,r,i){return new gi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:J.toString(i)}]})}_addCheck(e){return new gi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}gi.create=t=>{var e;return new gi({checks:[],typeName:se.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...de(t)})};class Qa extends pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Y.boolean){const r=this._getOrReturnCtx(e);return K(r,{code:B.invalid_type,expected:Y.boolean,received:r.parsedType}),oe}return Et(e.data)}}Qa.create=t=>new Qa({typeName:se.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class ns extends pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Y.date){const s=this._getOrReturnCtx(e);return K(s,{code:B.invalid_type,expected:Y.date,received:s.parsedType}),oe}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return K(s,{code:B.invalid_date}),oe}const r=new vt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),K(i,{code:B.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),K(i,{code:B.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ke.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ns({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:J.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:J.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ns.create=t=>new ns({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:se.ZodDate,...de(t)});class Cu extends pe{_parse(e){if(this._getType(e)!==Y.symbol){const r=this._getOrReturnCtx(e);return K(r,{code:B.invalid_type,expected:Y.symbol,received:r.parsedType}),oe}return Et(e.data)}}Cu.create=t=>new Cu({typeName:se.ZodSymbol,...de(t)});class Ja extends pe{_parse(e){if(this._getType(e)!==Y.undefined){const r=this._getOrReturnCtx(e);return K(r,{code:B.invalid_type,expected:Y.undefined,received:r.parsedType}),oe}return Et(e.data)}}Ja.create=t=>new Ja({typeName:se.ZodUndefined,...de(t)});class el extends pe{_parse(e){if(this._getType(e)!==Y.null){const r=this._getOrReturnCtx(e);return K(r,{code:B.invalid_type,expected:Y.null,received:r.parsedType}),oe}return Et(e.data)}}el.create=t=>new el({typeName:se.ZodNull,...de(t)});class So extends pe{constructor(){super(...arguments),this._any=!0}_parse(e){return Et(e.data)}}So.create=t=>new So({typeName:se.ZodAny,...de(t)});class qi extends pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Et(e.data)}}qi.create=t=>new qi({typeName:se.ZodUnknown,...de(t)});class Pr extends pe{_parse(e){const n=this._getOrReturnCtx(e);return K(n,{code:B.invalid_type,expected:Y.never,received:n.parsedType}),oe}}Pr.create=t=>new Pr({typeName:se.ZodNever,...de(t)});class Eu extends pe{_parse(e){if(this._getType(e)!==Y.undefined){const r=this._getOrReturnCtx(e);return K(r,{code:B.invalid_type,expected:Y.void,received:r.parsedType}),oe}return Et(e.data)}}Eu.create=t=>new Eu({typeName:se.ZodVoid,...de(t)});class Pn extends pe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Y.array)return K(n,{code:B.invalid_type,expected:Y.array,received:n.parsedType}),oe;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(K(n,{code:o?B.too_big:B.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(K(n,{code:B.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(K(n,{code:B.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new rr(n,o,n.path,a)))).then(o=>vt.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new rr(n,o,n.path,a)));return vt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Pn({...this._def,minLength:{value:e,message:J.toString(n)}})}max(e,n){return new Pn({...this._def,maxLength:{value:e,message:J.toString(n)}})}length(e,n){return new Pn({...this._def,exactLength:{value:e,message:J.toString(n)}})}nonempty(e){return this.min(1,e)}}Pn.create=(t,e)=>new Pn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:se.ZodArray,...de(e)});function Ts(t){if(t instanceof Be){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=er.create(Ts(r))}return new Be({...t._def,shape:()=>e})}else return t instanceof Pn?new Pn({...t._def,type:Ts(t.element)}):t instanceof er?er.create(Ts(t.unwrap())):t instanceof yi?yi.create(Ts(t.unwrap())):t instanceof ir?ir.create(t.items.map(e=>Ts(e))):t}class Be extends pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ke.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Y.object){const c=this._getOrReturnCtx(e);return K(c,{code:B.invalid_type,expected:Y.object,received:c.parsedType}),oe}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Pr&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new rr(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Pr){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(K(i,{code:B.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new rr(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>vt.mergeObjectSync(r,c)):vt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return J.errToObj,new Be({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=J.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Be({...this._def,unknownKeys:"strip"})}passthrough(){return new Be({...this._def,unknownKeys:"passthrough"})}extend(e){return new Be({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Be({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:se.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Be({...this._def,catchall:e})}pick(e){const n={};return ke.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Be({...this._def,shape:()=>n})}omit(e){const n={};return ke.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Be({...this._def,shape:()=>n})}deepPartial(){return Ts(this)}partial(e){const n={};return ke.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Be({...this._def,shape:()=>n})}required(e){const n={};return ke.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof er;)s=s._def.innerType;n[r]=s}}),new Be({...this._def,shape:()=>n})}keyof(){return vk(ke.objectKeys(this.shape))}}Be.create=(t,e)=>new Be({shape:()=>t,unknownKeys:"strip",catchall:Pr.create(),typeName:se.ZodObject,...de(e)});Be.strictCreate=(t,e)=>new Be({shape:()=>t,unknownKeys:"strict",catchall:Pr.create(),typeName:se.ZodObject,...de(e)});Be.lazycreate=(t,e)=>new Be({shape:t,unknownKeys:"strip",catchall:Pr.create(),typeName:se.ZodObject,...de(e)});class tl extends pe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new tn(a.ctx.common.issues));return K(n,{code:B.invalid_union,unionErrors:o}),oe}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new tn(l));return K(n,{code:B.invalid_union,unionErrors:a}),oe}}get options(){return this._def.options}}tl.create=(t,e)=>new tl({options:t,typeName:se.ZodUnion,...de(e)});const fr=t=>t instanceof il?fr(t.schema):t instanceof Mn?fr(t.innerType()):t instanceof sl?[t.value]:t instanceof vi?t.options:t instanceof ol?ke.objectValues(t.enum):t instanceof al?fr(t._def.innerType):t instanceof Ja?[void 0]:t instanceof el?[null]:t instanceof er?[void 0,...fr(t.unwrap())]:t instanceof yi?[null,...fr(t.unwrap())]:t instanceof Cg||t instanceof cl?fr(t.unwrap()):t instanceof ll?fr(t._def.innerType):[];class xd extends pe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.object)return K(n,{code:B.invalid_type,expected:Y.object,received:n.parsedType}),oe;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(K(n,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),oe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=fr(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new xd({typeName:se.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...de(r)})}}function Dp(t,e){const n=vr(t),r=vr(e);if(t===e)return{valid:!0,data:t};if(n===Y.object&&r===Y.object){const i=ke.objectKeys(e),s=ke.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Dp(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Y.array&&r===Y.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Dp(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Y.date&&r===Y.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class nl extends pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Lp(s)||Lp(o))return oe;const a=Dp(s.value,o.value);return a.valid?((zp(s)||zp(o))&&n.dirty(),{status:n.value,value:a.data}):(K(r,{code:B.invalid_intersection_types}),oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}nl.create=(t,e,n)=>new nl({left:t,right:e,typeName:se.ZodIntersection,...de(n)});class ir extends pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.array)return K(r,{code:B.invalid_type,expected:Y.array,received:r.parsedType}),oe;if(r.data.length<this._def.items.length)return K(r,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oe;!this._def.rest&&r.data.length>this._def.items.length&&(K(r,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new rr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>vt.mergeArray(n,o)):vt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ir({...this._def,rest:e})}}ir.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ir({items:t,typeName:se.ZodTuple,rest:null,...de(e)})};class rl extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.object)return K(r,{code:B.invalid_type,expected:Y.object,received:r.parsedType}),oe;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new rr(r,a,r.path,a)),value:o._parse(new rr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?vt.mergeObjectAsync(n,i):vt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof pe?new rl({keyType:e,valueType:n,typeName:se.ZodRecord,...de(r)}):new rl({keyType:_n.create(),valueType:e,typeName:se.ZodRecord,...de(n)})}}class _u extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.map)return K(r,{code:B.invalid_type,expected:Y.map,received:r.parsedType}),oe;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new rr(r,a,r.path,[c,"key"])),value:s._parse(new rr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return oe;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return oe;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}_u.create=(t,e,n)=>new _u({valueType:e,keyType:t,typeName:se.ZodMap,...de(n)});class rs extends pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.set)return K(r,{code:B.invalid_type,expected:Y.set,received:r.parsedType}),oe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(K(r,{code:B.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(K(r,{code:B.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return oe;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new rr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new rs({...this._def,minSize:{value:e,message:J.toString(n)}})}max(e,n){return new rs({...this._def,maxSize:{value:e,message:J.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}rs.create=(t,e)=>new rs({valueType:t,minSize:null,maxSize:null,typeName:se.ZodSet,...de(e)});class Qs extends pe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.function)return K(n,{code:B.invalid_type,expected:Y.function,received:n.parsedType}),oe;function r(a,l){return Su({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,bu(),bo].filter(c=>!!c),issueData:{code:B.invalid_arguments,argumentsError:l}})}function i(a,l){return Su({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,bu(),bo].filter(c=>!!c),issueData:{code:B.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ko){const a=this;return Et(async function(...l){const c=new tn([]),u=await a._def.args.parseAsync(l,s).catch(p=>{throw c.addIssue(r(l,p)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(p=>{throw c.addIssue(i(d,p)),c})})}else{const a=this;return Et(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new tn([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new tn([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qs({...this._def,args:ir.create(e).rest(qi.create())})}returns(e){return new Qs({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Qs({args:e||ir.create([]).rest(qi.create()),returns:n||qi.create(),typeName:se.ZodFunction,...de(r)})}}class il extends pe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}il.create=(t,e)=>new il({getter:t,typeName:se.ZodLazy,...de(e)});class sl extends pe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return K(n,{received:n.data,code:B.invalid_literal,expected:this._def.value}),oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}sl.create=(t,e)=>new sl({value:t,typeName:se.ZodLiteral,...de(e)});function vk(t,e){return new vi({values:t,typeName:se.ZodEnum,...de(e)})}class vi extends pe{constructor(){super(...arguments),la.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return K(n,{expected:ke.joinValues(r),received:n.parsedType,code:B.invalid_type}),oe}if(ku(this,la)||fk(this,la,new Set(this._def.values)),!ku(this,la).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return K(n,{received:n.data,code:B.invalid_enum_value,options:r}),oe}return Et(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return vi.create(e,{...this._def,...n})}exclude(e,n=this._def){return vi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}la=new WeakMap;vi.create=vk;class ol extends pe{constructor(){super(...arguments),ca.set(this,void 0)}_parse(e){const n=ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Y.string&&r.parsedType!==Y.number){const i=ke.objectValues(n);return K(r,{expected:ke.joinValues(i),received:r.parsedType,code:B.invalid_type}),oe}if(ku(this,ca)||fk(this,ca,new Set(ke.getValidEnumValues(this._def.values))),!ku(this,ca).has(e.data)){const i=ke.objectValues(n);return K(r,{received:r.data,code:B.invalid_enum_value,options:i}),oe}return Et(e.data)}get enum(){return this._def.values}}ca=new WeakMap;ol.create=(t,e)=>new ol({values:t,typeName:se.ZodNativeEnum,...de(e)});class ko extends pe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.promise&&n.common.async===!1)return K(n,{code:B.invalid_type,expected:Y.promise,received:n.parsedType}),oe;const r=n.parsedType===Y.promise?n.data:Promise.resolve(n.data);return Et(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ko.create=(t,e)=>new ko({type:t,typeName:se.ZodPromise,...de(e)});class Mn extends pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{K(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return oe;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?oe:l.status==="dirty"||n.value==="dirty"?Ws(l.value):l});{if(n.value==="aborted")return oe;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?oe:a.status==="dirty"||n.value==="dirty"?Ws(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?oe:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?oe:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ts(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ts(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);ke.assertNever(i)}}Mn.create=(t,e,n)=>new Mn({schema:t,typeName:se.ZodEffects,effect:e,...de(n)});Mn.createWithPreprocess=(t,e,n)=>new Mn({schema:e,effect:{type:"preprocess",transform:t},typeName:se.ZodEffects,...de(n)});class er extends pe{_parse(e){return this._getType(e)===Y.undefined?Et(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}er.create=(t,e)=>new er({innerType:t,typeName:se.ZodOptional,...de(e)});class yi extends pe{_parse(e){return this._getType(e)===Y.null?Et(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yi.create=(t,e)=>new yi({innerType:t,typeName:se.ZodNullable,...de(e)});class al extends pe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Y.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...de(e)});class ll extends pe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Za(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new tn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new tn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ll.create=(t,e)=>new ll({innerType:t,typeName:se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...de(e)});class Nu extends pe{_parse(e){if(this._getType(e)!==Y.nan){const r=this._getOrReturnCtx(e);return K(r,{code:B.invalid_type,expected:Y.nan,received:r.parsedType}),oe}return{status:"valid",value:e.data}}}Nu.create=t=>new Nu({typeName:se.ZodNaN,...de(t)});const VI=Symbol("zod_brand");class Cg extends pe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Nl extends pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?oe:s.status==="dirty"?(n.dirty(),Ws(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?oe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Nl({in:e,out:n,typeName:se.ZodPipeline})}}class cl extends pe{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ts(i)&&(i.value=Object.freeze(i.value)),i);return Za(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}cl.create=(t,e)=>new cl({innerType:t,typeName:se.ZodReadonly,...de(e)});function Ix(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function yk(t,e={},n){return t?So.create().superRefine((r,i)=>{var s,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const d=Ix(e,r),f=(u=(c=d.fatal)!==null&&c!==void 0?c:n)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...d,fatal:f})}});if(!a){const l=Ix(e,r),c=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...l,fatal:c})}}):So.create()}const WI={object:Be.lazycreate};var se;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(se||(se={}));const UI=(t,e={message:`Input not instance of ${t.name}`})=>yk(n=>n instanceof t,e),xk=_n.create,wk=mi.create,HI=Nu.create,qI=gi.create,bk=Qa.create,GI=ns.create,KI=Cu.create,XI=Ja.create,YI=el.create,ZI=So.create,QI=qi.create,JI=Pr.create,eO=Eu.create,tO=Pn.create,nO=Be.create,rO=Be.strictCreate,iO=tl.create,sO=xd.create,oO=nl.create,aO=ir.create,lO=rl.create,cO=_u.create,uO=rs.create,dO=Qs.create,hO=il.create,fO=sl.create,pO=vi.create,mO=ol.create,gO=ko.create,Ox=Mn.create,vO=er.create,yO=yi.create,xO=Mn.createWithPreprocess,wO=Nl.create,bO=()=>xk().optional(),SO=()=>wk().optional(),kO=()=>bk().optional(),CO={string:t=>_n.create({...t,coerce:!0}),number:t=>mi.create({...t,coerce:!0}),boolean:t=>Qa.create({...t,coerce:!0}),bigint:t=>gi.create({...t,coerce:!0}),date:t=>ns.create({...t,coerce:!0})},EO=oe;var ec=Object.freeze({__proto__:null,defaultErrorMap:bo,setErrorMap:xI,getErrorMap:bu,makeIssue:Su,EMPTY_PATH:wI,addIssueToContext:K,ParseStatus:vt,INVALID:oe,DIRTY:Ws,OK:Et,isAborted:Lp,isDirty:zp,isValid:ts,isAsync:Za,get util(){return ke},get objectUtil(){return Op},ZodParsedType:Y,getParsedType:vr,ZodType:pe,datetimeRegex:gk,ZodString:_n,ZodNumber:mi,ZodBigInt:gi,ZodBoolean:Qa,ZodDate:ns,ZodSymbol:Cu,ZodUndefined:Ja,ZodNull:el,ZodAny:So,ZodUnknown:qi,ZodNever:Pr,ZodVoid:Eu,ZodArray:Pn,ZodObject:Be,ZodUnion:tl,ZodDiscriminatedUnion:xd,ZodIntersection:nl,ZodTuple:ir,ZodRecord:rl,ZodMap:_u,ZodSet:rs,ZodFunction:Qs,ZodLazy:il,ZodLiteral:sl,ZodEnum:vi,ZodNativeEnum:ol,ZodPromise:ko,ZodEffects:Mn,ZodTransformer:Mn,ZodOptional:er,ZodNullable:yi,ZodDefault:al,ZodCatch:ll,ZodNaN:Nu,BRAND:VI,ZodBranded:Cg,ZodPipeline:Nl,ZodReadonly:cl,custom:yk,Schema:pe,ZodSchema:pe,late:WI,get ZodFirstPartyTypeKind(){return se},coerce:CO,any:ZI,array:tO,bigint:qI,boolean:bk,date:GI,discriminatedUnion:sO,effect:Ox,enum:pO,function:dO,instanceof:UI,intersection:oO,lazy:hO,literal:fO,map:cO,nan:HI,nativeEnum:mO,never:JI,null:YI,nullable:yO,number:wk,object:nO,oboolean:kO,onumber:SO,optional:vO,ostring:bO,pipeline:wO,preprocess:xO,promise:gO,record:lO,set:uO,strictObject:rO,string:xk,symbol:KI,transformer:Ox,tuple:aO,undefined:XI,union:iO,unknown:QI,void:eO,NEVER:EO,ZodIssueCode:B,quotelessJson:yI,ZodError:tn});const _O=ec.object({apiUrl:ec.string().url(),useMock:ec.boolean().default(!1),mockInitData:ec.string().optional().default("")});let Tu=null,$h=null;async function NO(){try{console.log("[Config] Fetching config.json...");const t=await fetch("/ccc_invest_app/config.json");if(!t.ok)throw new Error(`Failed to fetch config.json: ${t.statusText}`);const e=await t.json();console.log("[Config] Raw config data:",e);const n=_O.parse(e);return console.log("[Config] Parsed config:",n),n}catch(t){throw console.error("[Config] Error loading or parsing config.json:",t),new Error("Application configuration is invalid or missing.")}}function Eg(){if(!Tu)throw console.error("[Config] getConfig called before initialization!"),new Error("Configuration not loaded");return Tu}async function TO(){if(Tu){console.warn("[Config] Already initialized.");return}$h||($h=NO());try{Tu=await $h,console.log("[Config] Initialization complete.")}catch(t){throw document.body.innerHTML='<div style="padding: 20px; text-align: center; color: red;">Failed to load application configuration. Please contact support.</div>',t}}const yt=Ye.create({});yt.interceptors.request.use(t=>{if(!t.baseURL)try{const r=Eg();t.baseURL=r.apiUrl}catch(r){return console.error("[API Interceptor] Failed to get config to set baseURL:",r),Promise.reject(new Error("Configuration not loaded, cannot set API base URL."))}const e=ar.getState().jwt,n=t.url==="/Account/LoginByTelegramUserInfo"||t.url==="/Account/LoginByLogPassPair";return e&&!n?t.headers.Authorization=`Bearer ${e}`:!e&&!n&&console.warn(`[API Interceptor] No token found for protected URL: ${t.url}`),t.url==="/Account/LoginByTelegramUserInfo"&&typeof t.data=="string"&&(t.headers["Content-Type"]="text/plain"),t},t=>(console.error("[Axios Interceptor] Request Setup Error:",t),Promise.reject(t)));yt.interceptors.response.use(t=>t,t=>{var e,n,r;if(t.response){if(console.error(`[Axios Interceptor] Response Error ${t.response.status} for ${(e=t.config)==null?void 0:e.url}:`,t.response.data),t.response.status===401)return console.error("[Axios Interceptor] Unauthorized (401). Logging out."),ar.getState().logout(),Promise.reject(new Error("Unauthorized: Please log in again."));const i=((n=t.response.data)==null?void 0:n.errorMessage)||((r=t.response.data)==null?void 0:r.title)||(typeof t.response.data=="string"?t.response.data:null)||t.response.statusText||`Request failed with status ${t.response.status}`;return Promise.reject(new Error(i))}else return t.request?(console.error("[Axios Interceptor] No response received (Network Error? Backend Down?):",t.request),Promise.reject(new Error("Network error or backend unavailable."))):(console.error("[Axios Interceptor] Request setup error:",t.message),Promise.reject(new Error(t.message||"Request setup error")))});const Sk=6048e5,PO=864e5,Lx=Symbol.for("constructDateFrom");function An(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Lx in t?t[Lx](e):t instanceof Date?new t.constructor(e):new Date(e)}function an(t,e){return An(e||t,t)}function jO(t,e,n){const r=an(t,n==null?void 0:n.in);return isNaN(e)?An(t,NaN):(r.setDate(r.getDate()+e),r)}function kk(t,e,n){const r=an(t,n==null?void 0:n.in);if(isNaN(e))return An(t,NaN);if(!e)return r;const i=r.getDate(),s=An(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}let RO={};function wd(){return RO}function is(t,e){var a,l,c,u;const n=wd(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=an(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Pu(t,e){return is(t,{...e,weekStartsOn:1})}function Ck(t,e){const n=an(t,e==null?void 0:e.in),r=n.getFullYear(),i=An(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Pu(i),o=An(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Pu(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function zx(t){const e=an(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ek(t,...e){const n=An.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function $p(t,e){const n=an(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function MO(t,e,n){const[r,i]=Ek(n==null?void 0:n.in,t,e),s=$p(r),o=$p(i),a=+s-zx(s),l=+o-zx(o);return Math.round((a-l)/PO)}function AO(t,e){const n=Ck(t,e),r=An(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Pu(r)}function IO(t,e,n){return jO(t,e*7,n)}function OO(t,e,n){return kk(t,e*12,n)}function LO(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function zO(t){return!(!LO(t)&&typeof t!="number"||isNaN(+an(t)))}function DO(t,e){const n=an(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const $O={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FO=(t,e,n)=>{let r;const i=$O[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Js(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const BO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UO={date:Js({formats:BO,defaultWidth:"full"}),time:Js({formats:VO,defaultWidth:"full"}),dateTime:Js({formats:WO,defaultWidth:"full"})},HO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qO=(t,e,n,r)=>HO[t];function Gn(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const GO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},YO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},JO=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eL={ordinalNumber:JO,era:Gn({values:GO,defaultWidth:"wide"}),quarter:Gn({values:KO,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gn({values:XO,defaultWidth:"wide"}),day:Gn({values:YO,defaultWidth:"wide"}),dayPeriod:Gn({values:ZO,defaultWidth:"wide",formattingValues:QO,defaultFormattingWidth:"wide"})};function Kn(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?nL(a,d=>d.test(o)):tL(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function tL(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nL(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function _k(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const rL=/^(\d+)(th|st|nd|rd)?/i,iL=/\d+/i,sL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oL={any:[/^b/i,/^(a|c)/i]},aL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lL={any:[/1/i,/2/i,/3/i,/4/i]},cL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mL={ordinalNumber:_k({matchPattern:rL,parsePattern:iL,valueCallback:t=>parseInt(t,10)}),era:Kn({matchPatterns:sL,defaultMatchWidth:"wide",parsePatterns:oL,defaultParseWidth:"any"}),quarter:Kn({matchPatterns:aL,defaultMatchWidth:"wide",parsePatterns:lL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Kn({matchPatterns:cL,defaultMatchWidth:"wide",parsePatterns:uL,defaultParseWidth:"any"}),day:Kn({matchPatterns:dL,defaultMatchWidth:"wide",parsePatterns:hL,defaultParseWidth:"any"}),dayPeriod:Kn({matchPatterns:fL,defaultMatchWidth:"any",parsePatterns:pL,defaultParseWidth:"any"})},gL={code:"en-US",formatDistance:FO,formatLong:UO,formatRelative:qO,localize:eL,match:mL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vL(t,e){const n=an(t,e==null?void 0:e.in);return MO(n,DO(n))+1}function yL(t,e){const n=an(t,e==null?void 0:e.in),r=+Pu(n)-+AO(n);return Math.round(r/Sk)+1}function Nk(t,e){var u,d,f,p;const n=an(t,e==null?void 0:e.in),r=n.getFullYear(),i=wd(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=An((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=is(o,e),l=An((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=is(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function xL(t,e){var a,l,c,u;const n=wd(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=Nk(t,e),s=An((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),is(s,e)}function wL(t,e){const n=an(t,e==null?void 0:e.in),r=+is(n,e)-+xL(n,e);return Math.round(r/Sk)+1}function Pe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Vr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Pe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Pe(n+1,2)},d(t,e){return Pe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Pe(t.getHours()%12||12,e.length)},H(t,e){return Pe(t.getHours(),e.length)},m(t,e){return Pe(t.getMinutes(),e.length)},s(t,e){return Pe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Pe(i,e.length)}},bs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dx={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Vr.y(t,e)},Y:function(t,e,n,r){const i=Nk(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Pe(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Pe(s,e.length)},R:function(t,e){const n=Ck(t);return Pe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Pe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Pe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Pe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Vr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Pe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=wL(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Pe(i,e.length)},I:function(t,e,n){const r=yL(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Pe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vr.d(t,e)},D:function(t,e,n){const r=vL(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Pe(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Pe(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Pe(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=bs.noon:r===0?i=bs.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=bs.evening:r>=12?i=bs.afternoon:r>=4?i=bs.morning:i=bs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vr.s(t,e)},S:function(t,e){return Vr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Fx(r);case"XXXX":case"XX":return zi(r);case"XXXXX":case"XXX":default:return zi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Fx(r);case"xxxx":case"xx":return zi(r);case"xxxxx":case"xxx":default:return zi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$x(r,":");case"OOOO":default:return"GMT"+zi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$x(r,":");case"zzzz":default:return"GMT"+zi(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Pe(r,e.length)},T:function(t,e,n){return Pe(+t,e.length)}};function $x(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Pe(s,2)}function Fx(t,e){return t%60===0?(t>0?"-":"+")+Pe(Math.abs(t)/60,2):zi(t,e)}function zi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Pe(Math.trunc(r/60),2),s=Pe(r%60,2);return n+i+e+s}const Bx=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Tk=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},bL=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Bx(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Bx(r,e)).replace("{{time}}",Tk(i,e))},SL={p:Tk,P:bL},kL=/^D+$/,CL=/^Y+$/,EL=["D","DD","YY","YYYY"];function _L(t){return kL.test(t)}function NL(t){return CL.test(t)}function TL(t,e,n){const r=PL(t,e,n);if(console.warn(r),EL.includes(t))throw new RangeError(r)}function PL(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ML=/^'([^]*?)'?$/,AL=/''/g,IL=/[a-zA-Z]/;function ju(t,e,n){var u,d,f,p,g,m,w,y;const r=wd(),i=(n==null?void 0:n.locale)??r.locale??gL,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((m=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((y=(w=r.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??0,a=an(t,n==null?void 0:n.in);if(!zO(a))throw new RangeError("Invalid time value");let l=e.match(RL).map(x=>{const b=x[0];if(b==="p"||b==="P"){const S=SL[b];return S(x,i.formatLong)}return x}).join("").match(jL).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:OL(x)};if(Dx[b])return{isToken:!0,value:x};if(b.match(IL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&NL(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&_L(b))&&TL(b,e,String(t));const S=Dx[b[0]];return S(a,b,i.localize,c)}).join("")}function OL(t){const e=t.match(ML);return e?e[1].replace(AL,"'"):t}function Vx(t,e,n){const[r,i]=Ek(n==null?void 0:n.in,t,e);return+is(r,n)==+is(i,n)}function Wx(t,e,n){return kk(t,-1,n)}function LL(t,e,n){return IO(t,-1,n)}function Fh(t,e,n){return OO(t,-e,n)}const Tl=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},bd=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},zL=async t=>{const e={pageNumber:t.pageNumber??1,pageItemsCount:t.pageItemsCount??30,searchString:t.searchString||null,assetTypes:t.assetTypes||null},n="Failed to search assets.";try{const r=await yt.post("/api/BrokerAccountUser/SearchAssets",e),i=Tl(r,n);return i.isSuccess&&(i.resultObject?i.resultObject.assets=i.resultObject.assets||[]:(console.warn("[API/Assets] searchAssets success but resultObject is null. Normalizing."),i.resultObject={searchAssetsParameters:e,foundCount:0,assets:[]})),i}catch(r){return bd(r,n)}},Pk=async t=>{const e=`Failed to get asset with ID ${t}.`;console.log(`[API/Assets] Fetching asset by ID: ${t}`);try{const n=await yt.get(`/api/Assets/${t}`),r=Tl(n,e);return r.isSuccess&&r.resultObject===null&&console.warn(`[API/Assets] getAssetById(${t}) returned success but resultObject is null.`),r}catch(n){return bd(n,e)}},jk=async()=>{const t="Failed to get asset types.";try{const e=await yt.get("/api/BrokerAccountUser/GetAllAssetTypes"),n=Tl(e,t);return n.isSuccess&&n.resultObject===null&&(console.warn("[API/Assets] getAllAssetTypes success but resultObject is null. Normalizing to empty array."),n.resultObject=[]),n}catch(e){return bd(e,t)}},DL=async t=>{const e="Failed to get last prices.";if(!t||t.length===0)return console.log("[API/Assets] getLastPrices called with empty tickers, returning empty array."),{isSuccess:!0,errorMessage:null,resultObject:[]};try{const n=await yt.get("/api/BrokerAccountUser/GetLastPrices",{params:{assetTickers:t.join(",")}}),r=Tl(n,e);return r.isSuccess&&r.resultObject===null&&(console.warn("[API/Assets] getLastPrices success but resultObject is null. Normalizing to empty array."),r.resultObject=[]),r}catch(n){return bd(n,e)}},Rk=async(t,e)=>{var c,u;const n="График в разработке, бро";console.log(`[API/Assets] getPriceHistory called for asset ${t}, period ${e}. Requesting from backend...`);const r=new Date;let i;const s=new Date;switch(e){case"1D":i=$p(r);break;case"1W":i=LL(r);break;case"1M":i=Wx(r);break;case"1Y":i=Fh(r,1);break;case"5Y":i=Fh(r,5);break;case"ALL":i=Fh(r,20);break;default:console.warn(`[API/Assets getPriceHistory] Unknown period: ${e}. Defaulting to 1M.`),i=Wx(r)}const o=ju(i,"yyyy-MM-dd"),a=ju(s,"yyyy-MM-dd");console.log(`[API/Assets getPriceHistory] Requesting backend with AssetId: ${t}, From: ${o}, Till: ${a}`);const l={AssetId:t,From:o,Till:a};try{const d=await yt.post("/api/Assets/GetPriceDataForFrontChartFromMoex",l),f=Tl(d,n);if(!f.isSuccess||!f.resultObject)return{isSuccess:!1,errorMessage:n,resultObject:null};const p=f.resultObject;if(!((c=p==null?void 0:p.candles)!=null&&c.columns)||!((u=p==null?void 0:p.candles)!=null&&u.data))return console.error("[API/Assets getPriceHistory] Invalid MOEX data structure:",p),{isSuccess:!1,errorMessage:n,resultObject:null};const g=p.candles.columns,m=g.indexOf("begin"),w=g.indexOf("open"),y=g.indexOf("high"),x=g.indexOf("low"),b=g.indexOf("close");if(m===-1||w===-1||y===-1||x===-1||b===-1)return console.error("[API/Assets getPriceHistory] Required columns ('begin', 'open', 'high', 'low', 'close') not found:",g),{isSuccess:!1,errorMessage:n,resultObject:null};const S=p.candles.data.map(C=>{const k=C[m];let _=C[w],N=C[y],M=C[x],R=C[b];if(!k||_===null||N===null||M===null||R===null||isNaN(_)||isNaN(N)||isNaN(M)||isNaN(R))return console.warn("[API/Assets getPriceHistory] Skipping row due to invalid data:",C),null;try{const j=Date.parse(k);if(isNaN(j))return console.warn(`[API/Assets getPriceHistory] Skipping row due to invalid date string: ${k}`),null;const P=Math.floor(j/1e3),L=Math.max(_,N,M,R),I=Math.min(_,N,M,R);return N=L,M=I,_=Math.max(M,Math.min(N,_)),R=Math.max(M,Math.min(N,R)),{time:P,open:_,high:N,low:M,close:R}}catch(j){return console.warn(`[API/Assets getPriceHistory] Error converting row: ${C}`,j),null}}).filter(C=>C!==null).sort((C,k)=>C.time-k.time);return console.log(`[API/Assets getPriceHistory] Successfully processed ${S.length} history points.`),{isSuccess:!0,errorMessage:null,resultObject:S}}catch(d){return console.error("[API/Assets getPriceHistory] Exception:",d),{isSuccess:!1,errorMessage:n,resultObject:null}}},$L=20,Ru="all",Ux={searchTerm:"",activeTabValue:Ru,apiAssetTypes:null,currentPage:1,didPerformSearch:!1,marketTabs:[{value:Ru,label:"Все",apiTitles:null}],isTypesLoading:!1,typesError:null,searchResults:[],totalResults:0,isLoading:!1,error:null},pr=_i((t,e)=>({...Ux,fetchMarketTabs:async(n=!1)=>{if(!n&&(e().marketTabs.length>1||e().isTypesLoading)){console.log("[MarketPageStore fetchMarketTabs] Skipped fetching tabs.");return}t({isTypesLoading:!0,typesError:null}),console.log("[MarketPageStore fetchMarketTabs] Fetching asset types...");try{const r=await jk();if(r.isSuccess&&r.resultObject){const i=r.resultObject.map(o=>({value:o.title,label:o.description,apiTitles:[o.title]})),s=[{value:Ru,label:"Все",apiTitles:null},...i];t({marketTabs:s,isTypesLoading:!1}),console.log("[MarketPageStore fetchMarketTabs] Tabs loaded successfully.")}else throw new Error(r.errorMessage||"Failed to load asset types.")}catch(r){console.error("[MarketPageStore fetchMarketTabs] Error:",r),t({typesError:r.message||"Error fetching types.",isTypesLoading:!1,marketTabs:[{value:Ru,label:"Все",apiTitles:null}]})}},setSearchTerm:n=>{t({searchTerm:n,currentPage:1,didPerformSearch:!1}),e().fetchMarketAssets(!1)},setActiveTab:(n,r)=>{t({activeTabValue:n,apiAssetTypes:r,currentPage:1,didPerformSearch:!1}),e().fetchMarketAssets(!1),console.log(`[MarketPageStore setActiveTab] Tab set to: ${n}`)},fetchMarketAssets:async(n=!1)=>{var a;const{searchTerm:r,apiAssetTypes:i,currentPage:s}=e(),o=n?s+1:1;if(e().isLoading){console.log("[MarketPageStore fetchMarketAssets] Fetch skipped, already loading.");return}t({isLoading:!0,error:null,didPerformSearch:!0}),n||t({searchResults:[],totalResults:0}),console.log(`[MarketPageStore fetchMarketAssets] Fetching: term='${r}', types=${JSON.stringify(i)}, page=${o}, append=${n}`);try{const l={searchString:r.trim()||null,assetTypes:i,pageNumber:o,pageItemsCount:$L},c=await zL(l);if(c!=null&&c.isSuccess&&c.resultObject){const u=c.resultObject.assets||[];t(d=>{var f;return{searchResults:n?[...d.searchResults,...u]:u,totalResults:((f=c.resultObject)==null?void 0:f.foundCount)??d.totalResults,currentPage:o,isLoading:!1,error:null}}),console.log(`[MarketPageStore fetchMarketAssets] Success. Fetched ${u.length}. New total: ${((a=c.resultObject)==null?void 0:a.foundCount)??"N/A"}. Current page: ${o}`)}else throw new Error((c==null?void 0:c.errorMessage)||"Ничего не найдено или произошла ошибка.")}catch(l){console.error("[MarketPageStore fetchMarketAssets] Fetch error:",l),t(c=>({error:l.message||"Ошибка загрузки активов.",isLoading:!1,searchResults:n?c.searchResults:[],totalResults:n?c.totalResults:0,currentPage:n?c.currentPage:1}))}},resetMarketState:()=>{console.log("[MarketPageStore] Resetting state."),t(Ux)}})),Mk=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},Ak=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},FL=async()=>{var e;const t="Failed to fetch accounts.";console.log("[API/Portfolio] Fetching broker accounts...");try{const n=await yt.get("/api/BrokerAccountUser/GetMyBrokerAccounts");console.log("[API/Portfolio] Fetched accounts raw response data:",n==null?void 0:n.data);const r=Mk(n,t);return r.isSuccess&&r.resultObject===null&&(console.warn("[API/Portfolio] GetMyBrokerAccounts returned success but resultObject is null. Normalizing to an empty array []."),r.resultObject=[]),console.log("[API/Portfolio] Processed accounts:",r.isSuccess?`Success, ${((e=r.resultObject)==null?void 0:e.length)??0} accounts`:`Error: ${r.errorMessage}`),r}catch(n){return Ak(n,t)}},BL=async()=>{const t="Failed to create account.";console.log("[API/Portfolio] Attempting to create initial broker account...");try{const e=await yt.post("/api/BrokerAccountUser/CreateMyInitialBrokerAccount");return console.log("[API/Portfolio] Create account raw response data:",e==null?void 0:e.data),Mk(e,t)}catch(e){return Ak(e,t)}},Ni=_i((t,e)=>({accounts:null,isLoading:!1,error:null,isFetching:!1,hasAttemptedFetch:!1,fetchPortfolio:async(n=!1)=>{if(!n&&e().isFetching){console.log("[PortfolioStore] Fetch already in progress. Skipping.");return}console.log(`[PortfolioStore] Starting fetchPortfolio (force=${n})...`),t({isLoading:!0,error:null,isFetching:!0,hasAttemptedFetch:!0});try{const r=await FL();if(console.log("[PortfolioStore] API response received:",r==null?void 0:r.isSuccess),!r||typeof r.isSuccess!="boolean")throw new Error("Invalid response from getMyBrokerAccounts");if(r.isSuccess){const i=r.resultObject||[];t({accounts:i,isLoading:!1,error:null,isFetching:!1}),console.log(`[PortfolioStore] Accounts updated: ${i.length}`)}else console.error("[PortfolioStore] Fetch failed:",r.errorMessage),t({error:r.errorMessage||"Failed to load portfolio data.",isLoading:!1,isFetching:!1})}catch(r){console.error("[PortfolioStore] Fetch exception:",r),t({error:r.message||"Unexpected error fetching portfolio.",isLoading:!1,isFetching:!1})}}}));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ik=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...WL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ik("lucide",i),...a},[...o.map(([c,u])=>v.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(t,e)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(UL,{ref:s,iconNode:e,className:Ik(`lucide-${VL(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=me("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=me("CandlestickChart",[["path",{d:"M9 5v4",key:"14uxtq"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1",key:"f4fvz0"}],["path",{d:"M9 15v2",key:"r5rk32"}],["path",{d:"M17 3v2",key:"1l2re6"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1",key:"z38je5"}],["path",{d:"M17 13v3",key:"5l0wba"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=me("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=me("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=me("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=me("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=me("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=me("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=me("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=me("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=me("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=me("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=me("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=me("WalletCards",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2",key:"4125el"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21",key:"1dpki6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=me("WalletMinimal",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=me("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Te=({size:t="default"})=>{const e={sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8"};return h.jsx(nz,{className:`animate-spin text-primary ${e[t]}`})},mt=({message:t,className:e})=>h.jsxs("div",{className:`flex items-center text-destructive p-4 border border-destructive/50 rounded-md bg-destructive/10 ${e}`,children:[h.jsx(qk,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:t||"ÐÑÐ¾Ð¸Ð·Ð¾ÑÐ»Ð° Ð½ÐµÐ¿ÑÐµÐ´Ð²Ð¸Ð´ÐµÐ½Ð½Ð°Ñ Ð¾ÑÐ¸Ð±ÐºÐ°."})]});function Gk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Gk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Kk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Gk(t))&&(r&&(r+=" "),r+=e);return r}const Ng="-",pz=t=>{const e=gz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ng);return a[0]===""&&a.length!==1&&a.shift(),Xk(a,e)||mz(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Xk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Xk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Ng);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Gx=/^\[(.+)\]$/,mz=t=>{if(Gx.test(t)){const e=Gx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},gz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return yz(Object.entries(t.classGroups),n).forEach(([s,o])=>{Fp(o,r,s,e)}),r},Fp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Kx(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(vz(i)){Fp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Fp(o,Kx(e,s),n,r)})})},Kx=(t,e)=>{let n=t;return e.split(Ng).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},vz=t=>t.isThemeGetter,yz=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,xz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Yk="!",wz=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let w=0;w<a.length;w++){let y=a[w];if(c===0){if(y===i&&(r||a.slice(w,w+s)===e)){l.push(a.slice(u,w)),u=w+s;continue}if(y==="/"){d=w;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?a:a.substring(u),p=f.startsWith(Yk),g=p?f.substring(1):f,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},bz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Sz=t=>({cache:xz(t.cacheSize),parseClassName:wz(t),...pz(t)}),kz=/\s+/,Cz=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(kz);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let g=!!p,m=r(g?f.substring(0,p):f);if(!m){if(!g){a=c+(a.length>0?" "+a:a);continue}if(m=r(f),!m){a=c+(a.length>0?" "+a:a);continue}g=!1}const w=bz(u).join(":"),y=d?w+Yk:w,x=y+m;if(s.includes(x))continue;s.push(x);const b=i(m,g);for(let S=0;S<b.length;++S){const C=b[S];s.push(y+C)}a=c+(a.length>0?" "+a:a)}return a};function Ez(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Zk(e))&&(r&&(r+=" "),r+=n);return r}const Zk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Zk(t[r]))&&(n&&(n+=" "),n+=e);return n};function _z(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=Sz(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Cz(l,n);return i(l,u),u}return function(){return s(Ez.apply(null,arguments))}}const Le=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Qk=/^\[(?:([a-z-]+):)?(.+)\]$/i,Nz=/^\d+\/\d+$/,Tz=new Set(["px","full","screen"]),Pz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Mz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Az=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hr=t=>eo(t)||Tz.has(t)||Nz.test(t),Wr=t=>Oo(t,"length",Bz),eo=t=>!!t&&!Number.isNaN(Number(t)),Bh=t=>Oo(t,"number",eo),Qo=t=>!!t&&Number.isInteger(Number(t)),Iz=t=>t.endsWith("%")&&eo(t.slice(0,-1)),fe=t=>Qk.test(t),Ur=t=>Pz.test(t),Oz=new Set(["length","size","percentage"]),Lz=t=>Oo(t,Oz,Jk),zz=t=>Oo(t,"position",Jk),Dz=new Set(["image","url"]),$z=t=>Oo(t,Dz,Wz),Fz=t=>Oo(t,"",Vz),Jo=()=>!0,Oo=(t,e,n)=>{const r=Qk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Bz=t=>jz.test(t)&&!Rz.test(t),Jk=()=>!1,Vz=t=>Mz.test(t),Wz=t=>Az.test(t),Uz=()=>{const t=Le("colors"),e=Le("spacing"),n=Le("blur"),r=Le("brightness"),i=Le("borderColor"),s=Le("borderRadius"),o=Le("borderSpacing"),a=Le("borderWidth"),l=Le("contrast"),c=Le("grayscale"),u=Le("hueRotate"),d=Le("invert"),f=Le("gap"),p=Le("gradientColorStops"),g=Le("gradientColorStopPositions"),m=Le("inset"),w=Le("margin"),y=Le("opacity"),x=Le("padding"),b=Le("saturate"),S=Le("scale"),C=Le("sepia"),k=Le("skew"),_=Le("space"),N=Le("translate"),M=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",fe,e],P=()=>[fe,e],L=()=>["",hr,Wr],I=()=>["auto",eo,fe],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",fe],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[eo,fe];return{cacheSize:500,separator:":",theme:{colors:[Jo],spacing:[hr,Wr],blur:["none","",Ur,fe],brightness:X(),borderColor:[t],borderRadius:["none","","full",Ur,fe],borderSpacing:P(),borderWidth:L(),contrast:X(),grayscale:A(),hueRotate:X(),invert:A(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Iz,Wr],inset:j(),margin:j(),opacity:X(),padding:P(),saturate:X(),scale:X(),sepia:A(),skew:X(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Ur]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),fe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qo,fe]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Qo,fe]}],"grid-cols":[{"grid-cols":[Jo]}],"col-start-end":[{col:["auto",{span:["full",Qo,fe]},fe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Jo]}],"row-start-end":[{row:["auto",{span:[Qo,fe]},fe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[Ur]},Ur]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ur,Wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bh]}],"font-family":[{font:[Jo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",eo,Bh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hr,Wr]}],"underline-offset":[{"underline-offset":["auto",hr,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),zz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Lz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$z]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[hr,fe]}],"outline-w":[{outline:[hr,Wr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[hr,Wr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ur,Fz]}],"shadow-color":[{shadow:[Jo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ur,fe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Qo,fe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hr,Wr,Bh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Hz=_z(Uz);function $(...t){return Hz(Kk(t))}const _t=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:$("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));_t.displayName="Card";const Lr=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:$("flex flex-col space-y-1.5 p-4 md:p-6",t),...e}));Lr.displayName="CardHeader";const Ti=v.forwardRef(({className:t,children:e,...n},r)=>h.jsx("h3",{ref:r,className:$("text-lg font-semibold leading-none tracking-tight",t),...n,children:e}));Ti.displayName="CardTitle";const kd=v.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:$("text-sm text-muted-foreground",t),...e}));kd.displayName="CardDescription";const vn=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:$("p-4 md:p-6 pt-0",t),...e}));vn.displayName="CardContent";const qz=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:$("flex items-center p-4 md:p-6 pt-0",t),...e}));qz.displayName="CardFooter";const eC=t=>new Intl.NumberFormat("ru-RU",t),En=(t,e=2)=>t===null||typeof t>"u"||isNaN(t)?"-":eC({minimumFractionDigits:0,maximumFractionDigits:e}).format(t),yr=(t,e="₽",n=!0)=>{if(t===null||typeof t>"u"||isNaN(t))return"-";const r=t/100,s=eC({minimumFractionDigits:2,maximumFractionDigits:2}).format(r);return n&&e?`${s} ${e}`:s};function tc(t){if(!t)return null;let e=t;e=e.replace(/\s*\(.*\)\s*/g," "),e=e.replace(/^["«“]|["»”]$/g,""),e=e.replace(/["«»”]/g,"");const n=["ORD SHS","ORD","SHS","гдр","ПАО","ОАО","ЗАО","ООО","АО","ап","PLC","GDR"];for(const i of n){const s=new RegExp(`\\s+${i}(?:\\b|$)`,"i");e=e.replace(s,"")}const r=["ГДР","МКПАО","i"];for(const i of r){const s=new RegExp(`^${i}(?:\\s+|(?=[A-ZА-ЯЁ]))`,"i");e=e.replace(s,"")}return e=e.trim().replace(/\s{2,}/g," "),!e||e.length<2||/^[^a-zA-Zа-яА-ЯёЁ0-9]+$/.test(e)?null:e}function Tg(t){var s;if(!t)return"N/A";if(t.displayName)return t.displayName;const e=(s=t.assetType)==null?void 0:s.title,n=t.title,r=t.shortName,i=t.ticker||"N/A";try{if(e==="currency_pair"){const l=/([A-Z]{3})\/([А-Я]{3})/i,c=(i==null?void 0:i.match(l))||(n==null?void 0:n.match(l));if(c&&c[0])return c[0].toUpperCase();const u=n==null?void 0:n.replace(/СВОП/i,"").replace(/[-_]/g," ").replace(/\s+/g," ").trim();return u&&u.includes("/")?u:i}if(e==="fund_share"){const l="БПИФ ",c="ОПИФ ";let u=n||r;return u!=null&&u.startsWith(l)?u.substring(l.length).trim():u!=null&&u.startsWith(c)?u.substring(c.length).trim():tc(n)||tc(r)||i}if(e==="currency")return n||r||i;const o=tc(r);if(o)return o;const a=tc(n);return a||i}catch(o){return console.error("Error formatting asset name:",t,o),i}}const Ht=({value:t,currencySymbol:e="₽",showSign:n=!1,showColor:r=!1,includeSymbol:i=!0,className:s,valueClassName:o,signClassName:a,placeholder:l="—"})=>{if(t===null||typeof t>"u"||isNaN(t))return h.jsx("span",{className:$("text-muted-foreground",s),children:l});const c=yr(t,null,!1);if(c==="-")return h.jsx("span",{className:$("text-muted-foreground",s),children:l});const u=t>0,d=t<0,f=n&&u?"+":"",p=r?u?"text-success":d?"text-destructive":"text-foreground":"";return h.jsxs("span",{className:$("inline-flex items-baseline tabular-nums-font",p,s),children:[f&&h.jsx("span",{className:$(a),children:f}),h.jsx("span",{className:$("font-medium",o),children:c}),i&&e&&h.jsx("span",{className:$("ml-0.5 text-xs text-muted-foreground align-baseline",r&&p!=="text-foreground"?p:"text-muted-foreground"),children:e})]})};function to(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const Gz=(t,e)=>{let n=null;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>{t(...r),n=null},e)}},Kz=3e4,Xz=300,ua=new Map;let Yz=0;const Zz=()=>`price-sub-${Yz++}`,Xx=()=>{const t=new Set;return ua.forEach(e=>{e.forEach(n=>t.add(n))}),t},Vh=_i((t,e)=>({prices:new Map,neededTickers:new Set,isLoading:!1,error:null,lastFetchTime:null,fetchIntervalId:null,isPollingActive:!1,_debouncedFetchOnSubscriptionChange:Gz(()=>{const{neededTickers:n,_fetchPricesInternal:r}=e(),i=Array.from(n);console.log(`[PriceStore _debouncedFetchOnSubscriptionChange] Triggered. Needed: ${i.length}`),i.length>0&&r(i,!1)},Xz),subscribeTickers:(n,r)=>{const i=new Set(r.filter(o=>o&&o!=="RUB")),s=ua.get(n);if(!s||!to(s,i)){console.log(`[PriceStore subscribeTickers] Updating subscription for ${n} with ${i.size} tickers.`),ua.set(n,i);const o=Xx(),a=e().neededTickers;to(a,o)?(console.log("[PriceStore subscribeTickers] neededTickers set did not change."),e()._checkPollingStatus()):(t({neededTickers:o}),e()._debouncedFetchOnSubscriptionChange(),e()._checkPollingStatus())}else console.log(`[PriceStore subscribeTickers] No change for ${n}, skipping update.`),e()._checkPollingStatus()},unsubscribeTickers:n=>{if(ua.delete(n)){console.log(`[PriceStore unsubscribeTickers] Removed subscription for ${n}.`);const r=Xx(),i=e().neededTickers;to(i,r)?(console.log("[PriceStore unsubscribeTickers] neededTickers set did not change."),e()._checkPollingStatus()):(t({neededTickers:r}),e()._checkPollingStatus())}},_fetchPricesInternal:async(n,r=!1)=>{if(e().isLoading&&!r){console.log("[PriceStore _fetchPricesInternal] Non-poll fetch skipped, already loading.");return}if(!n||n.length===0){console.log("[PriceStore _fetchPricesInternal] No tickers provided to fetch."),e().isLoading&&!r&&t({isLoading:!1});return}r||t({isLoading:!0,error:null}),console.log(`[PriceStore _fetchPricesInternal] Fetching ${n.length} tickers... (isPoll: ${r})`);try{const i=await DL(n),s=Date.now();i.isSuccess&&i.resultObject?t(o=>{const a=new Map(o.prices);return i.resultObject.forEach(l=>a.set(l.ticker,l)),console.log(`[PriceStore _fetchPricesInternal] Success. Updated ${i.resultObject.length} prices. Total cached: ${a.size}`),{prices:a,isLoading:r?o.isLoading:!1,error:null,lastFetchTime:s}}):(console.warn("[PriceStore _fetchPricesInternal] Fetch failed:",i.errorMessage),t(o=>({error:i.errorMessage||"Failed to load prices",isLoading:r?o.isLoading:!1,lastFetchTime:s})))}catch(i){console.error("[PriceStore _fetchPricesInternal] Exception:",i),t(s=>({error:i.message||"Failed to fetch prices",isLoading:r?s.isLoading:!1,lastFetchTime:Date.now()}))}},_checkPollingStatus:()=>{const{neededTickers:n,fetchIntervalId:r,isPollingActive:i}=e(),s=n.size>0;if(s&&!i){console.log("[PriceStore _checkPollingStatus] Starting polling.");const o=setInterval(()=>{const a=e().neededTickers;a.size>0?e()._fetchPricesInternal(Array.from(a),!0):(console.warn("[PriceStore poll interval] No tickers needed, but interval still running. Stopping."),e()._checkPollingStatus())},Kz);t({fetchIntervalId:o,isPollingActive:!0})}else!s&&i&&(console.log("[PriceStore _checkPollingStatus] Stopping polling."),r&&clearInterval(r),t({fetchIntervalId:null,isPollingActive:!1}))},clearAll:()=>{console.log("[PriceStore clearAll] Clearing all subscriptions and prices, stopping polling.");const{fetchIntervalId:n}=e();n&&clearInterval(n),ua.clear(),t({prices:new Map,neededTickers:new Set,isLoading:!1,error:null,lastFetchTime:null,fetchIntervalId:null,isPollingActive:!1})}})),{useDebugValue:Qz}=Re,{useSyncExternalStoreWithSelector:Jz}=FS,eD=t=>t;function tD(t,e=eD,n){const r=Jz(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Qz(r),r}const Cd=t=>{const e=v.useRef(Zz()).current,n=v.useMemo(()=>t.filter(c=>typeof c=="string"&&c!=="RUB"),[t]),r=Vh.getState().subscribeTickers,i=Vh.getState().unsubscribeTickers,{storePrices:s,isLoading:o,error:a}=tD(Vh,c=>({storePrices:c.prices,isLoading:c.isLoading,error:c.error}),to);return v.useEffect(()=>(console.log(`[useAssetPrices Effect ${e}] Running effect. Subscribing to:`,n),r(e,n),()=>{console.log(`[useAssetPrices Cleanup ${e}] Unsubscribing.`),i(e)}),[e,n,r,i]),{prices:v.useMemo(()=>{const c=new Map;return n.forEach(u=>{s.has(u)&&c.set(u,s.get(u))}),c},[n,s]),isLoading:o,error:a}},tC=()=>{const{accounts:t}=Ni(),e=v.useMemo(()=>{if(!t)return[];const l=new Set;return t.forEach(c=>{var u;(u=c.portfolioItems)==null||u.forEach(d=>{var f;(f=d.asset)!=null&&f.ticker&&d.asset.ticker!=="RUB"&&l.add(d.asset.ticker)})}),Array.from(l)},[t]),{prices:n,isLoading:r,error:i}=Cd(e),s=v.useCallback((l,c)=>{let u=0,d=0,f=0;return Array.isArray(l)?(l.forEach(g=>{if(!(g!=null&&g.asset))return;const m=g.asset.ticker,w=g.quantity||0,y=g.averagePriceCopecks??0;if(m==="RUB")u=w;else{const x=c.get(m);if(x){const b=x.price*100,S=b*w;if(d+=S,y>0){const C=(b-y)*w;f+=C}}}}),{totalValue:u+d,totalProfitLoss:f}):{totalValue:0,totalProfitLoss:0}},[]),o=v.useCallback(l=>{const c=t==null?void 0:t.find(u=>{var d;return((d=u.brokerAccount)==null?void 0:d.id)===l});return c?s(c.portfolioItems,n):{totalValue:0,totalProfitLoss:0}},[t,n,s]),a=v.useMemo(()=>{if(!t)return 0;let l=0;return t.forEach(c=>{var u;if((u=c==null?void 0:c.brokerAccount)!=null&&u.id){const d=s(c.portfolioItems,n);l+=d.totalValue}}),l},[t,n,s]);return{prices:n,isPriceLoading:r,priceError:i,getAccountTotals:o,totalPortfolioValue:a,calculateAccountTotals:s}},Yx=()=>h.jsx(_t,{className:"rounded-xl border border-border/60 bg-card shadow-md animate-pulse",children:h.jsxs("div",{className:"p-5 space-y-5",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[h.jsx("div",{className:"flex-shrink-0 h-9 w-9 bg-muted rounded-lg"}),h.jsx("div",{className:"h-5 bg-muted rounded w-3/5"})]}),h.jsx("div",{className:"flex-shrink-0 h-6 w-16 bg-muted rounded-md ml-2"})]}),h.jsxs("div",{className:"flex items-end justify-between gap-4 pt-1",children:[h.jsx("div",{className:"space-y-2",children:h.jsx("div",{className:"h-9 bg-muted rounded w-32"})}),h.jsxs("div",{className:"text-right flex flex-col items-end flex-shrink-0",children:[h.jsx("div",{className:"h-6 bg-muted rounded w-24 mb-1"}),h.jsx("div",{className:"h-4 bg-muted rounded w-16"})]})]})]})}),nD=()=>{const{accounts:t,isLoading:e,error:n,fetchPortfolio:r}=Ni(),i=ut(),{getAccountTotals:s,isPriceLoading:o}=tC();v.useEffect(()=>{t===null&&!e&&!n&&r()},[t,e,n,r]);const a=l=>{typeof l=="number"&&i(`/portfolio/${l}`)};return e&&t===null?h.jsxs("div",{className:"p-4 space-y-5 pb-24",children:[h.jsx("h1",{className:"text-2xl font-semibold px-1 mb-5 text-foreground tracking-tight",children:"Мои счета"}),h.jsx(Yx,{}),h.jsx(Yx,{})]}):t===null&&n?h.jsx("div",{className:"p-6 pt-10",children:h.jsx(mt,{message:`Не удалось загрузить счета: ${n}`})}):!e&&(t==null?void 0:t.length)===0?h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-8rem)] p-6 text-center",children:[h.jsx(qx,{className:"w-16 h-16 text-muted-foreground mb-4",strokeWidth:1}),h.jsx("p",{className:"text-muted-foreground mb-4",children:"У вас пока нет счетов."})]}):h.jsxs("div",{className:"p-4 space-y-4 pb-24",children:[h.jsx("h1",{className:"text-2xl font-semibold px-1 mb-5 text-foreground tracking-tight",children:"Мои счета"}),o&&t&&t.length>0&&h.jsx("div",{className:"fixed top-4 right-4 p-1 bg-card/80 rounded-full shadow z-20 animate-pulse backdrop-blur-sm",children:h.jsx(Te,{size:"sm"})}),Array.isArray(t)&&t.map(l=>{var x;if(!((x=l==null?void 0:l.brokerAccount)!=null&&x.id))return null;const c=l.brokerAccount.id,{totalValue:u,totalProfitLoss:d}=s(c);let f=0;l.portfolioItems&&l.portfolioItems.forEach(b=>{var S;((S=b.asset)==null?void 0:S.ticker)!=="RUB"&&b.averagePriceCopecks&&b.averagePriceCopecks>0&&b.quantity&&b.quantity>0&&(f+=b.averagePriceCopecks*b.quantity)});const p=f>0?d/f*100:0,g=d>0,m=d<0,w=g?"text-success":m?"text-destructive":"text-muted-foreground",y=(l.brokerAccount.title||`Счет #${c}`).replace(/["«»]/g,"");return h.jsx("div",{onClick:()=>a(c),className:"cursor-pointer group",children:h.jsx(_t,{className:$("rounded-xl border border-border/60 bg-card text-card-foreground shadow-md overflow-hidden","group-hover:border-primary/50 group-hover:shadow-md transition-all duration-200 group-active:scale-[0.98]"),children:h.jsxs(Lr,{className:"p-5 space-y-3",children:[" ",h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[h.jsx("div",{className:"flex-shrink-0 grid place-items-center h-9 w-9 bg-primary/10 text-primary rounded-lg",children:t.length>1?h.jsx(qx,{size:20,strokeWidth:1.75}):h.jsx(fz,{size:20,strokeWidth:1.75})}),h.jsx("div",{className:"min-w-0",children:h.jsx("h3",{className:"text-lg font-medium text-foreground truncate",children:y})})]}),h.jsxs("span",{className:"flex-shrink-0 text-xs font-medium bg-muted/70 text-muted-foreground/90 px-2.5 py-1 rounded-md ml-2",children:["ID:",c]})]}),h.jsxs("div",{className:"flex items-baseline justify-between gap-2 pt-1",children:[h.jsx("div",{className:"text-3xl font-bold text-foreground tracking-tight leading-none",children:h.jsx(Ht,{value:u})}),h.jsxs("div",{className:$("text-right flex flex-col items-end flex-shrink-0",w),children:[h.jsxs("div",{className:"text-base font-medium",children:[" ",d!==0?h.jsx(Ht,{value:d,showSign:!0}):h.jsx("span",{children:"—"})]}),h.jsxs("span",{className:"text-sm opacity-90 mt-0.5",children:["(",En(p,2),"%)"]})]})]})]})})},c)})]})};function Zx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nC(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Zx(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Zx(t[i],null)}}}}function Ee(...t){return v.useCallback(nC(...t),t)}var ss=v.forwardRef((t,e)=>{const{children:n,...r}=t,i=v.Children.toArray(n),s=i.find(rD);if(s){const o=s.props.children,a=i.map(l=>l===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return h.jsx(Bp,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return h.jsx(Bp,{...r,ref:e,children:n})});ss.displayName="Slot";var Bp=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const i=sD(n),s=iD(r,n.props);return n.type!==v.Fragment&&(s.ref=e?nC(e,i):i),v.cloneElement(n,s)}return v.Children.count(n)>1?v.Children.only(null):null});Bp.displayName="SlotClone";var rC=({children:t})=>h.jsx(h.Fragment,{children:t});function rD(t){return v.isValidElement(t)&&t.type===rC}function iD(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function sD(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Qx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Jx=Kk,Pg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Jx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const f=Qx(u)||Qx(d);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...p}=u;return Object.entries(p).every(g=>{let[m,w]=g;return Array.isArray(w)?w.includes({...s,...a}[m]):{...s,...a}[m]===w})?[...c,d,f]:c},[]);return Jx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Pl=Pg("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",success:"bg-success text-success-foreground hover:bg-success/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ss:"button";return h.jsx(o,{className:$(Pl({variant:e,size:n,className:t})),ref:s,...i})});ie.displayName="Button";const oD="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-landmark'%3e%3cline%20x1='3'%20x2='21'%20y1='22'%20y2='22'/%3e%3cline%20x1='6'%20x2='6'%20y1='18'%20y2='11'/%3e%3cline%20x1='10'%20x2='10'%20y1='18'%20y2='11'/%3e%3cline%20x1='14'%20x2='14'%20y1='18'%20y2='11'/%3e%3cline%20x1='18'%20x2='18'%20y1='18'%20y2='11'/%3e%3cpolygon%20points='12%202%2020%207%204%207'/%3e%3c/svg%3e",iC=({logoUrl:t,ticker:e,className:n="h-8 w-8 rounded-full"})=>{const[r,i]=Re.useState(!1),s=()=>{i(!0)};return Re.useEffect(()=>{i(!1)},[t]),r||!t?h.jsx("img",{src:oD,alt:e||"Asset",className:`${n} object-contain p-1 bg-muted border border-border`}):h.jsx("img",{src:t,alt:e||"Asset Logo",className:`${n} object-cover`,onError:s,loading:"lazy"})},Ed=({asset:t,showLotSize:e=!0,className:n,nameClassName:r="text-sm font-medium",tickerClassName:i="text-xs",iconClassName:s="h-8 w-8 rounded-full flex-shrink-0"})=>{if(!t)return h.jsxs("div",{className:$("flex items-center space-x-2 animate-pulse",n),children:[h.jsx("div",{className:$("bg-muted",s)}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("div",{className:"h-3 w-24 rounded bg-muted"}),h.jsx("div",{className:"h-2.5 w-16 rounded bg-muted"})]})]});const o=Tg(t);return h.jsxs("div",{className:$("flex items-center space-x-2 min-w-0",n),children:[h.jsx(iC,{logoUrl:t.logoUrl,ticker:t.ticker,className:s}),h.jsxs("div",{className:"overflow-hidden min-w-0",children:[h.jsx("p",{className:$("font-medium",r),title:t.title||t.shortName||t.ticker,children:o}),h.jsxs("p",{className:$("text-muted-foreground uppercase",i),children:[t.ticker,e&&t.lotSize>1&&h.jsxs("span",{className:"ml-1 normal-case opacity-70",children:["× ",En(t.lotSize,0)]})]})]})]})},aD=({item:t,currentPriceInfo:e})=>{const n=ut();if(!t||!t.asset)return h.jsx("div",{className:"p-4 text-muted-foreground",children:"Ошибка: Неверные данные элемента портфеля."});const{asset:r,quantity:i,averagePriceCopecks:s}=t,o=e?Math.round(e.price*100):null,a=o!==null?o*i:null,l=s!==null?s*i:null,c=a!==null&&l!==null&&l>0?a-l:null,u=l&&l>0&&c!==null?c/l*100:null,d=c!==null&&c>0,f=c!==null&&c<0,p=d?"text-success":f?"text-destructive":"text-muted-foreground",g=()=>{r.id&&n(`/asset/${r.id}`)};return h.jsxs("div",{className:"flex items-center justify-between p-2 space-x-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:g,role:"button",tabIndex:0,onKeyDown:m=>(m.key==="Enter"||m.key===" ")&&g(),children:[h.jsx(Ed,{asset:r,showLotSize:!1,className:"flex-grow min-w-0",iconClassName:"h-8 w-8 rounded-full flex-shrink-0"}),h.jsxs("div",{className:"text-right flex-shrink-0 ml-2 min-w-[90px]",children:[a!==null?h.jsx(Ht,{value:a,className:"text-sm font-medium tabular-nums-font"}):e===void 0?h.jsx(Te,{size:"sm"}):h.jsx("span",{className:"text-xs text-muted-foreground",children:"—"}),c!==null?h.jsxs("div",{className:$("text-xs tabular-nums-font mt-0.5",p),children:[h.jsx(Ht,{value:c,showSign:!0,placeholder:yr(0)}),u!==null&&u!==0&&h.jsxs("span",{className:"ml-1 opacity-80",children:["(",En(u,1),"%)"]})]}):a!==null&&h.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5 tabular-nums-font",children:[yr(0)," (0%)"]})]})]})};function lD(t,e){const n=v.createContext(e),r=s=>{const{children:o,...a}=s,l=v.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Rt(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=d=>{var y;const{scope:f,children:p,...g}=d,m=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=v.useMemo(()=>g,Object.values(g));return h.jsx(m.Provider,{value:w,children:p})};c.displayName=s+"Provider";function u(d,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[l])||a,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,cD(i,...e)]}function cD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function _d(t){const e=t+"CollectionProvider",[n,r]=Rt(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:m}=p,w=Re.useRef(null),y=Re.useRef(new Map).current;return h.jsx(i,{scope:g,itemMap:y,collectionRef:w,children:m})};o.displayName=e;const a=t+"CollectionSlot",l=Re.forwardRef((p,g)=>{const{scope:m,children:w}=p,y=s(a,m),x=Ee(g,y.collectionRef);return h.jsx(ss,{ref:x,children:w})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=Re.forwardRef((p,g)=>{const{scope:m,children:w,...y}=p,x=Re.useRef(null),b=Ee(g,x),S=s(c,m);return Re.useEffect(()=>(S.itemMap.set(x,{ref:x,...y}),()=>void S.itemMap.delete(x))),h.jsx(ss,{[u]:"",ref:b,children:w})});d.displayName=c;function f(p){const g=s(t+"CollectionConsumer",p);return Re.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((S,C)=>y.indexOf(S.ref.current)-y.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,r]}function ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Nt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function yn({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=uD({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Nt(n),l=v.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function uD({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,i=v.useRef(r),s=Nt(e);return v.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var dD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],te=dD.reduce((t,e)=>{const n=v.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ss:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function sC(t,e){t&&ms.flushSync(()=>t.dispatchEvent(e))}var nt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{};function hD(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var zr=t=>{const{present:e,children:n}=t,r=fD(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),s=Ee(r.ref,pD(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:s}):null};zr.displayName="Presence";function fD(t){const[e,n]=v.useState(),r=v.useRef({}),i=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=hD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=nc(r.current);s.current=a==="mounted"?c:"none"},[a]),nt(()=>{const c=r.current,u=i.current;if(u!==t){const f=s.current,p=nc(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),nt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const m=nc(r.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=p=>{p.target===e&&(s.current=nc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function nc(t){return(t==null?void 0:t.animationName)||"none"}function pD(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mD=Sb.useId||(()=>{}),gD=0;function tr(t){const[e,n]=v.useState(mD());return nt(()=>{n(r=>r??String(gD++))},[t]),e?`radix-${e}`:""}var jg="Collapsible",[vD,oC]=Rt(jg),[yD,Rg]=vD(jg),aC=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l=!1,c]=yn({prop:r,defaultProp:i,onChange:o});return h.jsx(yD,{scope:n,disabled:s,contentId:tr(),open:l,onOpenToggle:v.useCallback(()=>c(u=>!u),[c]),children:h.jsx(te.div,{"data-state":Ag(l),"data-disabled":s?"":void 0,...a,ref:e})})});aC.displayName=jg;var lC="CollapsibleTrigger",cC=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=Rg(lC,n);return h.jsx(te.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Ag(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:ne(t.onClick,i.onOpenToggle)})});cC.displayName=lC;var Mg="CollapsibleContent",uC=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Rg(Mg,t.__scopeCollapsible);return h.jsx(zr,{present:n||i.open,children:({present:s})=>h.jsx(xD,{...r,ref:e,present:s})})});uC.displayName=Mg;var xD=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=Rg(Mg,n),[a,l]=v.useState(r),c=v.useRef(null),u=Ee(e,c),d=v.useRef(0),f=d.current,p=v.useRef(0),g=p.current,m=o.open||a,w=v.useRef(m),y=v.useRef(void 0);return v.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),nt(()=>{const x=c.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const b=x.getBoundingClientRect();d.current=b.height,p.current=b.width,w.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),l(r)}},[o.open,r]),h.jsx(te.div,{"data-state":Ag(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...s,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:m&&i})});function Ag(t){return t?"open":"closed"}var wD=aC,bD=cC,SD=uC,kD=v.createContext(void 0);function jl(t){const e=v.useContext(kD);return t||e||"ltr"}var Dr="Accordion",CD=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ig,ED,_D]=_d(Dr),[Nd,Bq]=Rt(Dr,[_D,oC]),Og=oC(),dC=Re.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return h.jsx(Ig.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?h.jsx(jD,{...s,ref:e}):h.jsx(PD,{...i,ref:e})})});dC.displayName=Dr;var[hC,ND]=Nd(Dr),[fC,TD]=Nd(Dr,{collapsible:!1}),PD=Re.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,l]=yn({prop:n,defaultProp:r,onChange:i});return h.jsx(hC,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:Re.useCallback(()=>s&&l(""),[s,l]),children:h.jsx(fC,{scope:t.__scopeAccordion,collapsible:s,children:h.jsx(pC,{...o,ref:e})})})}),jD=Re.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=yn({prop:n,defaultProp:r,onChange:i}),l=Re.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=Re.useCallback(u=>a((d=[])=>d.filter(f=>f!==u)),[a]);return h.jsx(hC,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:h.jsx(fC,{scope:t.__scopeAccordion,collapsible:!0,children:h.jsx(pC,{...s,ref:e})})})}),[RD,Td]=Nd(Dr),pC=Re.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=Re.useRef(null),l=Ee(a,e),c=ED(n),d=jl(i)==="ltr",f=ne(t.onKeyDown,p=>{var N;if(!CD.includes(p.key))return;const g=p.target,m=c().filter(M=>{var R;return!((R=M.ref.current)!=null&&R.disabled)}),w=m.findIndex(M=>M.ref.current===g),y=m.length;if(w===-1)return;p.preventDefault();let x=w;const b=0,S=y-1,C=()=>{x=w+1,x>S&&(x=b)},k=()=>{x=w-1,x<b&&(x=S)};switch(p.key){case"Home":x=b;break;case"End":x=S;break;case"ArrowRight":s==="horizontal"&&(d?C():k());break;case"ArrowDown":s==="vertical"&&C();break;case"ArrowLeft":s==="horizontal"&&(d?k():C());break;case"ArrowUp":s==="vertical"&&k();break}const _=x%y;(N=m[_].ref.current)==null||N.focus()});return h.jsx(RD,{scope:n,disabled:r,direction:i,orientation:s,children:h.jsx(Ig.Slot,{scope:n,children:h.jsx(te.div,{...o,"data-orientation":s,ref:l,onKeyDown:r?void 0:f})})})}),Mu="AccordionItem",[MD,Lg]=Nd(Mu),mC=Re.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=Td(Mu,n),o=ND(Mu,n),a=Og(n),l=tr(),c=r&&o.value.includes(r)||!1,u=s.disabled||t.disabled;return h.jsx(MD,{scope:n,open:c,disabled:u,triggerId:l,children:h.jsx(wD,{"data-orientation":s.orientation,"data-state":bC(c),...a,...i,ref:e,disabled:u,open:c,onOpenChange:d=>{d?o.onItemOpen(r):o.onItemClose(r)}})})});mC.displayName=Mu;var gC="AccordionHeader",vC=Re.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Td(Dr,n),s=Lg(gC,n);return h.jsx(te.h3,{"data-orientation":i.orientation,"data-state":bC(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});vC.displayName=gC;var Vp="AccordionTrigger",yC=Re.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Td(Dr,n),s=Lg(Vp,n),o=TD(Vp,n),a=Og(n);return h.jsx(Ig.ItemSlot,{scope:n,children:h.jsx(bD,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});yC.displayName=Vp;var xC="AccordionContent",wC=Re.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Td(Dr,n),s=Lg(xC,n),o=Og(n);return h.jsx(SD,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});wC.displayName=xC;function bC(t){return t?"open":"closed"}var AD=dC,ID=mC,OD=vC,SC=yC,kC=wC;const LD=AD,CC=v.forwardRef(({className:t,...e},n)=>h.jsx(ID,{ref:n,className:$("",t),...e}));CC.displayName="AccordionItem";const EC=v.forwardRef(({className:t,children:e,...n},r)=>h.jsx(OD,{className:"flex",children:h.jsx(SC,{ref:r,className:$("flex flex-1 items-center justify-between font-medium transition-all",t),...n,children:e})}));EC.displayName=SC.displayName;const _C=v.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(kC,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:[h.jsx("div",{className:$("",t),children:e})," "]}));_C.displayName=kC.displayName;const da="Валюта и металлы",zD="Акции",DD="Фонды",$D="Облигации",e0="Прочее",FD=(t,e,n)=>{const r={};t.forEach(l=>{if(!l.asset)return;const c=l.asset.assetTypeId,u=l.asset.ticker;let d=e0;if(u==="RUB")d=da;else if(c){const g=e.get(c);g&&(g.id===1||g.id===2||g.title==="currency"||g.title==="currency_pair"?d=da:g.id===3||g.title==="stock"?d=zD:g.id===4||g.title==="fund_share"?d=DD:g.id===5||g.title==="bond"?d=$D:d=g.description||e0)}r[d]||(r[d]={items:[],groupTotalValue:0}),r[d].items.push(l);const f=n.get(l.asset.ticker),p=l.quantity||0;if(u==="RUB")d===da&&(r[d].groupTotalValue+=p);else if(f&&p>0){const m=f.price*100*p;r[d].groupTotalValue+=m}}),Object.keys(r).forEach(l=>{r[l].items.sort((c,u)=>{var p,g;if(c.asset.ticker==="RUB")return-1;if(u.asset.ticker==="RUB")return 1;const d=(((p=n.get(c.asset.ticker))==null?void 0:p.price)??0)*100*(c.quantity??0);return(((g=n.get(u.asset.ticker))==null?void 0:g.price)??0)*100*(u.quantity??0)-d})});const i=Object.entries(r);let s;const o=[];i.forEach(l=>{l[0]===da?s=l:o.push(l)}),o.sort(([,l],[,c])=>c.groupTotalValue-l.groupTotalValue);const a=[];return s&&a.push(s),a.push(...o),a},BD=({portfolioItems:t,assetTypesMap:e,prices:n,isPriceLoading:r,priceError:i})=>{const s=v.useMemo(()=>FD(t,e,n),[t,e,n]),o=t.length>0;return h.jsxs("div",{className:"space-y-3",children:[i&&h.jsx(mt,{message:`Ошибка загрузки цен: ${i}`,className:"mx-4 mb-3"}),!i&&!o&&!r&&h.jsx("p",{className:"p-4 pt-10 text-center text-muted-foreground",children:"На счете нет активов."}),!i&&s.length>0&&h.jsx(LD,{type:"multiple",defaultValue:s.map(([a])=>a),className:"w-full space-y-3",children:s.map(([a,l])=>{const{items:c,groupTotalValue:u}=l,d=a!==da||c.some(f=>{var p;return((p=f.asset)==null?void 0:p.ticker)!=="RUB"});return c.length===0?null:h.jsx(_t,{className:"border border-border/60 rounded-lg shadow-sm overflow-hidden",children:h.jsxs(CC,{value:a,className:"border-none",children:[h.jsx(EC,{className:$("px-4 py-3 text-sm font-medium border-b cursor-pointer","hover:bg-muted/30 active:bg-muted/50","data-[state=open]:bg-muted/20"),children:h.jsxs("div",{className:"flex justify-between items-center w-full",children:[h.jsx("span",{className:"text-base font-medium",children:a}),d&&h.jsx("div",{className:"text-right flex-shrink-0",children:h.jsx(Ht,{value:u,className:"text-base font-medium"})})]})}),h.jsx(_C,{className:"p-0",children:h.jsx("div",{className:"divide-y divide-border",children:c.map(f=>{var p;return((p=f.asset)==null?void 0:p.ticker)==="RUB"?h.jsxs("div",{className:"flex items-center justify-between p-2 space-x-3",children:[h.jsx(Ed,{asset:f.asset,showLotSize:!1,className:"flex-grow min-w-0",iconClassName:"h-8 w-8 rounded-full flex-shrink-0",nameClassName:"text-sm font-medium",tickerClassName:"text-xs"}),h.jsx("div",{className:"text-right flex-shrink-0 ml-2",children:h.jsx(Ht,{value:f.quantity,className:"text-sm font-medium"})})]},f.id):f.asset&&h.jsx(aD,{item:f,currentPriceInfo:n.get(f.asset.ticker)},f.id)})})})]})},a)})}),r&&o&&h.jsx("div",{className:"flex justify-center p-4",children:h.jsx(Te,{size:"sm"})})]})};var db;const _e=typeof window<"u"?(db=window.Telegram)==null?void 0:db.WebApp:void 0;function Dn(){var n,r;return{onClose:()=>{_e==null||_e.close()},onToggleButton:()=>{_e!=null&&_e.MainButton.isVisible?_e==null||_e.MainButton.hide():_e==null||_e.MainButton.show()},tg:_e,user:(n=_e==null?void 0:_e.initDataUnsafe)==null?void 0:n.user,initDataUnsafe:_e==null?void 0:_e.initDataUnsafe,initData:_e==null?void 0:_e.initData,queryId:(r=_e==null?void 0:_e.initDataUnsafe)==null?void 0:r.query_id,themeParams:_e==null?void 0:_e.themeParams,colorScheme:_e==null?void 0:_e.colorScheme}}const VD=()=>{const{accountId:t}=vs(),e=Number(t),n=ut(),{accounts:r,isLoading:i,error:s}=Ni(),{prices:o,isPriceLoading:a,priceError:l,getAccountTotals:c}=tC(),[u,d]=v.useState(new Map),[f,p]=v.useState(!0),[g,m]=v.useState(null),{tg:w}=Dn(),y=v.useMemo(()=>{if(!(!r||!e))return r.find(P=>{var L;return((L=P.brokerAccount)==null?void 0:L.id)===e})},[r,e]),{totalValue:x,totalProfitLoss:b}=v.useMemo(()=>!e||!c?{totalValue:0,totalProfitLoss:0}:c(e),[e,c]);if(v.useEffect(()=>{let P=!0;return p(!0),m(null),jk().then(L=>{P&&(L.isSuccess&&L.resultObject?d(new Map(L.resultObject.map(I=>[I.id,I]))):(console.error("Failed to load types:",L.errorMessage),m(L.errorMessage||"Failed to load asset categories.")))}).catch(L=>{P&&(console.error("Error loading types",L),m(L.message||"Error fetching asset categories."))}).finally(()=>{P&&p(!1)}),()=>{P=!1}},[]),v.useEffect(()=>{const P=()=>n("/portfolio");return w&&(w.BackButton.show(),w.onEvent("backButtonClicked",P)),()=>{w&&(w.BackButton.hide(),w.offEvent("backButtonClicked",P))}},[w,n]),i||f)return h.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-10rem)]",children:h.jsx(Te,{size:"lg"})});if(s)return h.jsx("div",{className:"p-4",children:h.jsx(mt,{message:`Ошибка загрузки данных портфеля: ${s}`})});if(g)return h.jsx("div",{className:"p-4",children:h.jsx(mt,{message:`Ошибка загрузки типов активов: ${g}`})});if(!(y!=null&&y.brokerAccount))return h.jsxs("div",{className:"p-4 text-center",children:[" ",h.jsx(mt,{message:`Счет с ID ${e} не найден.`})," ",h.jsxs(ie,{variant:"outline",onClick:()=>n("/portfolio"),className:"mt-4",children:[h.jsx(Vt,{className:"mr-2 h-4 w-4"})," К списку счетов"]})," "]});const C=y.brokerAccount.title.replace(/["«»]/g,""),k=C.indexOf(" "),_=k>-1?C.substring(0,k):C,N=k>-1?C.substring(k+1):`${y.brokerAccount.id}`;let M=0;y.portfolioItems&&y.portfolioItems.forEach(P=>{var L;((L=P.asset)==null?void 0:L.ticker)!=="RUB"&&P.averagePriceCopecks&&P.averagePriceCopecks>0&&P.quantity&&P.quantity>0&&(M+=P.averagePriceCopecks*P.quantity)});const R=M>0?b/M*100:0,j=b>0?"text-success":b<0?"text-destructive":"text-muted-foreground";return h.jsxs("div",{className:"p-4 space-y-3 pb-20",children:[h.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-sm space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("h2",{className:"text-2xl font-semibold leading-tight",children:_}),h.jsx("span",{className:"text-base text-muted-foreground leading-snug",children:N})]}),h.jsxs(ie,{variant:"outline",onClick:()=>n(`/portfolio/${e}/operations`),className:$("flex items-center gap-1.5 min-w-[100px] h-9 px-3 py-1.5","text-sm font-medium rounded-xl","border border-border bg-background hover:bg-muted/50 shadow-sm","flex-shrink-0"),children:[h.jsx(ez,{className:"h-4 w-4"}),"Операции"]})]}),h.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[h.jsxs("div",{className:"text-3xl font-bold",children:[h.jsx(Ht,{value:x}),a&&h.jsx(Te,{size:"sm"})]}),h.jsxs("div",{className:$("text-right flex flex-col items-end",j),children:[h.jsx("div",{className:"text-base font-medium",children:h.jsx(Ht,{value:b,showSign:!0})}),b!==0&&M>0&&h.jsxs("span",{className:"text-sm opacity-90",children:["(",En(R,2),"%)"]})]})]})]}),h.jsx(BD,{portfolioItems:y.portfolioItems||[],assetTypesMap:u,prices:o,isPriceLoading:a,priceError:l})]})},NC=v.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full",children:h.jsx("table",{ref:n,className:$("w-full caption-bottom text-sm",t),...e})}));NC.displayName="Table";const TC=v.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:$("[&_tr]:border-b",t),...e}));TC.displayName="TableHeader";const PC=v.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:$("[&_tr:last-child]:border-0",t),...e}));PC.displayName="TableBody";const WD=v.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:$("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));WD.displayName="TableFooter";const no=v.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:$("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));no.displayName="TableRow";const br=v.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:$("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));br.displayName="TableHead";const Ps=v.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:$("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ps.displayName="TableCell";const UD=v.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:$("mt-4 text-sm text-muted-foreground",t),...e}));UD.displayName="TableCaption";function ea(t,e){if(t.one!==void 0&&e===1)return t.one;const n=e%10,r=e%100;return n===1&&r!==11?t.singularNominative.replace("{{count}}",String(e)):n>=2&&n<=4&&(r<10||r>20)?t.singularGenitive.replace("{{count}}",String(e)):t.pluralGenitive.replace("{{count}}",String(e))}function bt(t){return(e,n)=>n!=null&&n.addSuffix?n.comparison&&n.comparison>0?t.future?ea(t.future,e):"через "+ea(t.regular,e):t.past?ea(t.past,e):ea(t.regular,e)+" назад":ea(t.regular,e)}const HD={lessThanXSeconds:bt({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:bt({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(t,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:bt({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:bt({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:bt({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:bt({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:bt({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:bt({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:bt({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:bt({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:bt({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:bt({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:bt({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:bt({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:bt({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},qD=(t,e,n)=>HD[t](e,n),GD={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},KD={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},XD={any:"{{date}}, {{time}}"},YD={date:Js({formats:GD,defaultWidth:"full"}),time:Js({formats:KD,defaultWidth:"full"}),dateTime:Js({formats:XD,defaultWidth:"any"})},zg=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function ZD(t){const e=zg[t];switch(t){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}function t0(t){const e=zg[t];return t===2?"'во "+e+" в' p":"'в "+e+" в' p"}function QD(t){const e=zg[t];switch(t){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}const JD={lastWeek:(t,e,n)=>{const r=t.getDay();return Vx(t,e,n)?t0(r):ZD(r)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(t,e,n)=>{const r=t.getDay();return Vx(t,e,n)?t0(r):QD(r)},other:"P"},e$=(t,e,n,r)=>{const i=JD[t];return typeof i=="function"?i(e,n,r):i},t$={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},n$={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},r$={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},i$={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},s$={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},o$={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},a$={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},l$=(t,e)=>{const n=Number(t),r=e==null?void 0:e.unit;let i;return r==="date"?i="-е":r==="week"||r==="minute"||r==="second"?i="-я":i="-й",n+i},c$={ordinalNumber:l$,era:Gn({values:t$,defaultWidth:"wide"}),quarter:Gn({values:n$,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gn({values:r$,defaultWidth:"wide",formattingValues:i$,defaultFormattingWidth:"wide"}),day:Gn({values:s$,defaultWidth:"wide"}),dayPeriod:Gn({values:o$,defaultWidth:"any",formattingValues:a$,defaultFormattingWidth:"wide"})},u$=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,d$=/\d+/i,h$={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},f$={any:[/^д/i,/^н/i]},p$={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},m$={any:[/1/i,/2/i,/3/i,/4/i]},g$={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},v$={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},y$={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},x$={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},w$={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},b$={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},S$={ordinalNumber:_k({matchPattern:u$,parsePattern:d$,valueCallback:t=>parseInt(t,10)}),era:Kn({matchPatterns:h$,defaultMatchWidth:"wide",parsePatterns:f$,defaultParseWidth:"any"}),quarter:Kn({matchPatterns:p$,defaultMatchWidth:"wide",parsePatterns:m$,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Kn({matchPatterns:g$,defaultMatchWidth:"wide",parsePatterns:v$,defaultParseWidth:"any"}),day:Kn({matchPatterns:y$,defaultMatchWidth:"wide",parsePatterns:x$,defaultParseWidth:"any"}),dayPeriod:Kn({matchPatterns:w$,defaultMatchWidth:"wide",parsePatterns:b$,defaultParseWidth:"any"})},n0={code:"ru",formatDistance:qD,formatLong:YD,formatRelative:e$,localize:c$,match:S$,options:{weekStartsOn:1,firstWeekContainsDate:1}},k$=({operations:t})=>{const e=n=>n===0?"bg-green-500/5 dark:bg-green-900/10 hover:bg-green-500/10 dark:hover:bg-green-900/20":"bg-red-500/5 dark:bg-red-900/10 hover:bg-red-500/10 dark:hover:bg-red-900/20";return h.jsxs(NC,{className:"w-full",children:[h.jsx(TC,{className:"sticky top-0 bg-card z-10",children:h.jsxs(no,{className:"border-b border-border/10",children:[h.jsx(br,{className:"pl-3 pr-1 py-2 text-xs text-muted-foreground font-normal text-left w-[60px]",children:"Дата"}),h.jsx(br,{className:"pl-2 pr-1 py-2 text-xs text-muted-foreground font-normal text-left",children:"Актив"}),h.jsx(br,{className:"px-1 py-2 text-xs text-muted-foreground font-normal text-right whitespace-nowrap w-[90px]",children:"Сумма"}),h.jsx(br,{className:"pl-1 pr-3 py-2 text-xs text-muted-foreground font-normal text-right whitespace-nowrap w-[60px]",children:"Кол-во"})]})}),h.jsx(PC,{children:t.length===0?h.jsx(no,{children:h.jsx(Ps,{colSpan:4,className:"text-center text-muted-foreground h-40 pt-10",children:"Операций не найдено"})}):t.map(n=>{const r=e(n.marketOperationType),s=n.marketOperationType===0?"text-success":"text-destructive",o=n.totalAssetCostCopecks;return h.jsxs(no,{className:$(r,"transition-colors duration-100"),children:[h.jsxs(Ps,{className:"pl-3 pr-1 py-3 text-xs leading-snug text-muted-foreground align-middle text-left",children:[n.createdAt?ju(new Date(n.createdAt),"dd MMM",{locale:n0}):"—"," ",h.jsx("br",{}),n.createdAt?ju(new Date(n.createdAt),"HH:mm",{locale:n0}):""]}),h.jsx(Ps,{className:"pl-2 pr-1 py-3 align-middle",children:n.asset?h.jsx(Ed,{asset:n.asset,showLotSize:!1,iconClassName:"h-8 w-8 rounded-full flex-shrink-0"}):h.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Актив не найден"})}),h.jsx(Ps,{className:"text-right px-1 py-3 text-sm align-middle font-medium tabular-nums whitespace-nowrap",children:h.jsx(Ht,{value:o})}),h.jsx(Ps,{className:$("text-right pl-1 pr-3 py-3 text-sm align-middle font-medium tabular-nums whitespace-nowrap",s),children:En(n.quantity,0)})]},n.id)})})]})},C$=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},E$=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},_$=async t=>{const e="Failed to search market operations history.";try{const n=await yt.post("/api/BrokerAccountUser/SearchMarketOperationsHistory",t),r=C$(n,e);return r.isSuccess&&r.resultObject?r.resultObject.marketOperations=r.resultObject.marketOperations||[]:r.isSuccess&&!r.resultObject&&(console.warn("[API/History] searchMarketOperationsHistory success but resultObject is null. Normalizing."),r.resultObject={marketOperationHistorySearchParameters:t,foundCount:0,marketOperations:[]}),r}catch(n){return E$(n,e)}};function r0(t,[e,n]){return Math.min(n,Math.max(e,t))}function N$(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var T$="DismissableLayer",Wp="dismissableLayer.update",P$="dismissableLayer.pointerDownOutside",j$="dismissableLayer.focusOutside",i0,jC=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pd=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(jC),[u,d]=v.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),g=Ee(e,_=>d(_)),m=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(w),x=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,C=M$(_=>{const N=_.target,M=[...c.branches].some(R=>R.contains(N));!S||M||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},f),k=A$(_=>{const N=_.target;[...c.branches].some(R=>R.contains(N))||(s==null||s(_),o==null||o(_),_.defaultPrevented||a==null||a())},f);return N$(_=>{x===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},f),v.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(i0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),s0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=i0)}},[u,f,n,c]),v.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),s0())},[u,c]),v.useEffect(()=>{const _=()=>p({});return document.addEventListener(Wp,_),()=>document.removeEventListener(Wp,_)},[]),h.jsx(te.div,{...l,ref:g,style:{pointerEvents:b?S?"auto":"none":void 0,...t.style},onFocusCapture:ne(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ne(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ne(t.onPointerDownCapture,C.onPointerDownCapture)})});Pd.displayName=T$;var R$="DismissableLayerBranch",RC=v.forwardRef((t,e)=>{const n=v.useContext(jC),r=v.useRef(null),i=Ee(e,r);return v.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),h.jsx(te.div,{...t,ref:i})});RC.displayName=R$;function M$(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){MC(P$,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function A$(t,e=globalThis==null?void 0:globalThis.document){const n=Nt(t),r=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!r.current&&MC(j$,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function s0(){const t=new CustomEvent(Wp);document.dispatchEvent(t)}function MC(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?sC(i,s):i.dispatchEvent(s)}var I$=Pd,O$=RC,Wh=0;function AC(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??o0()),document.body.insertAdjacentElement("beforeend",t[1]??o0()),Wh++,()=>{Wh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Wh--}},[])}function o0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Uh="focusScope.autoFocusOnMount",Hh="focusScope.autoFocusOnUnmount",a0={bubbles:!1,cancelable:!0},L$="FocusScope",Dg=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=v.useState(null),c=Nt(i),u=Nt(s),d=v.useRef(null),f=Ee(e,m=>l(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let m=function(b){if(p.paused||!a)return;const S=b.target;a.contains(S)?d.current=S:Kr(d.current,{select:!0})},w=function(b){if(p.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||Kr(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&Kr(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),x.disconnect()}}},[r,a,p.paused]),v.useEffect(()=>{if(a){c0.add(p);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(Uh,a0);a.addEventListener(Uh,c),a.dispatchEvent(y),y.defaultPrevented||(z$(V$(IC(a)),{select:!0}),document.activeElement===m&&Kr(a))}return()=>{a.removeEventListener(Uh,c),setTimeout(()=>{const y=new CustomEvent(Hh,a0);a.addEventListener(Hh,u),a.dispatchEvent(y),y.defaultPrevented||Kr(m??document.body,{select:!0}),a.removeEventListener(Hh,u),c0.remove(p)},0)}}},[a,c,u,p]);const g=v.useCallback(m=>{if(!n&&!r||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(w&&y){const x=m.currentTarget,[b,S]=D$(x);b&&S?!m.shiftKey&&y===S?(m.preventDefault(),n&&Kr(b,{select:!0})):m.shiftKey&&y===b&&(m.preventDefault(),n&&Kr(S,{select:!0})):y===x&&m.preventDefault()}},[n,r,p.paused]);return h.jsx(te.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Dg.displayName=L$;function z$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Kr(r,{select:e}),document.activeElement!==n)return}function D$(t){const e=IC(t),n=l0(e,t),r=l0(e.reverse(),t);return[n,r]}function IC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function l0(t,e){for(const n of t)if(!$$(n,{upTo:e}))return n}function $$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function F$(t){return t instanceof HTMLInputElement&&"select"in t}function Kr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&F$(t)&&e&&t.select()}}var c0=B$();function B$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=u0(t,e),t.unshift(e)},remove(e){var n;t=u0(t,e),(n=t[0])==null||n.resume()}}}function u0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function V$(t){return t.filter(e=>e.tagName!=="A")}const W$=["top","right","bottom","left"],xi=Math.min,Yt=Math.max,Au=Math.round,rc=Math.floor,nr=t=>({x:t,y:t}),U$={left:"right",right:"left",bottom:"top",top:"bottom"},H$={start:"end",end:"start"};function Up(t,e,n){return Yt(t,xi(e,n))}function jr(t,e){return typeof t=="function"?t(e):t}function Rr(t){return t.split("-")[0]}function Lo(t){return t.split("-")[1]}function $g(t){return t==="x"?"y":"x"}function Fg(t){return t==="y"?"height":"width"}function wi(t){return["top","bottom"].includes(Rr(t))?"y":"x"}function Bg(t){return $g(wi(t))}function q$(t,e,n){n===void 0&&(n=!1);const r=Lo(t),i=Bg(t),s=Fg(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Iu(o)),[o,Iu(o)]}function G$(t){const e=Iu(t);return[Hp(t),e,Hp(e)]}function Hp(t){return t.replace(/start|end/g,e=>H$[e])}function K$(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function X$(t,e,n,r){const i=Lo(t);let s=K$(Rr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Hp)))),s}function Iu(t){return t.replace(/left|right|bottom|top/g,e=>U$[e])}function Y$(t){return{top:0,right:0,bottom:0,left:0,...t}}function OC(t){return typeof t!="number"?Y$(t):{top:t,right:t,bottom:t,left:t}}function Ou(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function d0(t,e,n){let{reference:r,floating:i}=t;const s=wi(e),o=Bg(e),a=Fg(o),l=Rr(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Lo(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const Z$=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=d0(c,r,l),f=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x,y:b,data:S,reset:C}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=x??u,d=b??d,p={...p,[w]:{...p[w],...S}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:d}=d0(c,f,l)),m=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function ul(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=jr(e,t),g=OC(p),w=a[f?d==="floating"?"reference":"floating":d],y=Ou(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},C=Ou(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:l}):x);return{top:(y.top-C.top+g.top)/S.y,bottom:(C.bottom-y.bottom+g.bottom)/S.y,left:(y.left-C.left+g.left)/S.x,right:(C.right-y.right+g.right)/S.x}}const Q$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=jr(t,e)||{};if(c==null)return{};const d=OC(u),f={x:n,y:r},p=Bg(i),g=Fg(p),m=await o.getDimensions(c),w=p==="y",y=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-f[p]-s.floating[g],C=f[p]-s.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let _=k?k[b]:0;(!_||!await(o.isElement==null?void 0:o.isElement(k)))&&(_=a.floating[b]||s.floating[g]);const N=S/2-C/2,M=_/2-m[g]/2-1,R=xi(d[y],M),j=xi(d[x],M),P=R,L=_-m[g]-j,I=_/2-m[g]/2+N,H=Up(P,I,L),V=!l.arrow&&Lo(i)!=null&&I!==H&&s.reference[g]/2-(I<P?R:j)-m[g]/2<0,F=V?I<P?I-P:I-L:0;return{[p]:f[p]+F,data:{[p]:H,centerOffset:I-H-F,...V&&{alignmentOffset:F}},reset:V}}}),J$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=jr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Rr(i),x=wi(a),b=Rr(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(b||!m?[Iu(a)]:G$(a)),k=g!=="none";!f&&k&&C.push(...X$(a,m,g,S));const _=[a,...C],N=await ul(e,w),M=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&M.push(N[y]),d){const I=q$(i,o,S);M.push(N[I[0]],N[I[1]])}if(R=[...R,{placement:i,overflows:M}],!M.every(I=>I<=0)){var j,P;const I=(((j=s.flip)==null?void 0:j.index)||0)+1,H=_[I];if(H)return{data:{index:I,overflows:R},reset:{placement:H}};let V=(P=R.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!V)switch(p){case"bestFit":{var L;const F=(L=R.filter(O=>{if(k){const A=wi(O.placement);return A===x||A==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(A=>A>0).reduce((A,E)=>A+E,0)]).sort((O,A)=>O[1]-A[1])[0])==null?void 0:L[0];F&&(V=F);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function h0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function f0(t){return W$.some(e=>t[e]>=0)}const eF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=jr(t,e);switch(r){case"referenceHidden":{const s=await ul(e,{...i,elementContext:"reference"}),o=h0(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:f0(o)}}}case"escaped":{const s=await ul(e,{...i,altBoundary:!0}),o=h0(s,n.floating);return{data:{escapedOffsets:o,escaped:f0(o)}}}default:return{}}}}};async function tF(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Rr(n),a=Lo(n),l=wi(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=jr(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const nF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await tF(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},rF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:y,y:x}=w;return{x:y,y:x}}},...l}=jr(t,e),c={x:n,y:r},u=await ul(e,l),d=wi(Rr(i)),f=$g(d);let p=c[f],g=c[d];if(s){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=p+u[w],b=p-u[y];p=Up(x,p,b)}if(o){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",x=g+u[w],b=g-u[y];g=Up(x,g,b)}const m=a.fn({...e,[f]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:s,[d]:o}}}}}},iF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=jr(t,e),u={x:n,y:r},d=wi(i),f=$g(d);let p=u[f],g=u[d];const m=jr(a,e),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=f==="y"?"height":"width",S=s.reference[f]-s.floating[b]+w.mainAxis,C=s.reference[f]+s.reference[b]-w.mainAxis;p<S?p=S:p>C&&(p=C)}if(c){var y,x;const b=f==="y"?"width":"height",S=["top","left"].includes(Rr(i)),C=s.reference[d]-s.floating[b]+(S&&((y=o.offset)==null?void 0:y[d])||0)+(S?0:w.crossAxis),k=s.reference[d]+s.reference[b]+(S?0:((x=o.offset)==null?void 0:x[d])||0)-(S?w.crossAxis:0);g<C?g=C:g>k&&(g=k)}return{[f]:p,[d]:g}}}},sF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=jr(t,e),u=await ul(e,c),d=Rr(i),f=Lo(i),p=wi(i)==="y",{width:g,height:m}=s.floating;let w,y;d==="top"||d==="bottom"?(w=d,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,w=f==="end"?"top":"bottom");const x=m-u.top-u.bottom,b=g-u.left-u.right,S=xi(m-u[w],x),C=xi(g-u[y],b),k=!e.middlewareData.shift;let _=S,N=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=x),k&&!f){const R=Yt(u.left,0),j=Yt(u.right,0),P=Yt(u.top,0),L=Yt(u.bottom,0);p?N=g-2*(R!==0||j!==0?R+j:Yt(u.left,u.right)):_=m-2*(P!==0||L!==0?P+L:Yt(u.top,u.bottom))}await l({...e,availableWidth:N,availableHeight:_});const M=await o.getDimensions(a.floating);return g!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function jd(){return typeof window<"u"}function zo(t){return LC(t)?(t.nodeName||"").toLowerCase():"#document"}function nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function lr(t){var e;return(e=(LC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function LC(t){return jd()?t instanceof Node||t instanceof nn(t).Node:!1}function In(t){return jd()?t instanceof Element||t instanceof nn(t).Element:!1}function sr(t){return jd()?t instanceof HTMLElement||t instanceof nn(t).HTMLElement:!1}function p0(t){return!jd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nn(t).ShadowRoot}function Rl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=On(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function oF(t){return["table","td","th"].includes(zo(t))}function Rd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Vg(t){const e=Wg(),n=In(t)?On(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function aF(t){let e=bi(t);for(;sr(e)&&!Co(e);){if(Vg(e))return e;if(Rd(e))return null;e=bi(e)}return null}function Wg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Co(t){return["html","body","#document"].includes(zo(t))}function On(t){return nn(t).getComputedStyle(t)}function Md(t){return In(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bi(t){if(zo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||p0(t)&&t.host||lr(t);return p0(e)?e.host:e}function zC(t){const e=bi(t);return Co(e)?t.ownerDocument?t.ownerDocument.body:t.body:sr(e)&&Rl(e)?e:zC(e)}function dl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=zC(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=nn(i);if(s){const a=qp(o);return e.concat(o,o.visualViewport||[],Rl(i)?i:[],a&&n?dl(a):[])}return e.concat(i,dl(i,[],n))}function qp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function DC(t){const e=On(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=sr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Au(n)!==s||Au(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Ug(t){return In(t)?t:t.contextElement}function ro(t){const e=Ug(t);if(!sr(e))return nr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=DC(e);let o=(s?Au(n.width):n.width)/r,a=(s?Au(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const lF=nr(0);function $C(t){const e=nn(t);return!Wg()||!e.visualViewport?lF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==nn(t)?!1:e}function os(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Ug(t);let o=nr(1);e&&(r?In(r)&&(o=ro(r)):o=ro(t));const a=cF(s,n,r)?$C(s):nr(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=nn(s),p=r&&In(r)?nn(r):r;let g=f,m=qp(g);for(;m&&r&&p!==g;){const w=ro(m),y=m.getBoundingClientRect(),x=On(m),b=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,S=y.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,d*=w.y,l+=b,c+=S,g=nn(m),m=qp(g)}}return Ou({width:u,height:d,x:l,y:c})}function Hg(t,e){const n=Md(t).scrollLeft;return e?e.left+n:os(lr(t)).left+n}function FC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Hg(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function uF(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=lr(r),a=e?Rd(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=nr(1);const u=nr(0),d=sr(r);if((d||!d&&!s)&&((zo(r)!=="body"||Rl(o))&&(l=Md(r)),sr(r))){const p=os(r);c=ro(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!d&&!s?FC(o,l,!0):nr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function dF(t){return Array.from(t.getClientRects())}function hF(t){const e=lr(t),n=Md(t),r=t.ownerDocument.body,i=Yt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Yt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Hg(t);const a=-n.scrollTop;return On(r).direction==="rtl"&&(o+=Yt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function fF(t,e){const n=nn(t),r=lr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Wg();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function pF(t,e){const n=os(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=sr(t)?ro(t):nr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function m0(t,e,n){let r;if(e==="viewport")r=fF(t,n);else if(e==="document")r=hF(lr(t));else if(In(e))r=pF(e,n);else{const i=$C(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ou(r)}function BC(t,e){const n=bi(t);return n===e||!In(n)||Co(n)?!1:On(n).position==="fixed"||BC(n,e)}function mF(t,e){const n=e.get(t);if(n)return n;let r=dl(t,[],!1).filter(a=>In(a)&&zo(a)!=="body"),i=null;const s=On(t).position==="fixed";let o=s?bi(t):t;for(;In(o)&&!Co(o);){const a=On(o),l=Vg(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Rl(o)&&!l&&BC(t,o))?r=r.filter(u=>u!==o):i=a,o=bi(o)}return e.set(t,r),r}function gF(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Rd(e)?[]:mF(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=m0(e,u,i);return c.top=Yt(d.top,c.top),c.right=xi(d.right,c.right),c.bottom=xi(d.bottom,c.bottom),c.left=Yt(d.left,c.left),c},m0(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vF(t){const{width:e,height:n}=DC(t);return{width:e,height:n}}function yF(t,e,n){const r=sr(e),i=lr(e),s=n==="fixed",o=os(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=nr(0);if(r||!r&&!s)if((zo(e)!=="body"||Rl(i))&&(a=Md(e)),r){const f=os(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=Hg(i));const c=i&&!r&&!s?FC(i,a):nr(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function qh(t){return On(t).position==="static"}function g0(t,e){if(!sr(t)||On(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return lr(t)===n&&(n=n.ownerDocument.body),n}function VC(t,e){const n=nn(t);if(Rd(t))return n;if(!sr(t)){let i=bi(t);for(;i&&!Co(i);){if(In(i)&&!qh(i))return i;i=bi(i)}return n}let r=g0(t,e);for(;r&&oF(r)&&qh(r);)r=g0(r,e);return r&&Co(r)&&qh(r)&&!Vg(r)?n:r||aF(t)||n}const xF=async function(t){const e=this.getOffsetParent||VC,n=this.getDimensions,r=await n(t.floating);return{reference:yF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wF(t){return On(t).direction==="rtl"}const bF={convertOffsetParentRelativeRectToViewportRelativeRect:uF,getDocumentElement:lr,getClippingRect:gF,getOffsetParent:VC,getElementRects:xF,getClientRects:dF,getDimensions:vF,getScale:ro,isElement:In,isRTL:wF};function WC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SF(t,e){let n=null,r;const i=lr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(a||e(),!f||!p)return;const g=rc(d),m=rc(i.clientWidth-(u+f)),w=rc(i.clientHeight-(d+p)),y=rc(u),b={rootMargin:-g+"px "+-m+"px "+-w+"px "+-y+"px",threshold:Yt(0,xi(1,l))||1};let S=!0;function C(k){const _=k[0].intersectionRatio;if(_!==l){if(!S)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!WC(c,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(C,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(t)}return o(!0),s}function kF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ug(t),u=i||s?[...c?dl(c):[],...dl(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?SF(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?os(t):null;l&&w();function w(){const y=os(t);m&&!WC(m,y)&&n(),m=y,g=requestAnimationFrame(w)}return n(),()=>{var y;u.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const CF=nF,EF=rF,_F=J$,NF=sF,TF=eF,v0=Q$,PF=iF,jF=(t,e,n)=>{const r=new Map,i={platform:bF,...n},s={...i.platform,_c:r};return Z$(t,e,{...i,platform:s})};var Dc=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Lu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Lu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Lu(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function UC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function y0(t,e){const n=UC(t);return Math.round(e*n)/n}function Gh(t){const e=v.useRef(t);return Dc(()=>{e.current=t}),e}function RF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=v.useState(r);Lu(f,r)||p(r);const[g,m]=v.useState(null),[w,y]=v.useState(null),x=v.useCallback(O=>{O!==k.current&&(k.current=O,m(O))},[]),b=v.useCallback(O=>{O!==_.current&&(_.current=O,y(O))},[]),S=s||g,C=o||w,k=v.useRef(null),_=v.useRef(null),N=v.useRef(u),M=l!=null,R=Gh(l),j=Gh(i),P=Gh(c),L=v.useCallback(()=>{if(!k.current||!_.current)return;const O={placement:e,strategy:n,middleware:f};j.current&&(O.platform=j.current),jF(k.current,_.current,O).then(A=>{const E={...A,isPositioned:P.current!==!1};I.current&&!Lu(N.current,E)&&(N.current=E,ms.flushSync(()=>{d(E)}))})},[f,e,n,j,P]);Dc(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[c]);const I=v.useRef(!1);Dc(()=>(I.current=!0,()=>{I.current=!1}),[]),Dc(()=>{if(S&&(k.current=S),C&&(_.current=C),S&&C){if(R.current)return R.current(S,C,L);L()}},[S,C,L,R,M]);const H=v.useMemo(()=>({reference:k,floating:_,setReference:x,setFloating:b}),[x,b]),V=v.useMemo(()=>({reference:S,floating:C}),[S,C]),F=v.useMemo(()=>{const O={position:n,left:0,top:0};if(!V.floating)return O;const A=y0(V.floating,u.x),E=y0(V.floating,u.y);return a?{...O,transform:"translate("+A+"px, "+E+"px)",...UC(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:E}},[n,a,V.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:L,refs:H,elements:V,floatingStyles:F}),[u,L,H,V,F])}const MF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?v0({element:r.current,padding:i}).fn(n):{}:r?v0({element:r,padding:i}).fn(n):{}}}},AF=(t,e)=>({...CF(t),options:[t,e]}),IF=(t,e)=>({...EF(t),options:[t,e]}),OF=(t,e)=>({...PF(t),options:[t,e]}),LF=(t,e)=>({..._F(t),options:[t,e]}),zF=(t,e)=>({...NF(t),options:[t,e]}),DF=(t,e)=>({...TF(t),options:[t,e]}),$F=(t,e)=>({...MF(t),options:[t,e]});var FF="Arrow",HC=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return h.jsx(te.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});HC.displayName=FF;var BF=HC;function Ad(t){const[e,n]=v.useState(void 0);return nt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var qg="Popper",[qC,GC]=Rt(qg),[VF,KC]=qC(qg),XC=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return h.jsx(VF,{scope:e,anchor:r,onAnchorChange:i,children:n})};XC.displayName=qg;var YC="PopperAnchor",ZC=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=KC(YC,n),o=v.useRef(null),a=Ee(e,o);return v.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(te.div,{...i,ref:a})});ZC.displayName=YC;var Gg="PopperContent",[WF,UF]=qC(Gg),QC=v.forwardRef((t,e)=>{var ee,Q,ge,re,ve,we;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,w=KC(Gg,n),[y,x]=v.useState(null),b=Ee(e,rt=>x(rt)),[S,C]=v.useState(null),k=Ad(S),_=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,M=r+(s!=="center"?"-"+s:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},j=Array.isArray(c)?c:[c],P=j.length>0,L={padding:R,boundary:j.filter(qF),altBoundary:P},{refs:I,floatingStyles:H,placement:V,isPositioned:F,middlewareData:O}=RF({strategy:"fixed",placement:M,whileElementsMounted:(...rt)=>kF(...rt,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[AF({mainAxis:i+N,alignmentAxis:o}),l&&IF({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?OF():void 0,...L}),l&&LF({...L}),zF({...L,apply:({elements:rt,rects:wt,availableWidth:Mt,availableHeight:At})=>{const{width:Fr,height:oh}=wt.reference,Mi=rt.floating.style;Mi.setProperty("--radix-popper-available-width",`${Mt}px`),Mi.setProperty("--radix-popper-available-height",`${At}px`),Mi.setProperty("--radix-popper-anchor-width",`${Fr}px`),Mi.setProperty("--radix-popper-anchor-height",`${oh}px`)}}),S&&$F({element:S,padding:a}),GF({arrowWidth:_,arrowHeight:N}),f&&DF({strategy:"referenceHidden",...L})]}),[A,E]=tE(V),X=Nt(g);nt(()=>{F&&(X==null||X())},[F,X]);const he=(ee=O.arrow)==null?void 0:ee.x,T=(Q=O.arrow)==null?void 0:Q.y,Se=((ge=O.arrow)==null?void 0:ge.centerOffset)!==0,[Ge,xe]=v.useState();return nt(()=>{y&&xe(window.getComputedStyle(y).zIndex)},[y]),h.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:F?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ge,"--radix-popper-transform-origin":[(re=O.transformOrigin)==null?void 0:re.x,(ve=O.transformOrigin)==null?void 0:ve.y].join(" "),...((we=O.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(WF,{scope:n,placedSide:A,onArrowChange:C,arrowX:he,arrowY:T,shouldHideArrow:Se,children:h.jsx(te.div,{"data-side":A,"data-align":E,...m,ref:b,style:{...m.style,animation:F?void 0:"none"}})})})});QC.displayName=Gg;var JC="PopperArrow",HF={top:"bottom",right:"left",bottom:"top",left:"right"},eE=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=UF(JC,r),o=HF[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(BF,{...i,ref:n,style:{...i.style,display:"block"}})})});eE.displayName=JC;function qF(t){return t!==null}var GF=t=>({name:"transformOrigin",options:t,fn(e){var w,y,x;const{placement:n,rects:r,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=tE(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=o?d:`${f}px`,m=`${-l}px`):c==="top"?(g=o?d:`${f}px`,m=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=o?d:`${p}px`):c==="left"&&(g=`${r.floating.width+l}px`,m=o?d:`${p}px`),{data:{x:g,y:m}}}});function tE(t){const[e,n="center"]=t.split("-");return[e,n]}var KF=XC,XF=ZC,YF=QC,ZF=eE,QF="Portal",Id=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=v.useState(!1);nt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?u2.createPortal(h.jsx(te.div,{...r,ref:e}),o):null});Id.displayName=QF;function Od(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var JF="VisuallyHidden",Ld=v.forwardRef((t,e)=>h.jsx(te.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ld.displayName=JF;var e4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ss=new WeakMap,ic=new WeakMap,sc={},Kh=0,nE=function(t){return t&&(t.host||nE(t.parentNode))},t4=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=nE(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},n4=function(t,e,n,r){var i=t4(e,Array.isArray(t)?t:[t]);sc[n]||(sc[n]=new WeakMap);var s=sc[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(r),g=p!==null&&p!=="false",m=(Ss.get(f)||0)+1,w=(s.get(f)||0)+1;Ss.set(f,m),s.set(f,w),o.push(f),m===1&&g&&ic.set(f,!0),w===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(e),a.clear(),Kh++,function(){o.forEach(function(d){var f=Ss.get(d)-1,p=s.get(d)-1;Ss.set(d,f),s.set(d,p),f||(ic.has(d)||d.removeAttribute(r),ic.delete(d)),p||d.removeAttribute(n)}),Kh--,Kh||(Ss=new WeakMap,Ss=new WeakMap,ic=new WeakMap,sc={})}},rE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e4(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),n4(r,i,n,"aria-hidden")):function(){return null}},Xn=function(){return Xn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xn.apply(this,arguments)};function iE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function r4(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var $c="right-scroll-bar-position",Fc="width-before-scroll-bar",i4="with-scroll-bars-hidden",s4="--removed-body-scroll-bar-size";function Xh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function o4(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var a4=typeof window<"u"?v.useLayoutEffect:v.useEffect,x0=new WeakMap;function l4(t,e){var n=o4(null,function(r){return t.forEach(function(i){return Xh(i,r)})});return a4(function(){var r=x0.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Xh(a,null)}),s.forEach(function(a){i.has(a)||Xh(a,o)})}x0.set(n,t)},[t]),n}function c4(t){return t}function u4(t,e){e===void 0&&(e=c4);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function d4(t){t===void 0&&(t={});var e=u4(null);return e.options=Xn({async:!0,ssr:!1},t),e}var sE=function(t){var e=t.sideCar,n=iE(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Xn({},n))};sE.isSideCarExport=!0;function h4(t,e){return t.useMedium(e),sE}var oE=d4(),Yh=function(){},zd=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Yh,onWheelCapture:Yh,onTouchMoveCapture:Yh}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,p=t.noIsolation,g=t.inert,m=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,x=t.gapMode,b=iE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,C=l4([n,e]),k=Xn(Xn({},b),i);return v.createElement(v.Fragment,null,u&&v.createElement(S,{sideCar:oE,removeScrollBar:c,shards:d,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:x}),o?v.cloneElement(v.Children.only(a),Xn(Xn({},k),{ref:C})):v.createElement(y,Xn({},k,{className:l,ref:C}),a))});zd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zd.classNames={fullWidth:Fc,zeroRight:$c};var f4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=f4();return e&&t.setAttribute("nonce",e),t}function m4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function g4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var v4=function(){var t=0,e=null;return{add:function(n){t==0&&(e=p4())&&(m4(e,n),g4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},y4=function(){var t=v4();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aE=function(){var t=y4(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},x4={left:0,top:0,right:0,gap:0},Zh=function(t){return parseInt(t||"",10)||0},w4=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Zh(n),Zh(r),Zh(i)]},b4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return x4;var e=w4(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},S4=aE(),io="data-scroll-locked",k4=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(i4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(io,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($c,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($c," .").concat($c,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(io,`] {
    `).concat(s4,": ").concat(a,`px;
  }
`)},w0=function(){var t=parseInt(document.body.getAttribute(io)||"0",10);return isFinite(t)?t:0},C4=function(){v.useEffect(function(){return document.body.setAttribute(io,(w0()+1).toString()),function(){var t=w0()-1;t<=0?document.body.removeAttribute(io):document.body.setAttribute(io,t.toString())}},[])},E4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;C4();var s=v.useMemo(function(){return b4(i)},[i]);return v.createElement(S4,{styles:k4(s,!e,i,n?"":"!important")})},Gp=!1;if(typeof window<"u")try{var oc=Object.defineProperty({},"passive",{get:function(){return Gp=!0,!0}});window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{Gp=!1}var ks=Gp?{passive:!1}:!1,_4=function(t){return t.tagName==="TEXTAREA"},lE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_4(t)&&n[e]==="visible")},N4=function(t){return lE(t,"overflowY")},T4=function(t){return lE(t,"overflowX")},b0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=cE(t,r);if(i){var s=uE(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},P4=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},j4=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cE=function(t,e){return t==="v"?N4(e):T4(e)},uE=function(t,e){return t==="v"?P4(e):j4(e)},R4=function(t,e){return t==="h"&&e==="rtl"?-1:1},M4=function(t,e,n,r,i){var s=R4(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var p=uE(t,a),g=p[0],m=p[1],w=p[2],y=m-w-s*g;(g||y)&&cE(t,a)&&(d+=y,f+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},ac=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},S0=function(t){return[t.deltaX,t.deltaY]},k0=function(t){return t&&"current"in t?t.current:t},A4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},I4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},O4=0,Cs=[];function L4(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(O4++)[0],s=v.useState(aE)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=r4([t.lockRef.current],(t.shards||[]).map(k0),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=ac(m),x=n.current,b="deltaX"in m?m.deltaX:x[0]-y[0],S="deltaY"in m?m.deltaY:x[1]-y[1],C,k=m.target,_=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&_==="h"&&k.type==="range")return!1;var N=b0(_,k);if(!N)return!0;if(N?C=_:(C=_==="v"?"h":"v",N=b0(_,k)),!N)return!1;if(!r.current&&"changedTouches"in m&&(b||S)&&(r.current=C),!C)return!0;var M=r.current||C;return M4(M,w,m,M==="h"?b:S)},[]),l=v.useCallback(function(m){var w=m;if(!(!Cs.length||Cs[Cs.length-1]!==s)){var y="deltaY"in w?S0(w):ac(w),x=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&A4(C.delta,y)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(k0).filter(Boolean).filter(function(C){return C.contains(w.target)}),S=b.length>0?a(w,b[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),c=v.useCallback(function(m,w,y,x){var b={name:m,delta:w,target:y,should:x,shadowParent:z4(y)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),u=v.useCallback(function(m){n.current=ac(m),r.current=void 0},[]),d=v.useCallback(function(m){c(m.type,S0(m),m.target,a(m,t.lockRef.current))},[]),f=v.useCallback(function(m){c(m.type,ac(m),m.target,a(m,t.lockRef.current))},[]);v.useEffect(function(){return Cs.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ks),document.addEventListener("touchmove",l,ks),document.addEventListener("touchstart",u,ks),function(){Cs=Cs.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,ks),document.removeEventListener("touchmove",l,ks),document.removeEventListener("touchstart",u,ks)}},[]);var p=t.removeScrollBar,g=t.inert;return v.createElement(v.Fragment,null,g?v.createElement(s,{styles:I4(i)}):null,p?v.createElement(E4,{gapMode:t.gapMode}):null)}function z4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const D4=h4(oE,L4);var Kg=v.forwardRef(function(t,e){return v.createElement(zd,Xn({},t,{ref:e,sideCar:D4}))});Kg.classNames=zd.classNames;var $4=[" ","Enter","ArrowUp","ArrowDown"],F4=[" ","Enter"],Ml="Select",[Dd,$d,B4]=_d(Ml),[Do,Vq]=Rt(Ml,[B4,GC]),Fd=GC(),[V4,Pi]=Do(Ml),[W4,U4]=Do(Ml),dE=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p,form:g}=t,m=Fd(e),[w,y]=v.useState(null),[x,b]=v.useState(null),[S,C]=v.useState(!1),k=jl(c),[_=!1,N]=yn({prop:r,defaultProp:i,onChange:s}),[M,R]=yn({prop:o,defaultProp:a,onChange:l}),j=v.useRef(null),P=w?g||!!w.closest("form"):!0,[L,I]=v.useState(new Set),H=Array.from(L).map(V=>V.props.value).join(";");return h.jsx(KF,{...m,children:h.jsxs(V4,{required:p,scope:e,trigger:w,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:tr(),value:M,onValueChange:R,open:_,onOpenChange:N,dir:k,triggerPointerDownPosRef:j,disabled:f,children:[h.jsx(Dd.Provider,{scope:e,children:h.jsx(W4,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(V=>{I(F=>new Set(F).add(V))},[]),onNativeOptionRemove:v.useCallback(V=>{I(F=>{const O=new Set(F);return O.delete(V),O})},[]),children:n})}),P?h.jsxs(LE,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:M,onChange:V=>R(V.target.value),disabled:f,form:g,children:[M===void 0?h.jsx("option",{value:""}):null,Array.from(L)]},H):null]})})};dE.displayName=Ml;var hE="SelectTrigger",fE=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Fd(n),o=Pi(hE,n),a=o.disabled||r,l=Ee(e,o.onTriggerChange),c=$d(n),u=v.useRef("touch"),[d,f,p]=zE(m=>{const w=c().filter(b=>!b.disabled),y=w.find(b=>b.value===o.value),x=DE(w,m,y);x!==void 0&&o.onValueChange(x.value)}),g=m=>{a||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return h.jsx(XF,{asChild:!0,...s,children:h.jsx(te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":OE(o.value)?"":void 0,...i,ref:l,onClick:ne(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:ne(i.onPointerDown,m=>{u.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:ne(i.onKeyDown,m=>{const w=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(w&&m.key===" ")&&$4.includes(m.key)&&(g(),m.preventDefault())})})})});fE.displayName=hE;var pE="SelectValue",mE=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Pi(pE,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=Ee(e,l.onValueNodeChange);return nt(()=>{c(u)},[c,u]),h.jsx(te.span,{...a,ref:d,style:{pointerEvents:"none"},children:OE(l.value)?h.jsx(h.Fragment,{children:o}):s})});mE.displayName=pE;var H4="SelectIcon",gE=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return h.jsx(te.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});gE.displayName=H4;var q4="SelectPortal",vE=t=>h.jsx(Id,{asChild:!0,...t});vE.displayName=q4;var as="SelectContent",yE=v.forwardRef((t,e)=>{const n=Pi(as,t.__scopeSelect),[r,i]=v.useState();if(nt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ms.createPortal(h.jsx(xE,{scope:t.__scopeSelect,children:h.jsx(Dd.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),s):null}return h.jsx(wE,{...t,ref:e})});yE.displayName=as;var bn=10,[xE,ji]=Do(as),G4="SelectContentImpl",wE=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w,...y}=t,x=Pi(as,n),[b,S]=v.useState(null),[C,k]=v.useState(null),_=Ee(e,ee=>S(ee)),[N,M]=v.useState(null),[R,j]=v.useState(null),P=$d(n),[L,I]=v.useState(!1),H=v.useRef(!1);v.useEffect(()=>{if(b)return rE(b)},[b]),AC();const V=v.useCallback(ee=>{const[Q,...ge]=P().map(we=>we.ref.current),[re]=ge.slice(-1),ve=document.activeElement;for(const we of ee)if(we===ve||(we==null||we.scrollIntoView({block:"nearest"}),we===Q&&C&&(C.scrollTop=0),we===re&&C&&(C.scrollTop=C.scrollHeight),we==null||we.focus(),document.activeElement!==ve))return},[P,C]),F=v.useCallback(()=>V([N,b]),[V,N,b]);v.useEffect(()=>{L&&F()},[L,F]);const{onOpenChange:O,triggerPointerDownPosRef:A}=x;v.useEffect(()=>{if(b){let ee={x:0,y:0};const Q=re=>{var ve,we;ee={x:Math.abs(Math.round(re.pageX)-(((ve=A.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(re.pageY)-(((we=A.current)==null?void 0:we.y)??0))}},ge=re=>{ee.x<=10&&ee.y<=10?re.preventDefault():b.contains(re.target)||O(!1),document.removeEventListener("pointermove",Q),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",ge,{capture:!0})}}},[b,O,A]),v.useEffect(()=>{const ee=()=>O(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[O]);const[E,X]=zE(ee=>{const Q=P().filter(ve=>!ve.disabled),ge=Q.find(ve=>ve.ref.current===document.activeElement),re=DE(Q,ee,ge);re&&setTimeout(()=>re.ref.current.focus())}),he=v.useCallback((ee,Q,ge)=>{const re=!H.current&&!ge;(x.value!==void 0&&x.value===Q||re)&&(M(ee),re&&(H.current=!0))},[x.value]),T=v.useCallback(()=>b==null?void 0:b.focus(),[b]),Se=v.useCallback((ee,Q,ge)=>{const re=!H.current&&!ge;(x.value!==void 0&&x.value===Q||re)&&j(ee)},[x.value]),Ge=r==="popper"?Kp:bE,xe=Ge===Kp?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w}:{};return h.jsx(xE,{scope:n,content:b,viewport:C,onViewportChange:k,itemRefCallback:he,selectedItem:N,onItemLeave:T,itemTextRefCallback:Se,focusSelectedItem:F,selectedItemText:R,position:r,isPositioned:L,searchRef:E,children:h.jsx(Kg,{as:ss,allowPinchZoom:!0,children:h.jsx(Dg,{asChild:!0,trapped:x.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:ne(i,ee=>{var Q;(Q=x.trigger)==null||Q.focus({preventScroll:!0}),ee.preventDefault()}),children:h.jsx(Pd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:h.jsx(Ge,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ee=>ee.preventDefault(),...y,...xe,onPlaced:()=>I(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ne(y.onKeyDown,ee=>{const Q=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!Q&&ee.key.length===1&&X(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let re=P().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ve=ee.target,we=re.indexOf(ve);re=re.slice(we+1)}setTimeout(()=>V(re)),ee.preventDefault()}})})})})})})});wE.displayName=G4;var K4="SelectItemAlignedPosition",bE=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Pi(as,n),o=ji(as,n),[a,l]=v.useState(null),[c,u]=v.useState(null),d=Ee(e,_=>u(_)),f=$d(n),p=v.useRef(!1),g=v.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:y,focusSelectedItem:x}=o,b=v.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&m&&w&&y){const _=s.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),M=s.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(s.dir!=="rtl"){const ve=R.left-N.left,we=M.left-ve,rt=_.left-we,wt=_.width+rt,Mt=Math.max(wt,N.width),At=window.innerWidth-bn,Fr=r0(we,[bn,Math.max(bn,At-Mt)]);a.style.minWidth=wt+"px",a.style.left=Fr+"px"}else{const ve=N.right-R.right,we=window.innerWidth-M.right-ve,rt=window.innerWidth-_.right-we,wt=_.width+rt,Mt=Math.max(wt,N.width),At=window.innerWidth-bn,Fr=r0(we,[bn,Math.max(bn,At-Mt)]);a.style.minWidth=wt+"px",a.style.right=Fr+"px"}const j=f(),P=window.innerHeight-bn*2,L=m.scrollHeight,I=window.getComputedStyle(c),H=parseInt(I.borderTopWidth,10),V=parseInt(I.paddingTop,10),F=parseInt(I.borderBottomWidth,10),O=parseInt(I.paddingBottom,10),A=H+V+L+O+F,E=Math.min(w.offsetHeight*5,A),X=window.getComputedStyle(m),he=parseInt(X.paddingTop,10),T=parseInt(X.paddingBottom,10),Se=_.top+_.height/2-bn,Ge=P-Se,xe=w.offsetHeight/2,ee=w.offsetTop+xe,Q=H+V+ee,ge=A-Q;if(Q<=Se){const ve=j.length>0&&w===j[j.length-1].ref.current;a.style.bottom="0px";const we=c.clientHeight-m.offsetTop-m.offsetHeight,rt=Math.max(Ge,xe+(ve?T:0)+we+F),wt=Q+rt;a.style.height=wt+"px"}else{const ve=j.length>0&&w===j[0].ref.current;a.style.top="0px";const rt=Math.max(Se,H+m.offsetTop+(ve?he:0)+xe)+ge;a.style.height=rt+"px",m.scrollTop=Q-Se+m.offsetTop}a.style.margin=`${bn}px 0`,a.style.minHeight=E+"px",a.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,s.trigger,s.valueNode,a,c,m,w,y,s.dir,r]);nt(()=>b(),[b]);const[S,C]=v.useState();nt(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const k=v.useCallback(_=>{_&&g.current===!0&&(b(),x==null||x(),g.current=!1)},[b,x]);return h.jsx(Y4,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:h.jsx(te.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});bE.displayName=K4;var X4="SelectPopperPosition",Kp=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=bn,...s}=t,o=Fd(n);return h.jsx(YF,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kp.displayName=X4;var[Y4,Xg]=Do(as,{}),Xp="SelectViewport",SE=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=ji(Xp,n),o=Xg(Xp,n),a=Ee(e,s.onViewportChange),l=v.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Dd.Slot,{scope:n,children:h.jsx(te.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ne(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const g=window.innerHeight-bn*2,m=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),y=Math.max(m,w);if(y<g){const x=y+p,b=Math.min(g,x),S=x-b;d.style.height=b+"px",d.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});SE.displayName=Xp;var kE="SelectGroup",[Z4,Q4]=Do(kE),J4=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=tr();return h.jsx(Z4,{scope:n,id:i,children:h.jsx(te.div,{role:"group","aria-labelledby":i,...r,ref:e})})});J4.displayName=kE;var CE="SelectLabel",EE=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Q4(CE,n);return h.jsx(te.div,{id:i.id,...r,ref:e})});EE.displayName=CE;var zu="SelectItem",[e3,_E]=Do(zu),NE=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Pi(zu,n),l=ji(zu,n),c=a.value===r,[u,d]=v.useState(s??""),[f,p]=v.useState(!1),g=Ee(e,x=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,x,r,i)}),m=tr(),w=v.useRef("touch"),y=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(e3,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:v.useCallback(x=>{d(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:h.jsx(Dd.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:h.jsx(te.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:ne(o.onFocus,()=>p(!0)),onBlur:ne(o.onBlur,()=>p(!1)),onClick:ne(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:ne(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:ne(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:ne(o.onPointerMove,x=>{var b;w.current=x.pointerType,i?(b=l.onItemLeave)==null||b.call(l):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:ne(o.onKeyDown,x=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(F4.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});NE.displayName=zu;var ha="SelectItemText",TE=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Pi(ha,n),a=ji(ha,n),l=_E(ha,n),c=U4(ha,n),[u,d]=v.useState(null),f=Ee(e,y=>d(y),l.onItemTextChange,y=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,y,l.value,l.disabled)}),p=u==null?void 0:u.textContent,g=v.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=c;return nt(()=>(m(g),()=>w(g)),[m,w,g]),h.jsxs(h.Fragment,{children:[h.jsx(te.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ms.createPortal(s.children,o.valueNode):null]})});TE.displayName=ha;var PE="SelectItemIndicator",jE=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _E(PE,n).isSelected?h.jsx(te.span,{"aria-hidden":!0,...r,ref:e}):null});jE.displayName=PE;var Yp="SelectScrollUpButton",RE=v.forwardRef((t,e)=>{const n=ji(Yp,t.__scopeSelect),r=Xg(Yp,t.__scopeSelect),[i,s]=v.useState(!1),o=Ee(e,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?h.jsx(AE,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});RE.displayName=Yp;var Zp="SelectScrollDownButton",ME=v.forwardRef((t,e)=>{const n=ji(Zp,t.__scopeSelect),r=Xg(Zp,t.__scopeSelect),[i,s]=v.useState(!1),o=Ee(e,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?h.jsx(AE,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});ME.displayName=Zp;var AE=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=ji("SelectScrollButton",n),o=v.useRef(null),a=$d(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),nt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(te.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ne(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ne(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ne(i.onPointerLeave,()=>{l()})})}),t3="SelectSeparator",IE=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(te.div,{"aria-hidden":!0,...r,ref:e})});IE.displayName=t3;var Qp="SelectArrow",n3=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Fd(n),s=Pi(Qp,n),o=ji(Qp,n);return s.open&&o.position==="popper"?h.jsx(ZF,{...i,...r,ref:e}):null});n3.displayName=Qp;function OE(t){return t===""||t===void 0}var LE=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=v.useRef(null),s=Ee(e,i),o=Od(n);return v.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),h.jsx(Ld,{asChild:!0,children:h.jsx("select",{...r,ref:s,defaultValue:n})})});LE.displayName="BubbleSelect";function zE(t){const e=Nt(t),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function DE(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=r3(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function r3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var i3=dE,$E=fE,s3=mE,o3=gE,a3=vE,FE=yE,l3=SE,BE=EE,VE=NE,c3=TE,u3=jE,WE=RE,UE=ME,HE=IE;const qE=i3,d3=s3,Yg=v.forwardRef(({className:t,children:e,...n},r)=>h.jsxs($E,{ref:r,className:$("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(o3,{asChild:!0,children:h.jsx(zk,{className:"h-4 w-4 opacity-50"})})]}));Yg.displayName=$E.displayName;const GE=v.forwardRef(({className:t,...e},n)=>h.jsx(WE,{ref:n,className:$("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(qL,{className:"h-4 w-4"})}));GE.displayName=WE.displayName;const KE=v.forwardRef(({className:t,...e},n)=>h.jsx(UE,{ref:n,className:$("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(zk,{className:"h-4 w-4"})}));KE.displayName=UE.displayName;const Zg=v.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>h.jsx(a3,{children:h.jsxs(FE,{ref:i,className:$("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(GE,{}),h.jsx(l3,{className:$("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(KE,{})]})}));Zg.displayName=FE.displayName;const h3=v.forwardRef(({className:t,...e},n)=>h.jsx(BE,{ref:n,className:$("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));h3.displayName=BE.displayName;const so=v.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(VE,{ref:r,className:$("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(u3,{children:h.jsx(Lk,{className:"h-4 w-4"})})}),h.jsx(c3,{children:e})]}));so.displayName=VE.displayName;const f3=v.forwardRef(({className:t,...e},n)=>h.jsx(HE,{ref:n,className:$("-mx-1 my-1 h-px bg-muted",t),...e}));f3.displayName=HE.displayName;const lc=15,p3=({index:t})=>h.jsxs(no,{className:$("animate-pulse",t%2===0?"bg-muted/30":"bg-card"),children:[h.jsx("td",{className:"pl-3 pr-1 py-3 align-middle",children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"h-2.5 w-10 rounded bg-muted"}),h.jsx("div",{className:"h-2 w-8 rounded bg-muted"})]})}),h.jsx("td",{className:"pl-2 pr-1 py-3 align-middle",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex-shrink-0"}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("div",{className:"h-3 w-20 rounded bg-muted"}),h.jsx("div",{className:"h-2.5 w-12 rounded bg-muted"})]})]})}),h.jsx("td",{className:"text-right px-1 py-3 align-middle",children:h.jsx("div",{className:"h-4 w-16 rounded bg-muted ml-auto"})}),h.jsx("td",{className:"text-right pl-1 pr-3 py-3 align-middle",children:h.jsx("div",{className:"h-4 w-8 rounded bg-muted ml-auto"})})]}),m3=()=>{const{accountId:t}=vs(),e=Number(t),n=ut(),{accounts:r}=Ni(),{tg:i}=Dn(),[s,o]=v.useState([]),[a,l]=v.useState(!0),[c,u]=v.useState(null),[d,f]=v.useState(0),[p,g]=v.useState(!0),[m,w]=v.useState({PageNumber:1,SelectedOperationType:null}),y=v.useMemo(()=>{var L,I;const R=(I=(L=r==null?void 0:r.find(H=>{var V;return((V=H.brokerAccount)==null?void 0:V.id)===e}))==null?void 0:L.brokerAccount)==null?void 0:I.title,j=`Счет #${e}`;return(R||j).replace(/["«»]/g,"")},[r,e]),x=v.useCallback(async(R,j)=>{var L;if(!e||isNaN(e)){u("Invalid Account ID"),l(!1),g(!1);return}l(!0),u(null);const P={BrokerAccountIds:[e],PageNumber:R,PageItemsCount:lc,AssetIds:null,MarketOperationType:j};console.log("[OperationsHistoryPage] Calling API with params:",JSON.stringify(P));try{p&&await new Promise(H=>setTimeout(H,300));const I=await _$(P);if(I!=null&&I.isSuccess&&I.resultObject)o(I.resultObject.marketOperations??[]),f(I.resultObject.foundCount??0),console.log(`[OperationsHistoryPage] Fetched ${((L=I.resultObject.marketOperations)==null?void 0:L.length)??0} operations. Total found: ${I.resultObject.foundCount}`);else throw new Error((I==null?void 0:I.errorMessage)||"Не удалось загрузить историю.")}catch(I){console.error("[OperationsHistoryPage] Fetch error:",I),u(I.message),o([]),f(0)}finally{l(!1),g(!1)}},[e,p]);v.useEffect(()=>{console.log("[OperationsHistoryPage] useEffect triggered. Fetching with filters:",m),x(m.PageNumber,m.SelectedOperationType)},[m,x]);const b=v.useCallback((R,j)=>{w(P=>{const L=R==="PageNumber",I=L?j:1;return L||g(!0),{...P,[R]:j,PageNumber:I}}),console.log(`[OperationsHistoryPage] Filter '${R}' changed to '${j}'. Page reset to 1 if needed.`)},[]),S=v.useCallback(R=>{const j=R==="all"?null:Number(R);b("SelectedOperationType",j)},[b]),C=v.useCallback(()=>{const R=d>0?Math.ceil(d/lc):1;m.PageNumber<R&&!a&&b("PageNumber",m.PageNumber+1)},[m.PageNumber,d,a,b]),k=v.useCallback(()=>{m.PageNumber>1&&!a&&b("PageNumber",m.PageNumber-1)},[m.PageNumber,a,b]);v.useEffect(()=>{const R=()=>n(`/portfolio/${e}`);return i&&(i.BackButton.show(),i.onEvent("backButtonClicked",R)),()=>{i&&(i.BackButton.hide(),i.offEvent("backButtonClicked",R))}},[i,n,e]);const _=m.PageNumber,N=d>0?Math.ceil(d/lc):1,M=()=>m.SelectedOperationType===0?"Нет операций покупки.":m.SelectedOperationType===1?"Нет операций продажи.":"Операций не найдено.";return h.jsxs("div",{className:"p-4 space-y-4 pb-4 flex flex-col h-full",children:[h.jsxs(_t,{className:"flex-shrink-0 shadow-sm border rounded-lg",children:[h.jsx(Lr,{className:"pb-2 pt-4",children:h.jsxs("div",{className:"relative flex justify-center items-center",children:[h.jsx(ie,{variant:"ghost",size:"icon",className:"text-foreground/80 h-8 w-8 absolute left-0 top-1/2 -translate-y-1/2",onClick:()=>n(`/portfolio/${e}`),children:h.jsx(Vt,{className:"h-5 w-5"})}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(Ti,{className:"text-lg font-semibold",children:"История операций"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:y})]})]})}),h.jsx(vn,{className:"pt-2 pb-4",children:h.jsx("div",{className:"grid grid-cols-1 gap-4 items-end",children:h.jsxs("div",{children:[h.jsx("label",{htmlFor:"operationType",className:"block text-sm font-medium text-muted-foreground mb-1",children:"Тип операции"}),h.jsxs(qE,{value:m.SelectedOperationType===null?"all":String(m.SelectedOperationType),onValueChange:S,disabled:a,children:[h.jsx(Yg,{id:"operationType",children:h.jsx(d3,{placeholder:"Все типы"})}),h.jsxs(Zg,{children:[h.jsx(so,{value:"all",children:"Все типы"}),h.jsx(so,{value:"0",children:"Покупка"}),h.jsx(so,{value:"1",children:"Продажа"})]})]})]})})})]}),h.jsxs(_t,{className:"shadow-sm border rounded-lg overflow-hidden flex flex-col flex-grow",children:[h.jsx(vn,{className:"p-0 flex-grow overflow-y-auto no-scrollbar",children:p?h.jsxs("table",{className:"w-full caption-bottom text-sm",children:[h.jsx("thead",{className:"[&_tr]:border-b sticky top-0 bg-card z-10",children:h.jsxs(no,{className:"border-b border-border/10",children:[h.jsx(br,{className:"pl-3 pr-1 py-2 text-xs text-muted-foreground font-normal text-left",style:{minWidth:"60px"},children:"Дата"}),h.jsx(br,{className:"pl-2 pr-1 py-2 text-xs text-muted-foreground font-normal text-left",children:"Актив"}),h.jsx(br,{className:"px-1 py-2 text-xs text-muted-foreground font-normal text-right whitespace-nowrap",style:{minWidth:"85px"},children:"Сумма"}),h.jsx(br,{className:"pl-1 pr-3 py-2 text-xs text-muted-foreground font-normal text-right whitespace-nowrap",style:{minWidth:"60px"},children:"Кол-во"})]})}),h.jsx("tbody",{children:Array.from({length:5}).map((R,j)=>h.jsx(p3,{index:j},j))})]}):a?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(Te,{})}):c?h.jsx("div",{className:"p-6",children:h.jsx(mt,{message:c})}):s.length>0?h.jsx(k$,{operations:s}):h.jsx("div",{className:"flex justify-center items-center h-full text-muted-foreground text-center p-4",children:M()})}),!p&&!a&&!c&&d>lc&&h.jsxs("div",{className:"flex items-center justify-between mt-0 pt-4 border-t px-4 pb-4 bg-card flex-shrink-0",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:`Стр. ${_} из ${N}`}),h.jsxs("div",{className:"space-x-2",children:[h.jsx(ie,{variant:"outline",size:"sm",onClick:k,disabled:a||_<=1,children:" Назад "}),h.jsx(ie,{variant:"outline",size:"sm",onClick:C,disabled:a||_>=N,children:" Вперед "})]})]})]})]})};var Qg="Avatar",[g3,Wq]=Rt(Qg),[v3,XE]=g3(Qg),YE=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=v.useState("idle");return h.jsx(v3,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:h.jsx(te.span,{...r,ref:e})})});YE.displayName=Qg;var ZE="AvatarImage",QE=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=XE(ZE,n),a=y3(r,s.referrerPolicy),l=Nt(c=>{i(c),o.onImageLoadingStatusChange(c)});return nt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?h.jsx(te.img,{...s,ref:e,src:r}):null});QE.displayName=ZE;var JE="AvatarFallback",e_=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=XE(JE,n),[o,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?h.jsx(te.span,{...i,ref:e}):null});e_.displayName=JE;function y3(t,e){const[n,r]=v.useState("idle");return nt(()=>{if(!t){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var t_=YE,n_=QE,r_=e_;const Bd=v.forwardRef(({className:t,...e},n)=>h.jsx(t_,{ref:n,className:$("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Bd.displayName=t_.displayName;const Vd=v.forwardRef(({className:t,...e},n)=>h.jsx(n_,{ref:n,className:$("aspect-square h-full w-full",t),...e}));Vd.displayName=n_.displayName;const Wd=v.forwardRef(({className:t,...e},n)=>h.jsx(r_,{ref:n,className:$("flex h-full w-full items-center justify-center rounded-full bg-muted uppercase",t),...e}));Wd.displayName=r_.displayName;const x3=5e3;let Qh=0;function w3(){return Qh=(Qh+1)%Number.MAX_VALUE,Qh.toString()}const js=new Map,b3=(t,e)=>{switch(e.type){case"ADD_TOAST":{const{toasts:n}=t,r={...e.toast,open:!0};return js.forEach((i,s)=>{clearTimeout(i),js.delete(s)}),{...t,toasts:[r]}}case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"REMOVE_TOAST":{const{toastId:n}=e;return n&&js.has(n)&&(clearTimeout(js.get(n)),js.delete(n)),{...t,toasts:n===void 0?[]:t.toasts.filter(r=>r.id!==n)}}default:return t}},Bc=[];let Sa={toasts:[]};function oo(t){Sa=b3(Sa,t),Bc.forEach(e=>{e(Sa)})}function S3(t){const e=w3(),n=()=>{oo({type:"UPDATE_TOAST",toast:{id:e,open:!1}}),setTimeout(()=>{r(e)},1e3)},r=s=>{oo({type:"REMOVE_TOAST",toastId:s})};oo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}});const i=t.duration??x3;if(i!==1/0){const s=setTimeout(n,i);js.set(e,s)}return{id:e,dismiss:n}}function cr(){const[t,e]=v.useState(Sa);return v.useEffect(()=>(Bc.push(e),()=>{const n=Bc.indexOf(e);n>-1&&Bc.splice(n,1)}),[t]),{...t,toast:S3,dismiss:n=>{n?Sa.toasts.find(i=>i.id===n)&&(oo({type:"UPDATE_TOAST",toast:{id:n,open:!1}}),setTimeout(()=>{oo({type:"REMOVE_TOAST",toastId:n})},1e3)):oo({type:"REMOVE_TOAST"})}}}var Jg="Dialog",[i_,s_]=Rt(Jg),[k3,$n]=i_(Jg),o_=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[c=!1,u]=yn({prop:r,defaultProp:i,onChange:s});return h.jsx(k3,{scope:e,triggerRef:a,contentRef:l,contentId:tr(),titleId:tr(),descriptionId:tr(),open:c,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};o_.displayName=Jg;var a_="DialogTrigger",l_=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$n(a_,n),s=Ee(e,i.triggerRef);return h.jsx(te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nv(i.open),...r,ref:s,onClick:ne(t.onClick,i.onOpenToggle)})});l_.displayName=a_;var ev="DialogPortal",[C3,c_]=i_(ev,{forceMount:void 0}),u_=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=$n(ev,e);return h.jsx(C3,{scope:e,forceMount:n,children:v.Children.map(r,o=>h.jsx(zr,{present:n||s.open,children:h.jsx(Id,{asChild:!0,container:i,children:o})}))})};u_.displayName=ev;var Du="DialogOverlay",d_=v.forwardRef((t,e)=>{const n=c_(Du,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=$n(Du,t.__scopeDialog);return s.modal?h.jsx(zr,{present:r||s.open,children:h.jsx(E3,{...i,ref:e})}):null});d_.displayName=Du;var E3=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$n(Du,n);return h.jsx(Kg,{as:ss,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(te.div,{"data-state":nv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ls="DialogContent",h_=v.forwardRef((t,e)=>{const n=c_(ls,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=$n(ls,t.__scopeDialog);return h.jsx(zr,{present:r||s.open,children:s.modal?h.jsx(_3,{...i,ref:e}):h.jsx(N3,{...i,ref:e})})});h_.displayName=ls;var _3=v.forwardRef((t,e)=>{const n=$n(ls,t.__scopeDialog),r=v.useRef(null),i=Ee(e,n.contentRef,r);return v.useEffect(()=>{const s=r.current;if(s)return rE(s)},[]),h.jsx(f_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ne(t.onFocusOutside,s=>s.preventDefault())})}),N3=v.forwardRef((t,e)=>{const n=$n(ls,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return h.jsx(f_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),f_=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=$n(ls,n),l=v.useRef(null),c=Ee(e,l);return AC(),h.jsxs(h.Fragment,{children:[h.jsx(Dg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:h.jsx(Pd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":nv(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(P3,{titleId:a.titleId}),h.jsx(R3,{contentRef:l,descriptionId:a.descriptionId})]})]})}),tv="DialogTitle",p_=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$n(tv,n);return h.jsx(te.h2,{id:i.titleId,...r,ref:e})});p_.displayName=tv;var m_="DialogDescription",g_=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$n(m_,n);return h.jsx(te.p,{id:i.descriptionId,...r,ref:e})});g_.displayName=m_;var v_="DialogClose",y_=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$n(v_,n);return h.jsx(te.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,()=>i.onOpenChange(!1))})});y_.displayName=v_;function nv(t){return t?"open":"closed"}var x_="DialogTitleWarning",[T3,w_]=lD(x_,{contentName:ls,titleName:tv,docsSlug:"dialog"}),P3=({titleId:t})=>{const e=w_(x_),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},j3="DialogDescriptionWarning",R3=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${w_(j3).contentName}}.`;return v.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},b_=o_,M3=l_,S_=u_,rv=d_,iv=h_,sv=p_,ov=g_,Ud=y_;const Jp=b_,A3=S_,k_=Ud,C_=v.forwardRef(({className:t,...e},n)=>h.jsx(rv,{ref:n,className:$("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));C_.displayName=rv.displayName;const $u=v.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(A3,{children:[h.jsx(C_,{}),h.jsxs(iv,{ref:r,className:$("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(Ud,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(Sd,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$u.displayName=iv.displayName;const Fu=({className:t,...e})=>h.jsx("div",{className:$("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Fu.displayName="DialogHeader";const av=({className:t,...e})=>h.jsx("div",{className:$("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});av.displayName="DialogFooter";const Bu=v.forwardRef(({className:t,...e},n)=>h.jsx(sv,{ref:n,className:$("text-lg font-semibold leading-none tracking-tight",t),...e}));Bu.displayName=sv.displayName;const Vu=v.forwardRef(({className:t,...e},n)=>h.jsx(ov,{ref:n,className:$("text-sm text-muted-foreground",t),...e}));Vu.displayName=ov.displayName;var Jh="rovingFocusGroup.onEntryFocus",I3={bubbles:!1,cancelable:!0},Hd="RovingFocusGroup",[em,E_,O3]=_d(Hd),[L3,qd]=Rt(Hd,[O3]),[z3,D3]=L3(Hd),__=v.forwardRef((t,e)=>h.jsx(em.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(em.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx($3,{...t,ref:e})})}));__.displayName=Hd;var $3=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=v.useRef(null),p=Ee(e,f),g=jl(s),[m=null,w]=yn({prop:o,defaultProp:a,onChange:l}),[y,x]=v.useState(!1),b=Nt(c),S=E_(n),C=v.useRef(!1),[k,_]=v.useState(0);return v.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(Jh,b),()=>N.removeEventListener(Jh,b)},[b]),h.jsx(z3,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:v.useCallback(N=>w(N),[w]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>_(N=>N+1),[]),onFocusableItemRemove:v.useCallback(()=>_(N=>N-1),[]),children:h.jsx(te.div,{tabIndex:y||k===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:ne(t.onMouseDown,()=>{C.current=!0}),onFocus:ne(t.onFocus,N=>{const M=!C.current;if(N.target===N.currentTarget&&M&&!y){const R=new CustomEvent(Jh,I3);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const j=S().filter(V=>V.focusable),P=j.find(V=>V.active),L=j.find(V=>V.id===m),H=[P,L,...j].filter(Boolean).map(V=>V.ref.current);P_(H,u)}}C.current=!1}),onBlur:ne(t.onBlur,()=>x(!1))})})}),N_="RovingFocusGroupItem",T_=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=tr(),l=s||a,c=D3(N_,n),u=c.currentTabStopId===l,d=E_(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=c;return v.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),h.jsx(em.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:h.jsx(te.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ne(t.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:ne(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ne(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=V3(g,c.orientation,c.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=d().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const x=y.indexOf(g.currentTarget);y=c.loop?W3(y,x+1):y.slice(x+1)}setTimeout(()=>P_(y))}})})})});T_.displayName=N_;var F3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function V3(t,e,n){const r=B3(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return F3[r]}function P_(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function W3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var j_=__,R_=T_,lv="Radio",[U3,M_]=Rt(lv),[H3,q3]=U3(lv),A_=v.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:l,form:c,...u}=t,[d,f]=v.useState(null),p=Ee(e,w=>f(w)),g=v.useRef(!1),m=d?c||!!d.closest("form"):!0;return h.jsxs(H3,{scope:n,checked:i,disabled:o,children:[h.jsx(te.button,{type:"button",role:"radio","aria-checked":i,"data-state":L_(i),"data-disabled":o?"":void 0,disabled:o,value:a,...u,ref:p,onClick:ne(t.onClick,w=>{i||l==null||l(),m&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),m&&h.jsx(G3,{control:d,bubbles:!g.current,name:r,value:a,checked:i,required:s,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});A_.displayName=lv;var I_="RadioIndicator",O_=v.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=q3(I_,n);return h.jsx(zr,{present:r||s.checked,children:h.jsx(te.span,{"data-state":L_(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});O_.displayName=I_;var G3=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=v.useRef(null),o=Od(n),a=Ad(e);return v.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const f=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(f)}},[o,n,r]),h.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function L_(t){return t?"checked":"unchecked"}var K3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cv="RadioGroup",[X3,Uq]=Rt(cv,[qd,M_]),z_=qd(),D_=M_(),[Y3,Z3]=X3(cv),$_=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:u=!0,onValueChange:d,...f}=t,p=z_(n),g=jl(c),[m,w]=yn({prop:s,defaultProp:i,onChange:d});return h.jsx(Y3,{scope:n,name:r,required:o,disabled:a,value:m,onValueChange:w,children:h.jsx(j_,{asChild:!0,...p,orientation:l,dir:g,loop:u,children:h.jsx(te.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:g,...f,ref:e})})})});$_.displayName=cv;var F_="RadioGroupItem",B_=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=Z3(F_,n),o=s.disabled||r,a=z_(n),l=D_(n),c=v.useRef(null),u=Ee(e,c),d=s.value===i.value,f=v.useRef(!1);return v.useEffect(()=>{const p=m=>{K3.includes(m.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),h.jsx(R_,{asChild:!0,...a,focusable:!o,active:d,children:h.jsx(A_,{disabled:o,required:s.required,checked:d,...l,...i,name:s.name,ref:u,onCheck:()=>s.onValueChange(i.value),onKeyDown:ne(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ne(i.onFocus,()=>{var p;f.current&&((p=c.current)==null||p.click())})})})});B_.displayName=F_;var Q3="RadioGroupIndicator",V_=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=D_(n);return h.jsx(O_,{...i,...r,ref:e})});V_.displayName=Q3;var W_=$_,U_=B_,J3=V_;const H_=v.forwardRef(({className:t,...e},n)=>h.jsx(W_,{className:$("grid gap-2",t),...e,ref:n}));H_.displayName=W_.displayName;const Vc=v.forwardRef(({className:t,...e},n)=>h.jsx(U_,{ref:n,className:$("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:h.jsx(J3,{className:"flex items-center justify-center",children:h.jsx(XL,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Vc.displayName=U_.displayName;var eB="Label",q_=v.forwardRef((t,e)=>h.jsx(te.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));q_.displayName=eB;var G_=q_;const tB=Pg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ct=v.forwardRef(({className:t,...e},n)=>h.jsx(G_,{ref:n,className:$(tB(),t),...e}));Ct.displayName=G_.displayName;const tm="themePreference",nB=()=>{try{const t=localStorage.getItem(tm);if(t==="light"||t==="dark"||t==="system")return t}catch(t){console.error("Error reading initial theme preference:",t)}return"system"},Gi=_i()(_l(t=>({preference:nB(),setPreference:e=>{console.log(`[ThemeStore] Setting preference to: ${e}`),t({preference:e});try{localStorage.setItem(tm,e)}catch(n){console.error("Error saving theme preference to localStorage:",n)}}}),{name:tm,storage:Io(()=>localStorage)})),rB="https://t.me/CounterCulturalConversation",K_="app-dynamic-config",iB=()=>{var t;try{const e=localStorage.getItem(K_);if(e){const n=JSON.parse(e);if((t=n==null?void 0:n.state)!=null&&t.chatLink&&typeof n.state.chatLink=="string")return n.state.chatLink}}catch(e){console.error("Error reading initial chat link:",e)}return rB},X_=_i()(_l(t=>({chatLink:iB(),setChatLink:e=>{console.log(`[ConfigStore] Setting chatLink to: ${e}`),t({chatLink:e})}}),{name:K_,storage:Io(()=>localStorage),partialize:t=>({chatLink:t.chatLink})})),sB=t=>{try{if(!t)return null;const n=new URLSearchParams(t).get("user");if(n){const r=JSON.parse(decodeURIComponent(n));if(r&&typeof r=="object"&&typeof r.id=="number")return{userId:r.id,firstName:r.first_name||null,lastName:r.last_name||null,username:r.username||null,photoUrl:r.photo_url||null,isBot:r.is_bot||!1}}}catch(e){console.error("Failed to parse mock user data:",e)}return null},Es=({label:t,onClick:e,disabled:n=!1,currentValue:r,Icon:i})=>{const{toast:s}=cr(),o=()=>{n?s({title:"В разработке",description:"Этот раздел скоро появится.",duration:2e3}):e&&e()};return h.jsxs("button",{onClick:o,disabled:n,className:$("flex items-center w-full text-left p-4 transition-colors",n?"text-muted-foreground cursor-not-allowed opacity-60":"hover:bg-muted/50 active:bg-muted/80 cursor-pointer"),children:[i&&h.jsx(i,{className:"h-5 w-5 mr-3 text-muted-foreground flex-shrink-0"}),h.jsx("span",{className:"text-base flex-grow",children:t}),r&&h.jsx("span",{className:"text-sm text-muted-foreground mr-2",children:r}),h.jsx(Dk,{className:$("h-5 w-5 flex-shrink-0",n?"text-muted-foreground/50":"text-muted-foreground")})]})},oB=()=>{console.log("[ProfilePage] Rendering...");const{tg:t,user:e}=Dn(),n=ar(P=>P.logout),{toast:r}=cr(),[i,s]=v.useState(!1),o=Gi(P=>P.preference),a=Gi(P=>P.setPreference),[l,c]=v.useState(!1),[u,d]=v.useState(!1),f=X_(P=>P.chatLink),p=ut(),g=v.useMemo(()=>Eg(),[]),m=Re.useMemo(()=>{console.log("[ProfilePage useMemo] Calculating displayUser...",{telegramUserSDK:e,isMock:g.useMock});const P=e;if(P&&typeof P.id=="number")return console.log("[ProfilePage useMemo] Using real Telegram user data."),{userId:P.id,firstName:P.first_name||null,lastName:P.last_name||null,username:P.username||null,photoUrl:P.photo_url||null,isBot:P.is_bot||!1};const L=g.useMock,I=g.mockInitData;if(L&&I){console.log("[ProfilePage useMemo] Using mock data.");const H=sB(I);return console.log("[ProfilePage useMemo] Parsed mock user:",H),H}return console.log("[ProfilePage useMemo] No real user and no mock data, returning null."),null},[e,g.useMock,g.mockInitData]);console.log("[ProfilePage] displayUser value:",m),v.useEffect(()=>{s(!1)},[m==null?void 0:m.userId]);const w=(m==null?void 0:m.firstName)||"User",y=(m==null?void 0:m.lastName)||"",x=m==null?void 0:m.username,b=m==null?void 0:m.photoUrl,S=[w==null?void 0:w[0],y==null?void 0:y[0]].filter(Boolean).map(P=>P==null?void 0:P.toUpperCase()).join("")||null,C=()=>{n()},k=()=>{i||s(!0)},_=P=>{a(P),d(!1)},N=()=>{c(!0)},M=()=>{t!=null&&t.openTelegramLink?t.openTelegramLink(f):(window.open(f,"_blank"),r({title:"Открытие ссылки",description:"Попытка открыть ссылку на чат.",duration:2e3})),c(!1)},R=()=>{switch(o){case"light":return"Светлая";case"dark":return"Темная";case"system":default:return"Как в Telegram"}},j=()=>{p("/faq")};return m?(console.log("[ProfilePage] Rendering main content..."),h.jsxs("div",{className:"p-4 space-y-4 pb-20 flex flex-col h-full",children:[h.jsx(_t,{className:"flex-grow shadow-sm border rounded-lg overflow-hidden flex flex-col",children:h.jsx(vn,{className:"p-0 flex-grow overflow-y-auto no-scrollbar",children:h.jsxs("div",{className:"divide-y divide-border/60",children:[h.jsxs("div",{className:"flex items-center p-4 space-x-4",children:[h.jsx(Bd,{className:"w-12 h-12 flex-shrink-0 border",children:!i&&b?h.jsx(Vd,{src:b,alt:x||"User",onError:k}):h.jsx(Wd,{className:"text-xl",children:S})}),h.jsxs("div",{className:"overflow-hidden",children:[h.jsxs("p",{className:"text-base font-semibold truncate",children:[w," ",y]}),x&&h.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["@",x]})]})]}),h.jsx(Es,{label:"Ответы на часто задаваемые вопросы",onClick:j,Icon:$k}),h.jsx(Es,{label:"Связаться со службой поддержки",disabled:!0,Icon:rz}),h.jsx(Es,{label:"Тема оформления",onClick:()=>d(!0),Icon:Hx,currentValue:R()}),h.jsx(Es,{label:"Пригласи друга получи подарочные акции",disabled:!0,Icon:JL}),h.jsx(Es,{label:"Наш телеграмм чат",onClick:N,Icon:lz}),h.jsx(Es,{label:"Выйти",onClick:C,Icon:Vk})]})})}),h.jsx(Jp,{open:l,onOpenChange:c,children:h.jsxs($u,{children:[h.jsxs(Fu,{children:[h.jsxs(Bu,{className:"flex items-center gap-2",children:[h.jsx(QL,{className:"h-5 w-5 text-muted-foreground"}),"Переход в Телеграмм"]}),h.jsxs(Vu,{className:"pt-2 text-left",children:["Вы собираетесь открыть наш чат в Телеграмм:",h.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"block text-primary hover:underline truncate mt-1 text-sm",onClick:P=>P.preventDefault(),children:f})]})]}),h.jsxs(av,{className:"mt-4",children:[h.jsx(k_,{asChild:!0,children:h.jsx(ie,{type:"button",variant:"outline",children:"Отмена"})}),h.jsx(ie,{type:"button",onClick:M,children:"Перейти"})]})]})}),h.jsx(Jp,{open:u,onOpenChange:d,children:h.jsxs($u,{className:"sm:max-w-[425px]",children:[h.jsxs(Fu,{children:[h.jsx(Bu,{children:"Выбор темы оформления"}),h.jsx(Vu,{children:"Выберите, как должно выглядеть приложение."})]}),h.jsxs(H_,{value:o,onValueChange:P=>_(P),className:"grid gap-4 py-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-3 hover:bg-accent hover:text-accent-foreground transition-colors",children:[h.jsx(Vc,{value:"light",id:"theme-light"}),h.jsxs(Ct,{htmlFor:"theme-light",className:"flex items-center gap-2 cursor-pointer flex-grow",children:[h.jsx(uz,{className:"h-4 w-4"})," Светлая"]})]}),h.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-3 hover:bg-accent hover:text-accent-foreground transition-colors",children:[h.jsx(Vc,{value:"dark",id:"theme-dark"}),h.jsxs(Ct,{htmlFor:"theme-dark",className:"flex items-center gap-2 cursor-pointer flex-grow",children:[h.jsx(sz,{className:"h-4 w-4"})," Темная"]})]}),h.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-3 hover:bg-accent hover:text-accent-foreground transition-colors",children:[h.jsx(Vc,{value:"system",id:"theme-system"}),h.jsxs(Ct,{htmlFor:"theme-system",className:"flex items-center gap-2 cursor-pointer flex-grow",children:[h.jsx(Hx,{className:"h-4 w-4"})," Как в Telegram"]})]})]})]})})]})):(console.error("[ProfilePage] displayUser is null or undefined, rendering error message."),h.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Не удалось загрузить данные пользователя. Попробуйте перезайти."}))};var uv="Checkbox",[aB,Hq]=Rt(uv),[lB,cB]=aB(uv),Y_=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,p]=v.useState(null),g=Ee(e,S=>p(S)),m=v.useRef(!1),w=f?u||!!f.closest("form"):!0,[y=!1,x]=yn({prop:i,defaultProp:s,onChange:c}),b=v.useRef(y);return v.useEffect(()=>{const S=f==null?void 0:f.form;if(S){const C=()=>x(b.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[f,x]),h.jsxs(lB,{scope:n,state:y,disabled:a,children:[h.jsx(te.button,{type:"button",role:"checkbox","aria-checked":hi(y)?"mixed":y,"aria-required":o,"data-state":J_(y),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:g,onKeyDown:ne(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ne(t.onClick,S=>{x(C=>hi(C)?!0:!C),w&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),w&&h.jsx(uB,{control:f,bubbles:!m.current,name:r,value:l,checked:y,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:hi(s)?!1:s})]})});Y_.displayName=uv;var Z_="CheckboxIndicator",Q_=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=cB(Z_,n);return h.jsx(zr,{present:r||hi(s.state)||s.state===!0,children:h.jsx(te.span,{"data-state":J_(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Q_.displayName=Z_;var uB=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=v.useRef(null),a=Od(n),l=Ad(e);v.useEffect(()=>{const u=o.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&p){const g=new Event("click",{bubbles:r});u.indeterminate=hi(n),p.call(u,hi(n)?!1:n),u.dispatchEvent(g)}},[a,n,r]);const c=v.useRef(hi(n)?!1:n);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hi(t){return t==="indeterminate"}function J_(t){return hi(t)?"indeterminate":t?"checked":"unchecked"}var eN=Y_,dB=Q_;const tN=v.forwardRef(({className:t,...e},n)=>h.jsx(eN,{ref:n,className:$("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(dB,{className:$("flex items-center justify-center text-current"),children:h.jsx(Lk,{className:"h-4 w-4"})})}));tN.displayName=eN.displayName;const hB=()=>{const{fetchPortfolio:t}=Ni(),{toast:e}=cr(),[n,r]=v.useState(!1),[i,s]=v.useState(!1),o=async()=>{if(!i){e({title:"Confirmation Required",description:"Please confirm you understand this is a training app.",variant:"destructive"});return}if(!n){r(!0),console.log("[RegisterInitialPage] Calling createInitialBrokerAccount API...");try{const a=await BL();console.log("[RegisterInitialPage] API Response:",a),a.isSuccess?(e({title:"Account Created!",description:"Your first broker account is ready.",variant:"success"}),await t()):(e({title:"Creation Failed",description:a.errorMessage||"Could not create the account.",variant:"destructive"}),console.error("[RegisterInitialPage] Account creation failed:",a.errorMessage))}catch(a){console.error("[RegisterInitialPage] Unexpected error in handleCreateAccount:",a),e({title:"Client Error",description:(a==null?void 0:a.message)||"An unexpected client error occurred.",variant:"destructive"})}finally{r(!1)}}};return h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-50",children:h.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[h.jsx("div",{className:"text-center",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"ВНИМАНИЕ!"})}),h.jsxs("div",{className:"space-y-3 text-sm text-center text-gray-600",children:[h.jsxs("p",{children:["Данное приложение является ",h.jsx("strong",{className:"font-semibold",children:"обучающим"}),"."]}),h.jsxs("p",{children:["Эти заработанные или потерянные деньги - ",h.jsx("strong",{className:"font-semibold text-red-600",children:"не настоящие"}),"."]})]}),h.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-blue-50 border border-blue-200 rounded",children:[h.jsx(tN,{id:"confirmation",checked:i,onCheckedChange:a=>s(!!a),"aria-label":"Confirm understanding"}),h.jsx(Ct,{htmlFor:"confirmation",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-700",children:"Да, я понимаю, что это не настоящее инвестиционное приложение с ненастоящими деньгами."})]}),h.jsx(ie,{onClick:o,disabled:n||!i,className:"w-full",children:n?h.jsx(Te,{size:"sm"}):"Открыть первый брокерский счет"})]})})},fB=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},nN=(t,e)=>{var r,i,s,o;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:((r=t==null?void 0:t.response)==null?void 0:r.status)===400||((i=t==null?void 0:t.response)==null?void 0:i.status)===401?n="Неверный логин или пароль.":t!=null&&t.response?n=`Request failed (${t.response.status}): ${((s=t.response.data)==null?void 0:s.errorMessage)||((o=t.response.data)==null?void 0:o.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},pB=async t=>{const e="Login failed.";if(typeof t!="string"||t.length===0)return console.error("[API/Auth] Invalid initDataString received:",t),{isSuccess:!1,errorMessage:"Invalid initData provided to API call",resultObject:null};const n=`tma ${t}`;console.log("[API/Auth] Sending request body (first 60 chars):",n.substring(0,60)+"...");try{const r=await yt.post("/Account/LoginByTelegramUserInfo",n,{headers:{"Content-Type":"text/plain"}});return console.log("[API/Auth loginByTelegramUserInfo] Response received:",r==null?void 0:r.data),fB(r,e)}catch(r){return nN(r,e)}},mB=async(t,e)=>{const n="Admin login failed.",r={Login:t,Password:e};console.log("[API/Auth loginByLoginPassword] Attempting login with:",{login:t,password:"***"});try{const i=await yt.post("/Account/LoginByLogPassPair",r);return console.log("[API/Auth loginByLoginPassword] Raw API Response:",i),i.status===200&&i.data&&typeof i.data.userId=="string"&&typeof i.data.jwt=="string"?(console.log("[API/Auth loginByLoginPassword] Success - Received direct user/jwt data."),{isSuccess:!0,errorMessage:null,resultObject:i.data}):(console.error("[API/Auth loginByLoginPassword] Unexpected successful response format:",i.data),{isSuccess:!1,errorMessage:"Получен некорректный ответ от сервера при входе.",resultObject:null})}catch(i){return nN(i,n)}},gB=t=>{try{if(!t)return null;const n=new URLSearchParams(t).get("user");if(n){const r=JSON.parse(decodeURIComponent(n));if(r&&typeof r=="object"&&typeof r.id=="number")return{userId:r.id,firstName:r.first_name||null,lastName:r.last_name||null,username:r.username||null,photoUrl:r.photo_url||null,isBot:r.is_bot||!1}}}catch(e){console.error("Failed to parse mock user data:",e)}return null},vB=()=>{console.log("--- RENDERING LoginPage ---");const{user:t,initData:e}=Dn(),{login:n,isAuthenticated:r,isLoading:i}=ar(),[s,o]=v.useState(!1),{toast:a}=cr(),l=ut(),{IS_MOCK_MODE:c,MOCK_INIT_DATA_STRING:u}=v.useMemo(()=>{const C=Eg();return{IS_MOCK_MODE:C.useMock,MOCK_INIT_DATA_STRING:C.mockInitData||""}},[]),d=v.useMemo(()=>{const C=t;return C&&typeof C.id=="number"?{userId:C.id,firstName:C.first_name||null,lastName:C.last_name||null,username:C.username||null,photoUrl:C.photo_url||null,isBot:C.is_bot||!1}:c&&u?gB(u):null},[t,c,u]),f=v.useMemo(()=>(c?u:e)||null,[e,c,u]);if(i)return h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx(Te,{size:"lg"})});if(r)return console.log("[LoginPage] Already authenticated, redirecting..."),h.jsx(di,{to:"/",replace:!0});const p=async()=>{var C;if(console.log("[LoginPage] Login button clicked."),!f){a({title:"Ошибка",description:"Необходимые данные для входа недоступны.",variant:"destructive"}),console.error("[LoginPage] Login button clicked but loginDataString is null or empty.",{isMock:c});return}o(!0),console.log("[LoginPage] Calling loginByTelegramUserInfo...");try{const k=await pB(f);if(console.log("[LoginPage] Manual Login API Response Raw:",k),k.isSuccess&&((C=k.resultObject)!=null&&C.jwt))n(k.resultObject.userId,k.resultObject.jwt),a({title:"Вход выполнен",variant:"success",duration:2e3});else throw new Error(k.errorMessage||"Не удалось войти через API.")}catch(k){console.error("[LoginPage] Manual Login Exception/Error:",k),a({title:"Ошибка входа",description:(k==null?void 0:k.message)||"Неизвестная ошибка.",variant:"destructive"})}finally{o(!1)}},g=()=>{l("/admin/login")},m=!f||s,w=(d==null?void 0:d.firstName)||"Welcome",y=(d==null?void 0:d.lastName)||"",x=d==null?void 0:d.username,b=d==null?void 0:d.photoUrl,S=[w==null?void 0:w[0],y==null?void 0:y[0]].filter(Boolean).map(C=>C.toUpperCase()).join("")||"?";return console.log("[LoginPage - Before Render]",{IS_MOCK_MODE:c,loginDataStringExists:!!f,displayUserExists:!!d,displayUserValue:d,isAuthLoading:i,isAuthenticated:r}),h.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900/30",children:h.jsxs(_t,{className:"w-full max-w-sm shadow-xl rounded-xl",children:[h.jsxs(Lr,{className:"items-center text-center pt-8 pb-6",children:[h.jsx(Bd,{className:"w-24 h-24 mb-4 border-4 border-background shadow-md",children:b?h.jsx(Vd,{src:b,alt:x||"User",className:"object-cover"}):h.jsx(Wd,{className:"text-4xl font-light text-muted-foreground bg-gradient-to-br from-slate-200 to-slate-300 dark:from-gray-600 dark:to-gray-700",children:S!=="?"?S:""})}),h.jsx(Ti,{className:"text-xl font-semibold",children:w==="Welcome"?"Добро пожаловать!":`${w}${y?` ${y}`:""}`}),x&&h.jsxs(kd,{children:["@",x]})]}),h.jsxs(vn,{className:"flex flex-col items-center space-y-5 px-6 pb-8",children:[h.jsxs(ie,{className:"w-full h-12 text-base font-semibold shadow hover:shadow-md transition-shadow",onClick:p,disabled:m,children:[s&&h.jsx(Te,{size:"sm"}),"Войти с помощью Telegram"]}),h.jsxs("div",{className:"relative w-full max-w-[200px]",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"или"})})]}),h.jsx(ie,{variant:"link",className:"text-muted-foreground hover:text-primary h-9 px-1",onClick:g,children:"Войти по логину и паролю"})]})]})})},rN=Re.memo(({asset:t})=>h.jsx(iC,{logoUrl:t.logoUrl,ticker:t.ticker,className:"h-10 w-10 rounded-full border"}));rN.displayName="AssetHeader";const iN=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},sN=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},yB=async t=>{const e="Buy operation failed.";console.log("[API/Trade] buyAssets payload:",t);try{const n=await yt.post("/api/BrokerAccountUser/BuyAssets",t);return console.log("[API/Trade] buyAssets response:",n==null?void 0:n.data),iN(n,e)}catch(n){return sN(n,e)}},xB=async t=>{const e="Sell operation failed.";console.log("[API/Trade] sellAssets payload:",t);try{const n=await yt.post("/api/BrokerAccountUser/SellAssets",t);return console.log("[API/Trade] sellAssets response:",n==null?void 0:n.data),iN(n,e)}catch(n){return sN(n,e)}},jn=v.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:$("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));jn.displayName="Input";var wB="Separator",C0="horizontal",bB=["horizontal","vertical"],oN=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=C0,...i}=t,s=SB(r)?r:C0,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return h.jsx(te.div,{"data-orientation":s,...a,...i,ref:e})});oN.displayName=wB;function SB(t){return bB.includes(t)}var aN=oN;const lN=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>h.jsx(aN,{ref:i,decorative:n,orientation:e,className:$("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));lN.displayName=aN.displayName;const cN=Re.memo(({asset:t,accounts:e})=>{var Se,Ge,xe,ee;const{toast:n}=cr(),{fetchPortfolio:r}=Ni(),[i,s]=v.useState(""),[o,a]=v.useState(1),[l,c]=v.useState(!1),{prices:u,isLoading:d,error:f}=Cd(t?[t.ticker]:[]),p=t?u.get(t.ticker):null,g=v.useMemo(()=>(e==null?void 0:e.map(Q=>Q.brokerAccount).filter(Q=>!!Q))??[],[e]),m=v.useMemo(()=>e==null?void 0:e.find(Q=>{var ge;return((ge=Q.brokerAccount)==null?void 0:ge.id.toString())===i}),[e,i]),w=v.useMemo(()=>m==null?void 0:m.portfolioItems.find(Q=>Q.assetId===(t==null?void 0:t.id)),[m,t==null?void 0:t.id]),y=v.useMemo(()=>(w==null?void 0:w.quantity)??0,[w]),x=v.useMemo(()=>{var Q;return((Q=m==null?void 0:m.portfolioItems.find(ge=>{var re;return((re=ge.asset)==null?void 0:re.ticker)==="RUB"}))==null?void 0:Q.quantity)??0},[m]),b=v.useMemo(()=>Math.max(1,(t==null?void 0:t.lotSize)||1),[t]),S=v.useMemo(()=>o*b,[o,b]),C=v.useMemo(()=>p?Math.round(p.price*100):null,[p]),k=v.useMemo(()=>C===null&&(t!=null&&t.price)?Math.round(t.price*100):null,[C,t]),_=C??k,N=v.useMemo(()=>_!==null?_*S:0,[_,S]),M=v.useMemo(()=>(p==null?void 0:p.commissionFeePercent)??(t==null?void 0:t.commissionFeePercent)??0,[p,t]),R=v.useMemo(()=>Math.round(N*(M/100)),[N,M]),j=v.useMemo(()=>N+R,[N,R]),P=v.useMemo(()=>N-R,[N,R]),L=v.useMemo(()=>!d&&_!==null,[d,_]),I=y>0;v.useEffect(()=>{!i&&g.length>0&&s(g[0].id.toString())},[g,i]),v.useEffect(()=>{a(1)},[i]);const H=v.useCallback(Q=>{const ge=Q.target.value;if(ge===""){a(0);return}let re=parseInt(ge,10);re=Math.max(1,isNaN(re)||re<1?1:re),a(re)},[]),V=v.useCallback(Q=>{if(l)return"Обработка...";if(!t)return"Актив не загружен";if(!L)return"Ожидание цены...";if(!i)return"Выберите счет";if(o<=0)return"Кол-во лотов > 0";if(Q==="buy"&&j>x)return"Недостаточно средств";if(Q==="sell"){if(!I)return"Нет актива для продажи";if(S>y)return"Недостаточно активов"}return null},[l,t,L,o,i,j,x,I,S,y]),F=V("buy"),O=F!==null,A=V("sell"),E=!I||A!==null,X=I?A:"Нет актива для продажи",he=v.useCallback(async Q=>{const ge=Q==="buy"?F:X;if(!i){n({title:"Счет не выбран",variant:"destructive"});return}if(ge){n({title:Q==="buy"?"Покупка недоступна":"Продажа недоступна",description:ge,variant:"destructive"});return}if(!t||!t.id||_===null||o<=0){n({title:"Ошибка данных",description:"Недостаточно данных для совершения сделки.",variant:"destructive"});return}c(!0);const re={BrokerAccountId:parseInt(i,10),AssetId:t.id,Quantity:S};try{const we=await(Q==="buy"?yB:xB)(re);if(we.isSuccess)n({title:"Заявка создана",description:`${Q==="buy"?"Покупка":"Продажа"} ${o} лот(ов) ${t.ticker}`,variant:"success"}),r(!0),a(1);else throw new Error(we.errorMessage||"Операция не удалась.")}catch(ve){n({title:"Ошибка заявки",description:ve.message||"Неизвестная ошибка.",variant:"destructive"})}finally{c(!1)}},[t,i,o,b,S,_,F,X,n,r]),T=v.useCallback((Q,ge)=>{var rt,wt;if(!Q)return null;const re=ge==null?void 0:ge.find(Mt=>{var At;return((At=Mt.brokerAccount)==null?void 0:At.id)===Q.id}),ve=((rt=re==null?void 0:re.portfolioItems.find(Mt=>{var At;return((At=Mt.asset)==null?void 0:At.ticker)==="RUB"}))==null?void 0:rt.quantity)??0,we=((wt=re==null?void 0:re.portfolioItems.find(Mt=>Mt.assetId===(t==null?void 0:t.id)))==null?void 0:wt.quantity)??0;return h.jsx(so,{value:Q.id.toString(),children:h.jsxs("div",{className:"flex justify-between w-full items-center",children:[h.jsx("span",{children:Q.title}),h.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[yr(ve),we>0&&` / ${En(we,0)} шт.`]})]})},Q.id)},[t==null?void 0:t.id]);return t?h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx(Ct,{htmlFor:"trade-account",className:"text-xs text-muted-foreground mb-1 block",children:"На счет"}),h.jsxs(qE,{value:i,onValueChange:s,disabled:g.length<=0||l,children:[h.jsx(Yg,{id:"trade-account",className:"h-auto py-2.5 px-3 justify-start text-left",children:m&&e?h.jsxs("div",{className:"flex items-center gap-3",children:[" ",h.jsx("span",{className:"flex items-center justify-center h-7 w-7 bg-muted rounded text-xs font-mono text-muted-foreground flex-shrink-0",children:((Ge=(Se=m.brokerAccount)==null?void 0:Se.type)==null?void 0:Ge.substring(0,3).toUpperCase())||"ACC"})," ",h.jsxs("div",{className:"min-w-0",children:[" ",h.jsx("p",{className:"text-sm font-medium leading-tight truncate",children:(xe=m.brokerAccount)==null?void 0:xe.title.replace(/["«»]/g,"")})," ",h.jsx("p",{className:"text-xs leading-tight text-muted-foreground",children:yr(x)})," "]})," "]}):h.jsx("span",{className:"text-muted-foreground text-sm",children:g.length>0?"Выберите счет...":"Нет доступных счетов"})}),h.jsxs(Zg,{children:[g.map(Q=>T(Q,e)),g.length===0&&h.jsx(so,{value:"-",disabled:!0,children:"Нет доступных счетов"})]})]}),m&&h.jsxs("div",{className:"text-xs text-muted-foreground mt-1.5 px-1 flex justify-between",children:[" ",h.jsxs("span",{children:["Доступно: ",yr(x)]})," ",y>0&&h.jsxs("span",{children:["В портфеле: ",En(y,0)," шт."]})," "]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[h.jsx(Ct,{htmlFor:"quantityLots",className:"text-sm font-medium",children:"Количество лотов"}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:[En(b,0)," шт. в лоте"]})]}),h.jsx(jn,{id:"quantityLots",type:"number",value:o===0?"":o.toString(),onChange:H,min:1,step:1,className:$("h-11 text-base"),disabled:l})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[" ",h.jsx(Ct,{className:"text-sm font-medium",children:"Цена"})," ",h.jsx("span",{className:"text-xs text-muted-foreground",children:"за 1 шт."})," "]}),h.jsxs("div",{className:"relative",children:[h.jsx(jn,{type:"text",value:_!==null?En(_/100,((ee=t.assetType)==null?void 0:ee.title)==="bond"?4:2):d?"Загрузка...":"---",readOnly:!0,className:$("h-11 text-base pr-10 cursor-default","bg-muted/60 border-muted/80 text-muted-foreground","focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:border-muted/80")}),h.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"₽"})]}),f&&h.jsxs("p",{className:"text-xs text-destructive mt-1.5 px-1 flex items-center gap-1",children:[h.jsx(GL,{size:14})," Ошибка загрузки цены"]}),!f&&h.jsx("p",{className:"text-xs text-muted-foreground mt-1.5 px-1",children:"Рыночная заявка по лучшей доступной цене."})]}),h.jsxs("div",{className:"space-y-1.5 text-sm bg-card p-3 rounded-md border",children:[h.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[h.jsxs("span",{children:["Стоимость (",En(S)," шт.)"]}),h.jsx("span",{children:_===null?"-":yr(N)})]}),h.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[h.jsxs("span",{children:["Комиссия ≈ ",En(M,2),"%"]}),h.jsx("span",{children:_===null?"-":yr(R)})]}),h.jsx(lN,{className:"my-2 bg-border/50"}),h.jsxs("div",{className:$("flex justify-between font-medium text-sm pt-1 text-success transition-opacity duration-200"),children:[h.jsx("span",{children:"Итог (покупка)"}),_===null?"-":h.jsx(Ht,{value:j})]}),I&&h.jsxs("div",{className:$("flex justify-between font-medium text-sm text-destructive transition-opacity duration-200"),children:[h.jsx("span",{children:"Итог (продажа)"}),_===null?"-":h.jsx(Ht,{value:P})]})]}),t.ticker!=="RUB"&&h.jsxs("div",{className:$("fixed bottom-0 left-0 right-0 z-50 p-3 bg-background/95 backdrop-blur-sm border-t border-border/50","pb-[calc(0.75rem+env(safe-area-inset-bottom,0px))]","flex gap-3"),children:[h.jsx(ie,{variant:"destructive",className:"flex-1 h-12 text-base font-semibold transition-opacity",onClick:()=>he("sell"),disabled:E,title:X||"",children:l&&o>0?h.jsx(Te,{size:"sm"}):"Продать"}),h.jsx(ie,{variant:"success",className:"flex-1 h-12 text-base font-semibold transition-opacity",onClick:()=>he("buy"),disabled:O,title:F||"",children:l&&o>0?h.jsx(Te,{size:"sm"}):"Купить"})]})]}):h.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Актив не найден."})});cN.displayName="AssetTradeForm";function De(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function Ki(t,e){return t.width===e.width&&t.height===e.height}var kB=function(){function t(e){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var n=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){n._observers=n._observers.filter(function(i){return i!==r})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(n){return n.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function CB(t){return new kB(t)}var EB=function(){function t(e,n,r){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=De({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??function(s){return s},this._allowResizeObserver=(i=r==null?void 0:r.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,n;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return De({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=De(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var n=this.bitmapSize;Ki(n,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(n,e))},t.prototype._emitBitmapSizeChanged=function(e,n){var r=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._suggestNewBitmapSize=function(e){var n=this._suggestedBitmapSize,r=De(this._transformBitmapSize(e,this._canvasElementClientSize)),i=Ki(this.bitmapSize,r)?null:r;n===null&&i===null||n!==null&&i!==null&&Ki(n,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(n,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,n){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}NB().then(function(n){return n?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var n=E0(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=CB(n),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,n;if(this._canvasElement!==null){var r=E0(this._canvasElement);if(r!==null){var i=(n=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:r.devicePixelRatio,s=this._canvasElement.getClientRects(),o=s[0]!==void 0?TB(s[0],i):De({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var r=n.find(function(o){return o.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var i=r.devicePixelContentBoxSize[0],s=De({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function _B(t,e){return new EB(t,e.transform,e.options)}function E0(t){return t.ownerDocument.defaultView}function NB(){return new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function TB(t,e){return De({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var PB=function(){function t(e,n,r){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function cs(t,e){var n=t.canvasElementClientSize;if(n.width===0||n.height===0)return null;var r=t.bitmapSize;if(r.width===0||r.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new PB(i,n,r)}/*!
 * @license
 * TradingView Lightweight Charts™ v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const jB={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},RB={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},MB={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},AB={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},IB={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},OB={color:"#26a69a",base:0},uN={color:"#2196f3"},dN={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var _0,N0;function us(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function hN(t,e,n,r){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(n,e+i),t.lineTo(r,e+i),t.stroke()}function Si(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Tt(t){if(t===void 0)throw new Error("Value is undefined");return t}function W(t){if(t===null)throw new Error("Value is null");return t}function Us(t){return W(Tt(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(_0||(_0={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(N0||(N0={}));const T0={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function ln(t){return t<0?0:t>255?255:Math.round(t)||0}function fN(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const LB=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,zB=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,DB=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,$B=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function hl(t){(t=t.toLowerCase())in T0&&(t=T0[t]);{const e=$B.exec(t)||DB.exec(t);if(e)return[ln(parseInt(e[1],10)),ln(parseInt(e[2],10)),ln(parseInt(e[3],10)),fN(e.length<5?1:parseFloat(e[4]))]}{const e=zB.exec(t);if(e)return[ln(parseInt(e[1],16)),ln(parseInt(e[2],16)),ln(parseInt(e[3],16)),1]}{const e=LB.exec(t);if(e)return[ln(17*parseInt(e[1],16)),ln(17*parseInt(e[2],16)),ln(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function pN(t){return .199*t[0]+.687*t[1]+.114*t[2]}function Gd(t){const e=hl(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:pN(e)>160?"black":"white"}}class Xe{constructor(){this.h=[]}l(e,n,r){const i={o:e,_:n,u:r===!0};this.h.push(i)}v(e){const n=this.h.findIndex(r=>e===r.o);n>-1&&this.h.splice(n,1)}p(e){this.h=this.h.filter(n=>n._!==e)}m(e,n,r){const i=[...this.h];this.h=this.h.filter(s=>!s.u),i.forEach(s=>s.o(e,n,r))}M(){return this.h.length>0}S(){this.h=[]}}function Ln(t,...e){for(const n of e)for(const r in n)n[r]!==void 0&&Object.prototype.hasOwnProperty.call(n,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof n[r]!="object"||t[r]===void 0||Array.isArray(n[r])?t[r]=n[r]:Ln(t[r],n[r]));return t}function Zn(t){return typeof t=="number"&&isFinite(t)}function fl(t){return typeof t=="number"&&t%1==0}function Al(t){return typeof t=="string"}function cc(t){return typeof t=="boolean"}function Sr(t){const e=t;if(!e||typeof e!="object")return e;let n,r,i;for(r in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(i=e[r],n[r]=i&&typeof i=="object"?Sr(i):i);return n}function FB(t){return t!==null}function pl(t){return t===null?void 0:t}const dv="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Eo(t,e,n){return e===void 0&&(e=dv),`${n=n!==void 0?`${n} `:""}${t}px ${e}`}class BB{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,n=this.j(),r=this.H();return e.P===n&&e.D===r||(e.P=n,e.D=r,e.R=Eo(n,r),e.L=2.5/12*n,e.B=e.L,e.A=n/12*e.T,e.I=n/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class hv{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,n,r){this.Y.forEach(i=>{i.X(e,n,r)})}}class Fn{X(e,n,r){e.useBitmapCoordinateSpace(i=>this.K(i,n,r))}}class VB extends Fn{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.G===null||this.G.tt===null)return;const i=this.G.tt,s=this.G,o=Math.max(1,Math.floor(n))%2/2,a=l=>{e.beginPath();for(let c=i.to-1;c>=i.from;--c){const u=s.it[c],d=Math.round(u.nt*n)+o,f=u.st*r,p=l*r+o;e.moveTo(d,f),e.arc(d,f,p,0,2*Math.PI)}e.fill()};s.et>0&&(e.fillStyle=s.rt,a(s.ht+s.et)),e.fillStyle=s.lt,a(s.ht)}}function WB(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const UB={from:0,to:1};class HB{constructor(e,n){this.ut=new hv,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=n,this.ut.Z(this.ct)}bt(e){const n=this.F.wt();n.length!==this.ct.length&&(this.dt=n.map(WB),this.ct=this.dt.map(r=>{const i=new VB;return i.J(r),i}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,n=this.F.wt(),r=this.vt.xt(),i=this.F.St();n.forEach((s,o)=>{var a;const l=this.dt[o],c=s.kt(r);if(e||c===null||!s.yt())return void(l.tt=null);const u=W(s.Ct());l.lt=c.Tt,l.ht=c.ht,l.et=c.Pt,l.it[0]._t=c._t,l.it[0].st=s.Dt().Rt(c._t,u.Vt),l.rt=(a=c.Ot)!==null&&a!==void 0?a:this.F.Bt(l.it[0].st/s.Dt().At()),l.it[0].ot=r,l.it[0].nt=i.It(r),l.tt=UB})}}class qB extends Fn{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null)return;const s=this.zt.Lt.yt,o=this.zt.Et.yt;if(!s&&!o)return;const a=Math.round(this.zt.nt*r),l=Math.round(this.zt.st*i);e.lineCap="butt",s&&a>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*r),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,us(e,this.zt.Lt.Nt),function(c,u,d,f){c.beginPath();const p=c.lineWidth%2?.5:0;c.moveTo(u+p,d),c.lineTo(u+p,f),c.stroke()}(e,a,0,n.height)),o&&l>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*i),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,us(e,this.zt.Et.Nt),hN(e,l,0,n.width))}}class GB{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new qB(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),n=W(this.jt.Ht()),r=n.$t().W().crosshair,i=this.Ft;if(r.mode===2)return i.Et.yt=!1,void(i.Lt.yt=!1);i.Et.yt=e&&this.jt.Ut(n),i.Lt.yt=e&&this.jt.qt(),i.Et.et=r.horzLine.width,i.Et.Nt=r.horzLine.style,i.Et.V=r.horzLine.color,i.Lt.et=r.vertLine.width,i.Lt.Nt=r.vertLine.style,i.Lt.V=r.vertLine.color,i.nt=this.jt.Yt(),i.st=this.jt.Zt()}}function KB(t,e,n,r,i,s){t.fillRect(e+s,n,r-2*s,s),t.fillRect(e+s,n+i-s,r-2*s,s),t.fillRect(e,n,s,i),t.fillRect(e+r-s,n,s,i)}function Kd(t,e,n,r,i,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,n,r,i),t.restore()}function P0(t,e,n,r,i,s){t.beginPath(),t.roundRect?t.roundRect(e,n,r,i,s):(t.lineTo(e+r-s[1],n),s[1]!==0&&t.arcTo(e+r,n,e+r,n+s[1],s[1]),t.lineTo(e+r,n+i-s[2]),s[2]!==0&&t.arcTo(e+r,n+i,e+r-s[2],n+i,s[2]),t.lineTo(e+s[3],n+i),s[3]!==0&&t.arcTo(e,n+i,e,n+i-s[3],s[3]),t.lineTo(e,n+s[0]),s[0]!==0&&t.arcTo(e,n,e+s[0],n,s[0]))}function j0(t,e,n,r,i,s,o=0,a=[0,0,0,0],l=""){if(t.save(),!o||!l||l===s)return P0(t,e,n,r,i,a),t.fillStyle=s,t.fill(),void t.restore();const c=o/2;var u;P0(t,e+c,n+c,r-o,i-o,(u=-c,a.map(d=>d===0?d:d+u))),s!=="transparent"&&(t.fillStyle=s,t.fill()),l!=="transparent"&&(t.lineWidth=o,t.strokeStyle=l,t.closePath(),t.stroke()),t.restore()}function mN(t,e,n,r,i,s,o){t.save(),t.globalCompositeOperation="copy";const a=t.createLinearGradient(0,0,0,i);a.addColorStop(0,s),a.addColorStop(1,o),t.fillStyle=a,t.fillRect(e,n,r,i),t.restore()}class R0{constructor(e,n){this.J(e,n)}J(e,n){this.zt=e,this.Xt=n}At(e,n){return this.zt.yt?e.P+e.L+e.B:0}X(e,n,r,i){if(!this.zt.yt||this.zt.Kt.length===0)return;const s=this.zt.V,o=this.Xt.t,a=e.useBitmapCoordinateSpace(l=>{const c=l.context;c.font=n.R;const u=this.Gt(l,n,r,i),d=u.Jt;return u.Qt?j0(c,d.ti,d.ii,d.ni,d.si,o,d.ei,[d.ht,0,0,d.ht],o):j0(c,d.ri,d.ii,d.ni,d.si,o,d.ei,[0,d.ht,d.ht,0],o),this.zt.hi&&(c.fillStyle=s,c.fillRect(d.ri,d.li,d.ai-d.ri,d.oi)),this.zt._i&&(c.fillStyle=n.O,c.fillRect(u.Qt?d.ui-d.ei:0,d.ii,d.ei,d.ci-d.ii)),u});e.useMediaCoordinateSpace(({context:l})=>{const c=a.di;l.font=n.R,l.textAlign=a.Qt?"right":"left",l.textBaseline="middle",l.fillStyle=s,l.fillText(this.zt.Kt,c.fi,(c.ii+c.ci)/2+c.pi)})}Gt(e,n,r,i){var s;const{context:o,bitmapSize:a,mediaSize:l,horizontalPixelRatio:c,verticalPixelRatio:u}=e,d=this.zt.hi||!this.zt.mi?n.T:0,f=this.zt.bi?n.C:0,p=n.L+this.Xt.wi,g=n.B+this.Xt.gi,m=n.A,w=n.I,y=this.zt.Kt,x=n.P,b=r.Mi(o,y),S=Math.ceil(r.xi(o,y)),C=x+p+g,k=n.C+m+w+S+d,_=Math.max(1,Math.floor(u));let N=Math.round(C*u);N%2!=_%2&&(N+=1);const M=f>0?Math.max(1,Math.floor(f*c)):0,R=Math.round(k*c),j=Math.round(d*c),P=(s=this.Xt.Si)!==null&&s!==void 0?s:this.Xt.ki,L=Math.round(P*u)-Math.floor(.5*u),I=Math.floor(L+_/2-N/2),H=I+N,V=i==="right",F=V?l.width-f:f,O=V?a.width-M:M;let A,E,X;return V?(A=O-R,E=O-j,X=F-d-m-f):(A=O+R,E=O+j,X=F+d+m),{Qt:V,Jt:{ii:I,li:L,ci:H,ni:R,si:N,ht:2*c,ei:M,ti:A,ri:O,ai:E,oi:_,ui:a.width},di:{ii:I/u,ci:H/u,fi:X,pi:b}}}}class Xd{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||R0)(this.Ci,this.yi),this.Ri=new(e||R0)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,n=!1){return Math.max(this.Pi.At(e,n),this.Ri.At(e,n))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class XB extends Xd{constructor(e,n,r){super(),this.jt=e,this.Li=n,this.Ei=r}zi(e,n,r){if(e.yt=!1,this.jt.W().mode===2)return;const i=this.jt.W().horzLine;if(!i.labelVisible)return;const s=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||s===null)return;const o=Gd(i.labelBackgroundColor);r.t=o.t,e.V=o.i;const a=2/12*this.Li.P();r.wi=a,r.gi=a;const l=this.Ei(this.Li);r.ki=l.ki,e.Kt=this.Li.Fi(l._t,s),e.yt=!0}}const YB=/[1-9]/g;class gN{constructor(){this.zt=null}J(e){this.zt=e}X(e,n){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const r=e.useMediaCoordinateSpace(({context:f})=>(f.font=n.R,Math.round(n.Wi.xi(f,W(this.zt).Kt,YB))));if(r<=0)return;const i=n.ji,s=r+2*i,o=s/2,a=this.zt.Hi;let l=this.zt.ki,c=Math.floor(l-o)+.5;c<0?(l+=Math.abs(0-c),c=Math.floor(l-o)+.5):c+s>a&&(l-=Math.abs(a-(c+s)),c=Math.floor(l-o)+.5);const u=c+s,d=Math.ceil(0+n.C+n.T+n.L+n.P+n.B);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:p,verticalPixelRatio:g})=>{const m=W(this.zt);f.fillStyle=m.t;const w=Math.round(c*p),y=Math.round(0*g),x=Math.round(u*p),b=Math.round(d*g),S=Math.round(2*p);if(f.beginPath(),f.moveTo(w,y),f.lineTo(w,b-S),f.arcTo(w,b,w+S,b,S),f.lineTo(x-S,b),f.arcTo(x,b,x,b-S,S),f.lineTo(x,y),f.fill(),m.hi){const C=Math.round(m.ki*p),k=y,_=Math.round((k+n.T)*g);f.fillStyle=m.V;const N=Math.max(1,Math.floor(p)),M=Math.floor(.5*p);f.fillRect(C-M,k,N,_-k)}}),e.useMediaCoordinateSpace(({context:f})=>{const p=W(this.zt),g=0+n.C+n.T+n.L+n.P/2;f.font=n.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=p.V;const m=n.Wi.Mi(f,"Apr0");f.translate(c+i,g+m),f.fillText(p.Kt,0,0)})}}class ZB{constructor(e,n,r){this.ft=!0,this.Wt=new gN,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=n,this.Ei=r}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const n=this.vt.W().vertLine;if(!n.labelVisible)return;const r=this.$i.St();if(r.Ni())return;e.Hi=r.Hi();const i=this.Ei();if(i===null)return;e.ki=i.ki;const s=r.Ui(this.vt.xt());e.Kt=r.qi(W(s)),e.yt=!0;const o=Gd(n.labelBackgroundColor);e.t=o.t,e.V=o.i,e.hi=r.W().ticksVisible}}class fv{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var nm;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(nm||(nm={}));class QB extends fv{constructor(e,n){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=n,this.dn=new HB(e,this),this.fn=((i,s)=>o=>{const a=s(),l=i();if(o===W(this.tn).vn())return{_t:l,ki:a};{const c=W(o.Ct());return{_t:o.pn(a,c),ki:a}}})(()=>this.nn,()=>this.an);const r=((i,s)=>()=>{const o=this.$i.St().mn(i()),a=s();return o&&Number.isFinite(a)?{ot:o,ki:a}:null})(()=>this.sn,()=>this.Yt());this.bn=new ZB(this,e,r),this.wn=new GB(this)}W(){return this.cn}gn(e,n){this._n=e,this.un=n}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,n,r){this.hn||(this.hn=!0),this.en=!0,this.yn(e,n,r)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,n){this.en&&this.tn===e||this.rn.clear();const r=[];return this.tn===e&&r.push(this.Dn(this.rn,n,this.fn)),r}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,n,r){this.Bn(e,n,r)&&this.Vn()}Bn(e,n,r){const i=this.ln,s=this.an,o=this.nn,a=this.sn,l=this.tn,c=this.On(r);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=r;const u=c!==null?c.Ct():null;return c!==null&&u!==null?(this.nn=n,this.an=c.Rt(n,u)):(this.nn=NaN,this.an=NaN),i!==this.ln||s!==this.an||a!==this.sn||o!==this.nn||l!==this.tn}Tn(){const e=this.$i.wt().map(r=>r.In().An()).filter(FB),n=e.length===0?null:Math.max(...e);this.sn=n!==null?n:NaN}Dn(e,n,r){let i=e.get(n);return i===void 0&&(i=new XB(this,n,r),e.set(n,i)),i}}function Yd(t){return t==="left"||t==="right"}class at{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,n){const r=function(i,s){return i===void 0?s:{Fn:Math.max(i.Fn,s.Fn),Wn:i.Wn||s.Wn}}(this.zn.get(e),n);this.zn.set(e,r)}jn(){return this.En}Hn(e){const n=this.zn.get(e);return n===void 0?{Fn:this.En}:{Fn:Math.max(this.En,n.Fn),Wn:n.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const n of e.Ln)this.ns(n);this.En=Math.max(this.En,e.En),e.zn.forEach((n,r)=>{this.Nn(r,n)})}static ss(){return new at(2)}static es(){return new at(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(n=>n.qn===5);e!==-1&&this.Ln.splice(e,1)}}const M0=".";function kr(t,e){if(!Zn(t))return"n/a";if(!fl(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class Zd{constructor(e,n){if(n||(n=1),Zn(e)&&fl(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=n,this.hs()}format(e){const n=e<0?"−":"";return e=Math.abs(e),n+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const n=this.Li/this.rs;let r=Math.floor(e),i="";const s=this._s!==void 0?this._s:NaN;if(n>1){let o=+(Math.round(e*n)-r*n).toFixed(this._s);o>=n&&(o-=n,r+=1),i=M0+kr(+o.toFixed(this._s)*this.rs,s)}else r=Math.round(r*n)/n,s>0&&(i=M0+kr(0,s));return r.toFixed(0)+i}}class vN extends Zd{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class JB{constructor(e){this.us=e}format(e){let n="";return e<0&&(n="-",e=-e),e<995?n+this.cs(e):e<999995?n+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),n+this.cs(e/1e9)+"B")}cs(e){let n;const r=Math.pow(10,this.us);return n=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),n.replace(/(\.[1-9]*)0+$/,(i,s)=>s)}}function yN(t,e,n,r,i,s,o){if(e.length===0||r.from>=e.length||r.to<=0)return;const{context:a,horizontalPixelRatio:l,verticalPixelRatio:c}=t,u=e[r.from];let d=s(t,u),f=u;if(r.to-r.from<2){const p=i/2;a.beginPath();const g={nt:u.nt-p,st:u.st},m={nt:u.nt+p,st:u.st};a.moveTo(g.nt*l,g.st*c),a.lineTo(m.nt*l,m.st*c),o(t,d,g,m)}else{const p=(m,w)=>{o(t,d,f,w),a.beginPath(),d=m,f=w};let g=f;a.beginPath(),a.moveTo(u.nt*l,u.st*c);for(let m=r.from+1;m<r.to;++m){g=e[m];const w=s(t,g);switch(n){case 0:a.lineTo(g.nt*l,g.st*c);break;case 1:a.lineTo(g.nt*l,e[m-1].st*c),w!==d&&(p(w,g),a.lineTo(g.nt*l,e[m-1].st*c)),a.lineTo(g.nt*l,g.st*c);break;case 2:{const[y,x]=e5(e,m-1,m);a.bezierCurveTo(y.nt*l,y.st*c,x.nt*l,x.st*c,g.nt*l,g.st*c);break}}n!==1&&w!==d&&(p(w,g),a.moveTo(g.nt*l,g.st*c))}(f!==g||f===g&&n===1)&&o(t,d,f,g)}}const A0=6;function ef(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function I0(t,e){return{nt:t.nt/e,st:t.st/e}}function e5(t,e,n){const r=Math.max(0,e-1),i=Math.min(t.length-1,n+1);var s,o;return[(s=t[e],o=I0(ef(t[n],t[r]),A0),{nt:s.nt+o.nt,st:s.st+o.st}),ef(t[n],I0(ef(t[i],t[e]),A0))]}function t5(t,e,n,r,i){const{context:s,horizontalPixelRatio:o,verticalPixelRatio:a}=e;s.lineTo(i.nt*o,t*a),s.lineTo(r.nt*o,t*a),s.closePath(),s.fillStyle=n,s.fill()}class xN extends Fn{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var n;if(this.G===null)return;const{it:r,tt:i,ds:s,et:o,Nt:a,fs:l}=this.G,c=(n=this.G.vs)!==null&&n!==void 0?n:this.G.ps?0:e.mediaSize.height;if(i===null)return;const u=e.context;u.lineCap="butt",u.lineJoin="round",u.lineWidth=o,us(u,a),u.lineWidth=1,yN(e,r,l,i,s,this.bs.bind(this),t5.bind(null,c))}}function rm(t,e,n){return Math.min(Math.max(t,e),n)}function uc(t,e,n){return e-t<=n}function wN(t){const e=Math.ceil(t);return e%2==0?e-1:e}class pv{ws(e,n){const r=this.gs,{Ms:i,xs:s,Ss:o,ks:a,ys:l,vs:c}=n;if(this.Cs===void 0||r===void 0||r.Ms!==i||r.xs!==s||r.Ss!==o||r.ks!==a||r.vs!==c||r.ys!==l){const u=e.context.createLinearGradient(0,0,0,l);if(u.addColorStop(0,i),c!=null){const d=rm(c*e.verticalPixelRatio/l,0,1);u.addColorStop(d,s),u.addColorStop(d,o)}u.addColorStop(1,a),this.Cs=u,this.gs=n}return this.Cs}}class n5 extends xN{constructor(){super(...arguments),this.Ts=new pv}bs(e,n){return this.Ts.ws(e,{Ms:n.Ps,xs:"",Ss:"",ks:n.Rs,ys:e.bitmapSize.height})}}function r5(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class bN extends Fn{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:n,tt:r,ds:i,fs:s,et:o,Nt:a,Ds:l}=this.G;if(r===null)return;const c=e.context;c.lineCap="butt",c.lineWidth=o*e.verticalPixelRatio,us(c,a),c.lineJoin="round";const u=this.Vs.bind(this);s!==void 0&&yN(e,n,s,r,i,u,r5),l&&function(d,f,p,g,m){const{horizontalPixelRatio:w,verticalPixelRatio:y,context:x}=d;let b=null;const S=Math.max(1,Math.floor(w))%2/2,C=p*y+S;for(let k=g.to-1;k>=g.from;--k){const _=f[k];if(_){const N=m(d,_);N!==b&&(x.beginPath(),b!==null&&x.fill(),x.fillStyle=N,b=N);const M=Math.round(_.nt*w)+S,R=_.st*y;x.moveTo(M,R),x.arc(M,R,C,0,2*Math.PI)}}x.fill()}(e,n,l,r,u)}}class SN extends bN{Vs(e,n){return n.lt}}function kN(t,e,n,r,i=0,s=e.length){let o=s-i;for(;0<o;){const a=o>>1,l=i+a;r(e[l],n)===t?(i=l+1,o-=a+1):o=a}return i}const Il=kN.bind(null,!0),CN=kN.bind(null,!1);function i5(t,e){return t.ot<e}function s5(t,e){return e<t.ot}function EN(t,e,n){const r=e.Os(),i=e.ui(),s=Il(t,r,i5),o=CN(t,i,s5);if(!n)return{from:s,to:o};let a=s,l=o;return s>0&&s<t.length&&t[s].ot>=r&&(a=s-1),o>0&&o<t.length&&t[o-1].ot<=i&&(l=o+1),{from:a,to:l}}class mv{constructor(e,n,r){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=n,this.Fs=r}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),n=this.Ns.St();if(this.qs(),n.Ni()||e.Ni())return;const r=n.Xs();if(r===null||this.Es.In().Ks()===0)return;const i=this.Es.Ct();i!==null&&(this.Ls=EN(this.zs,r,this.Fs),this.Gs(e,n,i.Vt),this.Js())}}class Qd extends mv{constructor(e,n){super(e,n,!0)}Gs(e,n,r){n.Qs(this.zs,pl(this.Ls)),e.te(this.zs,r,pl(this.Ls))}ie(e,n){return{ot:e,_t:n,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>{const r=n.Vt[3];return this.se(n.ee,r,e)})}}class o5 extends Qd{constructor(e,n){super(e,n),this.js=new hv,this.re=new n5,this.he=new SN,this.js.Z([this.re,this.he])}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class a5 extends Fn{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(n),this.ae>=2&&Math.max(1,Math.floor(n))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(n)):this.ae;let i=null;const s=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*n);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const a=this.zt.In[o];i!==a.ce&&(e.fillStyle=a.ce,i=a.ce);const l=Math.floor(.5*this.oe),c=Math.round(a.nt*n),u=c-l,d=this.oe,f=u+d-1,p=Math.min(a.de,a.fe),g=Math.max(a.de,a.fe),m=Math.round(p*r)-l,w=Math.round(g*r)+l,y=Math.max(w-m,this.oe);e.fillRect(u,m,d,y);const x=Math.ceil(1.5*this.ae);if(s){if(this.zt.ve){const k=c-x;let _=Math.max(m,Math.round(a.pe*r)-l),N=_+d-1;N>m+y-1&&(N=m+y-1,_=N-d+1),e.fillRect(k,_,u-k,N-_+1)}const b=c+x;let S=Math.max(m,Math.round(a.me*r)-l),C=S+d-1;C>m+y-1&&(C=m+y-1,S=C-d+1),e.fillRect(f+1,S,b-f,C-S+1)}}}_e(e){const n=Math.floor(e);return Math.max(n,Math.floor(function(r,i){return Math.floor(.3*r*i)}(W(this.zt).le,e)))}}class _N extends mv{constructor(e,n){super(e,n,!1)}Gs(e,n,r){n.Qs(this.zs,pl(this.Ls)),e.be(this.zs,r,pl(this.Ls))}we(e,n,r){return{ot:e,ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>this.se(n.ee,n,e))}}class l5 extends _N{constructor(){super(...arguments),this.js=new a5}se(e,n,r){return Object.assign(Object.assign({},this.we(e,n,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class c5 extends xN{constructor(){super(...arguments),this.Ts=new pv}bs(e,n){const r=this.G;return this.Ts.ws(e,{Ms:n.ke,xs:n.ye,Ss:n.Ce,ks:n.Te,ys:e.bitmapSize.height,vs:r.vs})}}class u5 extends bN{constructor(){super(...arguments),this.Pe=new pv}Vs(e,n){const r=this.G;return this.Pe.ws(e,{Ms:n.Re,xs:n.Re,Ss:n.De,ks:n.De,ys:e.bitmapSize.height,vs:r.vs})}}class d5 extends Qd{constructor(e,n){super(e,n),this.js=new hv,this.Ve=new c5,this.Oe=new u5,this.js.Z([this.Ve,this.Oe])}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const n=this.Es.W(),r=this.Es.Dt().Rt(n.baseValue.price,e.Vt),i=this.Ns.St().le();this.Ve.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineType,vs:r,ps:!1,tt:this.Ls,ds:i}),this.Oe.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineVisible?n.lineType:void 0,Ds:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,vs:r,tt:this.Ls,ds:i})}}class h5 extends Fn{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:n}=e;this.ae=function(s,o){if(s>=2.5&&s<=4)return Math.floor(3*o);const a=1-.2*Math.atan(Math.max(4,s)-4)/(.5*Math.PI),l=Math.floor(s*a*o),c=Math.floor(s*o),u=Math.min(l,c);return Math.max(Math.floor(o),u)}(this.zt.le,n),this.ae>=2&&Math.floor(n)%2!=this.ae%2&&this.ae--;const r=this.zt.In;this.zt.Be&&this.Ae(e,r,this.zt.tt),this.zt._i&&this.Ie(e,r,this.zt.tt);const i=this.ze(n);(!this.zt._i||this.ae>2*i)&&this.Le(e,r,this.zt.tt)}Ae(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:o}=e;let a="",l=Math.min(Math.floor(s),Math.floor(this.zt.le*s));l=Math.max(Math.floor(s),Math.min(l,this.ae));const c=Math.floor(.5*l);let u=null;for(let d=r.from;d<r.to;d++){const f=n[d];f.Ee!==a&&(i.fillStyle=f.Ee,a=f.Ee);const p=Math.round(Math.min(f.pe,f.me)*o),g=Math.round(Math.max(f.pe,f.me)*o),m=Math.round(f.de*o),w=Math.round(f.fe*o);let y=Math.round(s*f.nt)-c;const x=y+l-1;u!==null&&(y=Math.max(u+1,y),y=Math.min(y,x));const b=x-y+1;i.fillRect(y,m,b,p-m),i.fillRect(y,g+1,b,w-g),u=x}}ze(e){let n=Math.floor(1*e);this.ae<=2*n&&(n=Math.floor(.5*(this.ae-1)));const r=Math.max(Math.floor(e),n);return this.ae<=2*r?Math.max(Math.floor(e),Math.floor(1*e)):r}Ie(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:o}=e;let a="";const l=this.ze(s);let c=null;for(let u=r.from;u<r.to;u++){const d=n[u];d.Ne!==a&&(i.fillStyle=d.Ne,a=d.Ne);let f=Math.round(d.nt*s)-Math.floor(.5*this.ae);const p=f+this.ae-1,g=Math.round(Math.min(d.pe,d.me)*o),m=Math.round(Math.max(d.pe,d.me)*o);if(c!==null&&(f=Math.max(c+1,f),f=Math.min(f,p)),this.zt.le*s>2*l)KB(i,f,g,p-f+1,m-g+1,l);else{const w=p-f+1;i.fillRect(f,g,w,m-g+1)}c=p}}Le(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:o}=e;let a="";const l=this.ze(s);for(let c=r.from;c<r.to;c++){const u=n[c];let d=Math.round(Math.min(u.pe,u.me)*o),f=Math.round(Math.max(u.pe,u.me)*o),p=Math.round(u.nt*s)-Math.floor(.5*this.ae),g=p+this.ae-1;if(u.ce!==a){const m=u.ce;i.fillStyle=m,a=m}this.zt._i&&(p+=l,d+=l,g-=l,f-=l),d>f||i.fillRect(p,d,g-p+1,f-d+1)}}}class f5 extends _N{constructor(){super(...arguments),this.js=new h5}se(e,n,r){return Object.assign(Object.assign({},this.we(e,n,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class p5{constructor(e,n){this.Fe=e,this.Li=n}X(e,n,r){this.Fe.draw(e,this.Li,n,r)}}class tf extends mv{constructor(e,n,r){super(e,n,!1),this.wn=r,this.js=new p5(this.wn.renderer(),i=>{const s=e.Ct();return s===null?null:e.Dt().Rt(i,s.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>Object.assign(Object.assign({ot:n.ee,nt:NaN},e.$s(n.ee)),{He:n.$e}))}Gs(e,n){n.Qs(this.zs,pl(this.Ls))}Js(){this.wn.update({bars:this.zs.map(m5),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function m5(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class g5 extends Fn{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(n);const i=Math.max(1,Math.floor(r)),s=Math.round(this.zt.Ye*r)-Math.floor(i/2),o=s+i;for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const l=this.zt.it[a],c=this.Ue[a-this.zt.tt.from],u=Math.round(l.st*r);let d,f;e.fillStyle=l.ce,u<=s?(d=u,f=o):(d=s,f=u-Math.floor(i/2)+i),e.fillRect(c.Os,d,c.ui-c.Os+1,f-d)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const n=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),r=Math.round(this.zt.le*e)-n;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const o=this.zt.it[s],a=Math.round(o.nt*e);let l,c;if(r%2){const u=(r-1)/2;l=a-u,c=a+u}else{const u=r/2;l=a-u,c=a+u-1}this.Ue[s-this.zt.tt.from]={Os:l,ui:c,Ze:a,Xe:o.nt*e,ot:o.ot}}for(let s=this.zt.tt.from+1;s<this.zt.tt.to;s++){const o=this.Ue[s-this.zt.tt.from],a=this.Ue[s-this.zt.tt.from-1];o.ot===a.ot+1&&o.Os-a.ui!==n+1&&(a.Ze>a.Xe?a.ui=o.Os-n-1:o.Os=a.ui+n+1)}let i=Math.ceil(this.zt.le*e);for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const o=this.Ue[s-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const a=o.ui-o.Os+1;i=Math.min(a,i)}if(n>0&&i<4)for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const o=this.Ue[s-this.zt.tt.from];o.ui-o.Os+1>i&&(o.Ze>o.Xe?o.ui-=1:o.Os+=1)}}}class v5 extends Qd{constructor(){super(...arguments),this.js=new g5}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,W(this.Es.Ct()).Vt)};this.js.J(e)}}class y5 extends Qd{constructor(){super(...arguments),this.js=new SN}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.W(),n={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(n)}}const x5=/[2-9]/g;class ml{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,n,r){return this.sr(e,n,r).width}Mi(e,n,r){const i=this.sr(e,n,r);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}sr(e,n,r){const i=r||x5,s=String(n).replace(i,"0");if(this.tr.has(s))return Tt(this.tr.get(s)).er;if(this.Ke===this.ir){const a=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(a),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const o=e.measureText(s);return e.restore(),o.width===0&&n.length||(this.tr.set(s,{er:o,rr:this.Ge}),this.Qe[this.Ge]=s,this.Ke++,this.Ge++),o}}class w5{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,n,r){this.hr=e,this.k=n,this.lr=r}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class NN{constructor(e,n,r){this.ur=e,this.ar=new ml(50),this.cr=n,this.F=r,this.j=-1,this.Wt=new w5(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const n=e.vr(this.cr)?e.pr():this.cr.Dt();if(n===null)return null;const r=e.mr(n);if(r==="overlay")return null;const i=this.F.br();return i.P!==this.j&&(this.j=i.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),i,r),this.Wt}}class b5 extends Fn{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,n){var r;if(!(!((r=this.zt)===null||r===void 0)&&r.yt))return null;const{st:i,et:s,gr:o}=this.zt;return n>=i-s-7&&n<=i+s+7?{Mr:this.zt,gr:o}:null}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null||this.zt.yt===!1)return;const s=Math.round(this.zt.st*i);s<0||s>n.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*r),us(e,this.zt.Nt),hN(e,s,0,n.width))}}class gv{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new b5,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class S5 extends gv{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),n=e.Cr().Cr;if(n!==2&&n!==3)return;const r=this.Es.W();if(!r.baseLineVisible||!this.Es.yt())return;const i=this.Es.Ct();i!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(i.Vt,i.Vt),this.Sr.V=r.baseLineColor,this.Sr.et=r.baseLineWidth,this.Sr.Nt=r.baseLineStyle)}}class k5 extends Fn{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){const i=this.zt;if(i===null)return;const s=Math.max(1,Math.floor(n)),o=s%2/2,a=Math.round(i.Xe.x*n)+o,l=i.Xe.y*r;e.fillStyle=i.Tr,e.beginPath();const c=Math.max(2,1.5*i.Pr)*n;e.arc(a,l,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.Rr,e.beginPath(),e.arc(a,l,i.ht*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=i.Dr,e.beginPath(),e.arc(a,l,i.ht*n+s/2,0,2*Math.PI,!1),e.stroke()}}const C5=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function O0(t,e,n,r){return function(i,s){if(i==="transparent")return i;const o=hl(i),a=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${s*a})`}(t,n+(r-n)*e)}function L0(t,e){const n=t%2600/2600;let r;for(const l of C5)if(n>=l.Vr&&n<=l.Or){r=l;break}Si(r!==void 0,"Last price animation internal logic error");const i=(n-r.Vr)/(r.Or-r.Vr);return{Rr:O0(e,i,r.Ir,r.zr),Dr:O0(e,i,r.Lr,r.Er),ht:(s=i,o=r.Br,a=r.Ar,o+(a-o)*s)};var s,o,a}class E5{constructor(e){this.Wt=new k5,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),n=this.Wr-e;if(n>0)return void(n<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),n=e.Xs(),r=this.jr.Ct();if(n===null||r===null)return;const i=this.jr.Zr(!0);if(i.Xr||!n.Kr(i.ee))return;const s={x:e.It(i.ee),y:this.jr.Dt().Rt(i._t,r.Vt)},o=i.V,a=this.jr.W().lineWidth,l=L0(this.Gr(),o);this.Wt.J({Tr:o,Pr:a,Rr:l.Rr,Dr:l.Dr,ht:l.ht,Xe:s})}Yr(){const e=this.Wt.$e();if(e!==null){const n=L0(this.Gr(),e.Tr);e.Rr=n.Rr,e.Dr=n.Dr,e.ht=n.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function ka(t,e){return wN(Math.min(Math.max(t,12),30)*e)}function gl(t,e){switch(t){case"arrowDown":case"arrowUp":return ka(e,1);case"circle":return ka(e,.8);case"square":return ka(e,.7)}}function TN(t){return function(e){const n=Math.ceil(e);return n%2!=0?n-1:n}(ka(t,1))}function z0(t){return Math.max(ka(t,.1),3)}function D0(t,e,n){return e?t:n?Math.ceil(t/2):0}function PN(t,e,n,r,i){const s=gl("square",n),o=(s-1)/2,a=t-o,l=e-o;return r>=a&&r<=a+s&&i>=l&&i<=l+s}function $0(t,e,n,r){const i=(gl("arrowUp",r)-1)/2*n.Jr,s=(wN(r/2)-1)/2*n.Jr;e.beginPath(),t?(e.moveTo(n.nt-i,n.st),e.lineTo(n.nt,n.st-i),e.lineTo(n.nt+i,n.st),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+s,n.st+i),e.lineTo(n.nt-s,n.st+i),e.lineTo(n.nt-s,n.st)):(e.moveTo(n.nt-i,n.st),e.lineTo(n.nt,n.st+i),e.lineTo(n.nt+i,n.st),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+s,n.st-i),e.lineTo(n.nt-s,n.st-i),e.lineTo(n.nt-s,n.st)),e.fill()}function _5(t,e,n,r,i,s){return PN(e,n,r,i,s)}class N5 extends Fn{constructor(){super(...arguments),this.zt=null,this.ar=new ml,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,n){this.j===e&&this.H===n||(this.j=e,this.H=n,this.Qr=Eo(e,n),this.ar.nr())}wr(e,n){if(this.zt===null||this.zt.tt===null)return null;for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const i=this.zt.it[r];if(P5(i,e,n))return{Mr:i.th,gr:i.gr}}return null}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r},i,s){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const a=this.zt.it[o];a.Kt!==void 0&&(a.Kt.Hi=this.ar.xi(e,a.Kt.ih),a.Kt.At=this.j,a.Kt.nt=a.nt-a.Kt.Hi/2),T5(a,e,n,r)}}}}function T5(t,e,n,r){e.fillStyle=t.V,t.Kt!==void 0&&function(i,s,o,a,l,c){i.save(),i.scale(l,c),i.fillText(s,o,a),i.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,n,r),function(i,s,o){if(i.Ks!==0){switch(i.nh){case"arrowDown":return void $0(!1,s,o,i.Ks);case"arrowUp":return void $0(!0,s,o,i.Ks);case"circle":return void function(a,l,c){const u=(gl("circle",c)-1)/2;a.beginPath(),a.arc(l.nt,l.st,u*l.Jr,0,2*Math.PI,!1),a.fill()}(s,o,i.Ks);case"square":return void function(a,l,c){const u=gl("square",c),d=(u-1)*l.Jr/2,f=l.nt-d,p=l.st-d;a.fillRect(f,p,u*l.Jr,u*l.Jr)}(s,o,i.Ks)}i.nh}}(t,e,function(i,s,o){const a=Math.max(1,Math.floor(s))%2/2;return{nt:Math.round(i.nt*s)+a,st:i.st*o,Jr:s}}(t,n,r))}function P5(t,e,n){return!(t.Kt===void 0||!function(r,i,s,o,a,l){const c=o/2;return a>=r&&a<=r+s&&l>=i-c&&l<=i+c}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,n))||function(r,i,s){if(r.Ks===0)return!1;switch(r.nh){case"arrowDown":case"arrowUp":return _5(0,r.nt,r.st,r.Ks,i,s);case"circle":return function(o,a,l,c,u){const d=2+gl("circle",l)/2,f=o-c,p=a-u;return Math.sqrt(f*f+p*p)<=d}(r.nt,r.st,r.Ks,i,s);case"square":return PN(r.nt,r.st,r.Ks,i,s)}}(t,e,n)}function j5(t,e,n,r,i,s,o,a,l){const c=Zn(n)?n:n.Se,u=Zn(n)?n:n.Me,d=Zn(n)?n:n.xe,f=Zn(e.size)?Math.max(e.size,0):1,p=TN(a.le())*f,g=p/2;switch(t.Ks=p,e.position){case"inBar":return t.st=o.Rt(c,l),void(t.Kt!==void 0&&(t.Kt.st=t.st+g+s+.6*i));case"aboveBar":return t.st=o.Rt(u,l)-g-r.sh,t.Kt!==void 0&&(t.Kt.st=t.st-g-.6*i,r.sh+=1.2*i),void(r.sh+=p+s);case"belowBar":return t.st=o.Rt(d,l)+g+r.eh,t.Kt!==void 0&&(t.Kt.st=t.st+g+s+.6*i,r.eh+=1.2*i),void(r.eh+=p+s)}e.position}class R5{constructor(e,n){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new N5,this.jr=e,this.$i=n,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const n=this.$i.W().layout;return this.Wt._r(n.fontSize,n.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),n=z0(e),r=1.5*TN(e)+2*n,i=this.fh();this.ah={above:D0(r,i.aboveBar,i.inBar),below:D0(r,i.belowBar,i.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,n)=>(e[n.position]||(e[n.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),n=this.$i.St(),r=this.jr.dh();this.rh&&(this.zt.it=r.map(u=>({ot:u.time,nt:0,st:0,Ks:0,nh:u.shape,V:u.color,th:u.th,gr:u.id,Kt:void 0})),this.rh=!1);const i=this.$i.W().layout;this.zt.tt=null;const s=n.Xs();if(s===null)return;const o=this.jr.Ct();if(o===null||this.zt.it.length===0)return;let a=NaN;const l=z0(n.le()),c={sh:l,eh:l};this.zt.tt=EN(this.zt.it,s,!0);for(let u=this.zt.tt.from;u<this.zt.tt.to;u++){const d=r[u];d.time!==a&&(c.sh=l,c.eh=l,a=d.time);const f=this.zt.it[u];f.nt=n.It(d.time),d.text!==void 0&&d.text.length>0&&(f.Kt={ih:d.text,nt:0,st:0,Hi:0,At:0});const p=this.jr.ph(d.time);p!==null&&j5(f,d,p,c,i.fontSize,l,e,n,o.Vt)}this.ft=!1}}class M5 extends gv{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const n=this.Es.W();if(!n.priceLineVisible||!this.Es.yt())return;const r=this.Es.Zr(n.priceLineSource===0);r.Xr||(e.yt=!0,e.st=r.ki,e.V=this.Es.mh(r.V),e.et=n.priceLineWidth,e.Nt=n.priceLineStyle)}}class A5 extends Xd{constructor(e){super(),this.jt=e}zi(e,n,r){e.yt=!1,n.yt=!1;const i=this.jt;if(!i.yt())return;const s=i.W(),o=s.lastValueVisible,a=i.bh()!=="",l=s.seriesLastValueMode===0,c=i.Zr(!1);if(c.Xr)return;o&&(e.Kt=this.wh(c,o,l),e.yt=e.Kt.length!==0),(a||l)&&(n.Kt=this.gh(c,o,a,l),n.yt=n.Kt.length>0);const u=i.mh(c.V),d=Gd(u);r.t=d.t,r.ki=c.ki,n.Ot=i.$t().Bt(c.ki/i.Dt().At()),e.Ot=u,e.V=d.i,n.V=d.i}gh(e,n,r,i){let s="";const o=this.jt.bh();return r&&o.length!==0&&(s+=`${o} `),n&&i&&(s+=this.jt.Dt().Mh()?e.xh:e.Sh),s.trim()}wh(e,n,r){return n?r?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function F0(t,e,n,r){const i=Number.isFinite(e),s=Number.isFinite(n);return i&&s?t(e,n):i||s?i?e:n:r}class Wt{constructor(e,n){this.kh=e,this.yh=n}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new Wt(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new Wt(F0(Math.min,this.Ph(),e.Ph(),-1/0),F0(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!Zn(e)||this.yh-this.kh===0)return;const n=.5*(this.yh+this.kh);let r=this.yh-n,i=this.kh-n;r*=e,i*=e,this.yh=n+r,this.kh=n+i}Oh(e){Zn(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new Wt(e.minValue,e.maxValue)}}class Wu{constructor(e,n){this.Ih=e,this.zh=n||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new Wu(Wt.Ah(e.priceRange),e.margins)}}class I5 extends gv{constructor(e,n){super(e),this.Nh=n}yr(){const e=this.Sr;e.yt=!1;const n=this.Nh.W();if(!this.Es.yt()||!n.lineVisible)return;const r=this.Nh.Fh();r!==null&&(e.yt=!0,e.st=r,e.V=n.color,e.et=n.lineWidth,e.Nt=n.lineStyle,e.gr=this.Nh.W().id)}}class O5 extends Xd{constructor(e,n){super(),this.jr=e,this.Nh=n}zi(e,n,r){e.yt=!1,n.yt=!1;const i=this.Nh.W(),s=i.axisLabelVisible,o=i.title!=="",a=this.jr;if(!s||!a.yt())return;const l=this.Nh.Fh();if(l===null)return;o&&(n.Kt=i.title,n.yt=!0),n.Ot=a.$t().Bt(l/a.Dt().At()),e.Kt=this.Wh(i.price),e.yt=!0;const c=Gd(i.axisLabelColor||i.color);r.t=c.t;const u=i.axisLabelTextColor||c.i;e.V=u,n.V=u,r.ki=l}Wh(e){const n=this.jr.Ct();return n===null?"":this.jr.Dt().Fi(e,n.Vt)}}class L5{constructor(e,n){this.jr=e,this.cn=n,this.jh=new I5(e,this),this.ur=new O5(e,this),this.Hh=new NN(this.ur,e,e.$t())}$h(e){Ln(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,n=e.Dt();if(e.$t().St().Ni()||n.Ni())return null;const r=e.Ct();return r===null?null:n.Rt(this.cn.price,r.Vt)}}class z5 extends fv{constructor(e){super(),this.$i=e}$t(){return this.$i}}const D5={Bar:(t,e,n,r)=>{var i;const s=e.upColor,o=e.downColor,a=W(t(n,r)),l=Us(a.Vt[0])<=Us(a.Vt[3]);return{ce:(i=a.V)!==null&&i!==void 0?i:l?s:o}},Candlestick:(t,e,n,r)=>{var i,s,o;const a=e.upColor,l=e.downColor,c=e.borderUpColor,u=e.borderDownColor,d=e.wickUpColor,f=e.wickDownColor,p=W(t(n,r)),g=Us(p.Vt[0])<=Us(p.Vt[3]);return{ce:(i=p.V)!==null&&i!==void 0?i:g?a:l,Ne:(s=p.Ot)!==null&&s!==void 0?s:g?c:u,Ee:(o=p.Xh)!==null&&o!==void 0?o:g?d:f}},Custom:(t,e,n,r)=>{var i;return{ce:(i=W(t(n,r)).V)!==null&&i!==void 0?i:e.color}},Area:(t,e,n,r)=>{var i,s,o,a;const l=W(t(n,r));return{ce:(i=l.lt)!==null&&i!==void 0?i:e.lineColor,lt:(s=l.lt)!==null&&s!==void 0?s:e.lineColor,Ps:(o=l.Ps)!==null&&o!==void 0?o:e.topColor,Rs:(a=l.Rs)!==null&&a!==void 0?a:e.bottomColor}},Baseline:(t,e,n,r)=>{var i,s,o,a,l,c;const u=W(t(n,r));return{ce:u.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(i=u.Re)!==null&&i!==void 0?i:e.topLineColor,De:(s=u.De)!==null&&s!==void 0?s:e.bottomLineColor,ke:(o=u.ke)!==null&&o!==void 0?o:e.topFillColor1,ye:(a=u.ye)!==null&&a!==void 0?a:e.topFillColor2,Ce:(l=u.Ce)!==null&&l!==void 0?l:e.bottomFillColor1,Te:(c=u.Te)!==null&&c!==void 0?c:e.bottomFillColor2}},Line:(t,e,n,r)=>{var i,s;const o=W(t(n,r));return{ce:(i=o.V)!==null&&i!==void 0?i:e.color,lt:(s=o.V)!==null&&s!==void 0?s:e.color}},Histogram:(t,e,n,r)=>{var i;return{ce:(i=W(t(n,r)).V)!==null&&i!==void 0?i:e.color}}};class $5{constructor(e){this.Kh=(n,r)=>r!==void 0?r.Vt:this.jr.In().Gh(n),this.jr=e,this.Jh=D5[e.Qh()]}$s(e,n){return this.Jh(this.Kh,this.jr.W(),e,n)}}var B0;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(B0||(B0={}));const Hr=30;class F5{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,n=0){const r=this.hl(e,n);return r===null?null:Object.assign(Object.assign({},this.al(r)),{ee:this.rl(r)})}ne(){return this.tl}ol(e,n,r){if(this.Ni())return null;let i=null;for(const s of r)i=dc(i,this._l(e,n,s));return i}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,n){const r=this.ul(e);if(r===null&&n!==0)switch(n){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return r}cl(e){let n=this.fl(e);return n>0&&(n-=1),n!==this.tl.length&&this.rl(n)<e?n:null}dl(e){const n=this.vl(e);return n!==this.tl.length&&e<this.rl(n)?n:null}ul(e){const n=this.fl(e);return n===this.tl.length||e<this.tl[n].ee?null:n}fl(e){return Il(this.tl,e,(n,r)=>n.ee<r)}vl(e){return CN(this.tl,e,(n,r)=>n.ee>r)}pl(e,n,r){let i=null;for(let s=e;s<n;s++){const o=this.tl[s].Vt[r];Number.isNaN(o)||(i===null?i={ml:o,bl:o}:(o<i.ml&&(i.ml=o),o>i.bl&&(i.bl=o)))}return i}_l(e,n,r){if(this.Ni())return null;let i=null;const s=W(this.el()),o=W(this.An()),a=Math.max(e,s),l=Math.min(n,o),c=Math.ceil(a/Hr)*Hr,u=Math.max(c,Math.floor(l/Hr)*Hr);{const f=this.fl(a),p=this.vl(Math.min(l,c,n));i=dc(i,this.pl(f,p,r))}let d=this.il.get(r);d===void 0&&(d=new Map,this.il.set(r,d));for(let f=Math.max(c+1,a);f<u;f+=Hr){const p=Math.floor(f/Hr);let g=d.get(p);if(g===void 0){const m=this.fl(p*Hr),w=this.vl((p+1)*Hr-1);g=this.pl(m,w,r),d.set(p,g)}i=dc(i,g)}{const f=this.fl(u),p=this.vl(l);i=dc(i,this.pl(f,p,r))}return i}}function dc(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class B5{constructor(e){this.wl=e}X(e,n,r){this.wl.draw(e)}gl(e,n,r){var i,s;(s=(i=this.wl).drawBackground)===null||s===void 0||s.call(i,e)}}class nf{constructor(e){this.tr=null,this.wn=e}gt(){var e;const n=this.wn.renderer();if(n===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===n)return this.tr.xl;const r=new B5(n);return this.tr={Ml:n,xl:r},r}Sl(){var e,n,r;return(r=(n=(e=this.wn).zOrder)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:"normal"}}function jN(t){var e,n,r,i,s;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(r=(n=t.visible)===null||n===void 0?void 0:n.call(t))===null||r===void 0||r,hi:(s=(i=t.tickVisible)===null||i===void 0?void 0:i.call(t))===null||s===void 0||s}}class V5{constructor(e,n){this.Wt=new gN,this.kl=e,this.yl=n}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},jN(this.kl))),this.Wt}}class W5 extends Xd{constructor(e,n){super(),this.kl=e,this.Li=n}zi(e,n,r){const i=jN(this.kl);r.t=i.t,e.V=i.V;const s=2/12*this.Li.P();r.wi=s,r.gi=s,r.ki=i.ki,r.Si=i.Si,e.Kt=i.Kt,e.yt=i.yt,e.hi=i.hi}}class U5{constructor(e,n){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=n}Ol(){return this.Vl}Vn(){var e,n;(n=(e=this.Vl).updateAllViews)===null||n===void 0||n.call(e)}Pn(){var e,n,r,i;const s=(r=(n=(e=this.Vl).paneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Cl)===null||i===void 0?void 0:i.Ml)===s)return this.Cl.xl;const o=s.map(a=>new nf(a));return this.Cl={Ml:s,xl:o},o}Qi(){var e,n,r,i;const s=(r=(n=(e=this.Vl).timeAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Tl)===null||i===void 0?void 0:i.Ml)===s)return this.Tl.xl;const o=this.jr.$t().St(),a=s.map(l=>new V5(l,o));return this.Tl={Ml:s,xl:a},a}Rn(){var e,n,r,i;const s=(r=(n=(e=this.Vl).priceAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Pl)===null||i===void 0?void 0:i.Ml)===s)return this.Pl.xl;const o=this.jr.Dt(),a=s.map(l=>new W5(l,o));return this.Pl={Ml:s,xl:a},a}Bl(){var e,n,r,i;const s=(r=(n=(e=this.Vl).priceAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Rl)===null||i===void 0?void 0:i.Ml)===s)return this.Rl.xl;const o=s.map(a=>new nf(a));return this.Rl={Ml:s,xl:o},o}Al(){var e,n,r,i;const s=(r=(n=(e=this.Vl).timeAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Dl)===null||i===void 0?void 0:i.Ml)===s)return this.Dl.xl;const o=s.map(a=>new nf(a));return this.Dl={Ml:s,xl:o},o}Il(e,n){var r,i,s;return(s=(i=(r=this.Vl).autoscaleInfo)===null||i===void 0?void 0:i.call(r,e,n))!==null&&s!==void 0?s:null}wr(e,n){var r,i,s;return(s=(i=(r=this.Vl).hitTest)===null||i===void 0?void 0:i.call(r,e,n))!==null&&s!==void 0?s:null}}function rf(t,e,n,r){t.forEach(i=>{e(i).forEach(s=>{s.Sl()===n&&r.push(s)})})}function sf(t){return t.Pn()}function H5(t){return t.Bl()}function q5(t){return t.Al()}class vv extends z5{constructor(e,n,r,i,s){super(e),this.zt=new F5,this.jh=new M5(this),this.zl=[],this.Ll=new S5(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=n,this.$l=r;const o=new A5(this);this.rn=[o],this.Hh=new NN(o,this,e),r!=="Area"&&r!=="Line"&&r!=="Baseline"||(this.El=new E5(this)),this.Ul(),this.ql(s)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const n={Xr:!0},r=this.Dt();if(this.$t().St().Ni()||r.Ni()||this.zt.Ni())return n;const i=this.$t().St().Xs(),s=this.Ct();if(i===null||s===null)return n;let o,a;if(e){const d=this.zt.sl();if(d===null)return n;o=d,a=d.ee}else{const d=this.zt.ll(i.ui(),-1);if(d===null||(o=this.zt.Gh(d.ee),o===null))return n;a=d.ee}const l=o.Vt[3],c=this.Us().$s(a,{Vt:o}),u=r.Rt(l,s.Vt);return{Xr:!1,_t:l,Kt:r.Fi(l,s.Vt),xh:r.Yl(l),Sh:r.Zl(l,s.Vt),V:c.ce,ki:u,ee:a}}Us(){return this.Nl!==null||(this.Nl=new $5(this)),this.Nl}W(){return this.cn}$h(e){const n=e.priceScaleId;n!==void 0&&n!==this.cn.priceScaleId&&this.$t().Xl(this,n),Ln(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,n){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(n&&n.ta?this.El.$r():e.length===0&&this.El.Hr());const r=this.$t().dr(this);this.$t().ia(r),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const n=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const n=new L5(this,e);return this.zl.push(n),this.$t().Gl(this),n}ra(e){const n=this.zl.indexOf(e);n!==-1&&this.zl.splice(n,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const n=e.Os();return this.zt.ll(n,1)}In(){return this.zt}ph(e){const n=this.zt.Gh(e);return n===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3]}:n.Vt[3]}aa(e){const n=[];rf(this.Hl,sf,"top",n);const r=this.El;return r!==null&&r.yt()&&(this.jl===null&&r.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),r.Ur(),n.unshift(r)),n}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const n=this.zl.map(r=>r.qh());return e.push(...n),rf(this.Hl,sf,"normal",e),e}ua(){return this.ca(sf,"bottom")}da(e){return this.ca(H5,e)}fa(e){return this.ca(q5,e)}va(e,n){return this.Hl.map(r=>r.wr(e,n)).filter(r=>r!==null)}Ji(e){return[this.Hh,...this.zl.map(n=>n.Yh())]}Rn(e,n){if(n!==this.Yi&&!this._a())return[];const r=[...this.rn];for(const i of this.zl)r.push(i.Zh());return this.Hl.forEach(i=>{r.push(...i.Rn())}),r}Qi(){const e=[];return this.Hl.forEach(n=>{e.push(...n.Qi())}),e}Il(e,n){if(this.cn.autoscaleInfoProvider!==void 0){const r=this.cn.autoscaleInfoProvider(()=>{const i=this.pa(e,n);return i===null?null:i.Bh()});return Wu.Ah(r)}return this.pa(e,n)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const n of this.rn)n.bt();for(const n of this.zl)n.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(n=>n.Vn())}Dt(){return W(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const n=this.zt.Gh(e);return n===null?null:{_t:n.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new U5(e,this))}ya(e){this.Hl=this.Hl.filter(n=>n.Ol()!==e)}Ca(){if(this.wn instanceof tf)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof tf)return e=>this.wn.je(e)}_a(){return!Yd(this.Dt().Pa())}pa(e,n){if(!fl(e)||!fl(n)||this.zt.Ni())return null;const r=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],i=this.zt.ol(e,n,r);let s=i!==null?new Wt(i.ml,i.bl):null;if(this.Qh()==="Histogram"){const a=this.cn.base,l=new Wt(a,a);s=s!==null?s.ts(l):l}let o=this.dn.uh();return this.Hl.forEach(a=>{const l=a.Il(e,n);if(l!=null&&l.priceRange){const p=new Wt(l.priceRange.minValue,l.priceRange.maxValue);s=s!==null?s.ts(p):p}var c,u,d,f;l!=null&&l.margins&&(c=o,u=l.margins,o={above:Math.max((d=c==null?void 0:c.above)!==null&&d!==void 0?d:0,u.above),below:Math.max((f=c==null?void 0:c.below)!==null&&f!==void 0?f:0,u.below)})}),new Wu(s,o)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const n=this.cn.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new JB(this.cn.priceFormat.precision);break;case"percent":this.wa=new vN(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new Zd(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const n=W(this.zt.el());this.Wl=this.Fl.map((r,i)=>{const s=W(e.Va(r.time,!0)),o=s<n?1:-1;return{time:W(this.zt.ll(s,o)).ee,position:r.position,shape:r.shape,color:r.color,id:r.id,th:i,text:r.text,size:r.size,originalTime:r.originalTime}})}ql(e){switch(this.dn=new R5(this,this.$t()),this.$l){case"Bar":this.wn=new l5(this,this.$t());break;case"Candlestick":this.wn=new f5(this,this.$t());break;case"Line":this.wn=new y5(this,this.$t());break;case"Custom":this.wn=new tf(this,this.$t(),Tt(e));break;case"Area":this.wn=new o5(this,this.$t());break;case"Baseline":this.wn=new d5(this,this.$t());break;case"Histogram":this.wn=new v5(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,n){const r=[];return rf(this.Hl,e,n,r),r}}class G5{constructor(e){this.cn=e}Oa(e,n,r){let i=e;if(this.cn.mode===0)return i;const s=r.vn(),o=s.Ct();if(o===null)return i;const a=s.Rt(e,o),l=r.Ba().filter(u=>u instanceof vv).reduce((u,d)=>{if(r.vr(d)||!d.yt())return u;const f=d.Dt(),p=d.In();if(f.Ni()||!p.Kr(n))return u;const g=p.Gh(n);if(g===null)return u;const m=Us(d.Ct());return u.concat([f.Rt(g.Vt[3],m.Vt)])},[]);if(l.length===0)return i;l.sort((u,d)=>Math.abs(u-a)-Math.abs(d-a));const c=l[0];return i=s.pn(c,o),i}}class K5 extends Fn{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null)return;const s=Math.max(1,Math.floor(r));e.lineWidth=s,function(o,a){o.save(),o.lineWidth%2&&o.translate(.5,.5),a(),o.restore()}(e,()=>{const o=W(this.zt);if(o.Aa){e.strokeStyle=o.Ia,us(e,o.za),e.beginPath();for(const a of o.La){const l=Math.round(a.Ea*r);e.moveTo(l,-s),e.lineTo(l,n.height+s)}e.stroke()}if(o.Na){e.strokeStyle=o.Fa,us(e,o.Wa),e.beginPath();for(const a of o.ja){const l=Math.round(a.Ea*i);e.moveTo(-s,l),e.lineTo(n.width+s,l)}e.stroke()}})}}class X5{constructor(e){this.Wt=new K5,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,n={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(r=>({Ea:r.coord}))};this.Wt.J(n),this.ft=!1}return this.Wt}}class Y5{constructor(e){this.wn=new X5(e)}qh(){return this.wn}}const of={$a:4,Ua:1e-4};function Hs(t,e){const n=100*(t-e)/e;return e<0?-n:n}function Z5(t,e){const n=Hs(t.Ph(),e),r=Hs(t.Rh(),e);return new Wt(n,r)}function Ca(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function Q5(t,e){const n=Ca(t.Ph(),e),r=Ca(t.Rh(),e);return new Wt(n,r)}function Uu(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.log10(n+e.Ua)+e.$a;return t<0?-r:r}function Ea(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.pow(10,n-e.$a)-e.Ua;return t<0?-r:r}function ta(t,e){if(t===null)return null;const n=Uu(t.Ph(),e),r=Uu(t.Rh(),e);return new Wt(n,r)}function hc(t,e){if(t===null)return null;const n=Ea(t.Ph(),e),r=Ea(t.Rh(),e);return new Wt(n,r)}function af(t){if(t===null)return of;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return of;const n=Math.ceil(Math.abs(Math.log10(e))),r=of.$a+n;return{$a:r,Ua:1/Math.pow(10,r)}}class lf{constructor(e,n){if(this.qa=e,this.Ya=n,function(r){if(r<0)return!1;for(let i=r;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let r=this.qa;r!==1;){if(r%2==0)this.Za.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),r/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,n,r){const i=this.qa===0?0:1/this.qa;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-n)))),o=0,a=this.Ya[0];for(;;){const d=uc(s,i,1e-14)&&s>i+1e-14,f=uc(s,r*a,1e-14),p=uc(s,1,1e-14);if(!(d&&f&&p))break;s/=a,a=this.Ya[++o%this.Ya.length]}if(s<=i+1e-14&&(s=i),s=Math.max(1,s),this.Za.length>0&&(l=s,c=1,u=1e-14,Math.abs(l-c)<u))for(o=0,a=this.Za[0];uc(s,r*a,1e-14)&&s>i+1e-14;)s/=a,a=this.Za[++o%this.Za.length];var l,c,u;return s}}class V0{constructor(e,n,r,i){this.Ka=[],this.Li=e,this.qa=n,this.Ga=r,this.Ja=i}Xa(e,n){if(e<n)throw new Error("high < low");const r=this.Li.At(),i=(e-n)*this.Qa()/r,s=new lf(this.qa,[2,2.5,2]),o=new lf(this.qa,[2,2,2.5]),a=new lf(this.qa,[2.5,2,2]),l=[];return l.push(s.Xa(e,n,i),o.Xa(e,n,i),a.Xa(e,n,i)),function(c){if(c.length<1)throw Error("array is empty");let u=c[0];for(let d=1;d<c.length;++d)c[d]<u&&(u=c[d]);return u}(l)}io(){const e=this.Li,n=e.Ct();if(n===null)return void(this.Ka=[]);const r=e.At(),i=this.Ga(r-1,n),s=this.Ga(0,n),o=this.Li.W().entireTextOnly?this.no()/2:0,a=o,l=r-1-o,c=Math.max(i,s),u=Math.min(i,s);if(c===u)return void(this.Ka=[]);let d=this.Xa(c,u),f=c%d;f+=f<0?d:0;const p=c>=u?1:-1;let g=null,m=0;for(let w=c-f;w>u;w-=d){const y=this.Ja(w,n,!0);g!==null&&Math.abs(y-g)<this.Qa()||y<a||y>l||(m<this.Ka.length?(this.Ka[m].Ea=y,this.Ka[m].so=e.eo(w)):this.Ka.push({Ea:y,so:e.eo(w)}),m++,g=y,e.ro()&&(d=this.Xa(w*p,u)))}this.Ka.length=m}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function RN(t){return t.slice().sort((e,n)=>W(e.Xi())-W(n.Xi()))}var W0;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(W0||(W0={}));const U0=new vN,H0=new Zd(100,1);class J5{constructor(e,n,r,i){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new Xe,this.vo=new Xe,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=H0,this.xo=af(null),this.So=e,this.cn=n,this.ko=r,this.yo=i,this.Co=new V0(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(Ln(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const n=Tt(e.scaleMargins.top),r=Tt(e.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(n+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+r}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const n=this.Cr();let r=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),n.Cr===1&&e.Cr!==n.Cr&&(function(s,o){if(s===null)return!1;const a=Ea(s.Ph(),o),l=Ea(s.Rh(),o);return isFinite(a)&&isFinite(l)}(this.Ih,this.xo)?(r=hc(this.Ih,this.xo),r!==null&&this.Ao(r)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==n.Cr&&(r=ta(this.Ih,this.xo),r!==null&&this.Ao(r));const i=n.Cr!==this.cn.mode;i&&(n.Cr===2||this.Mh())&&this.Ra(),i&&(n.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&n.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(n,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,n){const r=this.Ih;(n||r===null&&e!==null||r!==null&&!r.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,n){return this.Mh()?e=Hs(e,n):this.Oo()&&(e=Ca(e,n)),this.Po(e,n)}te(e,n,r){this.Wo();const i=this.Fo(),s=W(this.Lh()),o=s.Ph(),a=s.Rh(),l=this.Eo()-1,c=this.Bo(),u=l/(a-o),d=r===void 0?0:r.from,f=r===void 0?e.length:r.to,p=this.Ho();for(let g=d;g<f;g++){const m=e[g],w=m._t;if(isNaN(w))continue;let y=w;p!==null&&(y=p(m._t,n));const x=i+u*(y-o),b=c?x:this.ho-1-x;m.st=b}}be(e,n,r){this.Wo();const i=this.Fo(),s=W(this.Lh()),o=s.Ph(),a=s.Rh(),l=this.Eo()-1,c=this.Bo(),u=l/(a-o),d=r===void 0?0:r.from,f=r===void 0?e.length:r.to,p=this.Ho();for(let g=d;g<f;g++){const m=e[g];let w=m.ge,y=m.Me,x=m.xe,b=m.Se;p!==null&&(w=p(m.ge,n),y=p(m.Me,n),x=p(m.xe,n),b=p(m.Se,n));let S=i+u*(w-o),C=c?S:this.ho-1-S;m.pe=C,S=i+u*(y-o),C=c?S:this.ho-1-S,m.de=C,S=i+u*(x-o),C=c?S:this.ho-1-S,m.fe=C,S=i+u*(b-o),C=c?S:this.ho-1-S,m.me=C}}pn(e,n){const r=this.To(e,n);return this.$o(r,n)}$o(e,n){let r=e;return this.Mh()?r=function(i,s){return s<0&&(i=-i),i/100*s+s}(r,n):this.Oo()&&(r=function(i,s){return i-=100,s<0&&(i=-i),i/100*s+s}(r,n)),r}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let n=0;n<this.po.length;n++){const r=this.po[n];r.Xi()===null&&r.Ki(n+1),e.push(r)}return e=RN(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const n=this.po.indexOf(e);if(n===-1)throw new Error("source is not attached to scale");this.po.splice(n,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const n of this.po){const r=n.Ct();r!==null&&(e===null||r.la<e.la)&&(e=r)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const n=this.Co.Ha();return this.bo={Ha:n,Xo:e},this.fo.m(),n}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=W(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let n=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const r=W(this.ao).Th();n=Math.max(n,.1),r.Vh(n),this.Ao(r)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=W(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const n=W(this.Lh()).Dh()/(this.Eo()-1);let r=e-this.Mo;this.Bo()&&(r*=-1);const i=r*n,s=W(this.ao).Th();s.Oh(i),this.Ao(s,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,n){switch(this.cn.mode){case 2:return this.s_(Hs(e,n));case 3:return this.ba().format(Ca(e,n));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,W(this.e_()).ba())}Zl(e,n){return e=Hs(e,n),this.s_(e,U0)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let n=100;e!==null&&(n=Math.round(1/e.ma())),this.wa=H0,this.Mh()?(this.wa=U0,n=100):this.Oo()?(this.wa=new Zd(100,1),n=100):e!==null&&(this.wa=e.ba()),this.Co=new V0(this,n,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,n){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?Uu(e,this.xo):e;const r=W(this.Lh()),i=this.Fo()+(this.Eo()-1)*(e-r.Ph())/r.Dh();return this.jo(i)}To(e,n){if(this.Wo(),this.Ni())return 0;const r=this.jo(e),i=W(this.Lh()),s=i.Ph()+i.Dh()*((r-this.Fo())/(this.Eo()-1));return this.ro()?Ea(s,this.xo):s}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let n=null;const r=this.r_();let i=0,s=0;for(const l of r){if(!l.yt())continue;const c=l.Ct();if(c===null)continue;const u=l.Il(e.Os(),e.ui());let d=u&&u.Lh();if(d!==null){switch(this.cn.mode){case 1:d=ta(d,this.xo);break;case 2:d=Z5(d,c.Vt);break;case 3:d=Q5(d,c.Vt)}if(n=n===null?d:n.ts(W(d)),u!==null){const f=u.Eh();f!==null&&(i=Math.max(i,f.above),s=Math.max(s,f.below))}}}if(i===this.co&&s===this.do||(this.co=i,this.do=s,this.bo=null,this.Do()),n!==null){if(n.Ph()===n.Rh()){const l=this.e_(),c=5*(l===null||this.Mh()||this.Oo()?1:l.ma());this.ro()&&(n=hc(n,this.xo)),n=new Wt(n.Ph()-c,n.Rh()+c),this.ro()&&(n=ta(n,this.xo))}if(this.ro()){const l=hc(n,this.xo),c=af(l);if(o=c,a=this.xo,o.$a!==a.$a||o.Ua!==a.Ua){const u=this.ao!==null?hc(this.ao,this.xo):null;this.xo=c,n=ta(l,c),u!==null&&(this.ao=ta(u,c))}}this.Ao(n)}else this.Ih===null&&(this.Ao(new Wt(-.5,.5)),this.xo=af(null));var o,a;this.oo._o=!0}Ho(){return this.Mh()?Hs:this.Oo()?Ca:this.ro()?e=>Uu(e,this.xo):null}a_(e,n,r){return n===void 0?(r===void 0&&(r=this.ba()),r.format(e)):n(e)}Wh(e,n){return this.a_(e,this.yo.priceFormatter,n)}s_(e,n){return this.a_(e,this.yo.percentageFormatter,n)}}class eV{constructor(e,n){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new Xe,this.yl=e,this.$i=n,this.d_=new Y5(this);const r=n.W();this.f_=this.v_("left",r.leftPriceScale),this.p_=this.v_("right",r.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(r)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const n=Array.from(this.o_.values());for(const r of n){const i=W(r[0].Dt());i.$h(e.overlayPriceScales),e.localization&&i.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?Tt(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(n=>{if(this.vr(n)){const r=n.Dt();r!==null&&r.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const n=e.Dt();return n===null||this.f_!==n&&this.p_!==n}qo(e,n,r){const i=r!==void 0?r:this.C_().y_+1;this.T_(e,n,i)}Zo(e){const n=this.po.indexOf(e);Si(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1);const r=W(e.Dt()).Pa();if(this.o_.has(r)){const s=Tt(this.o_.get(r)),o=s.indexOf(e);o!==-1&&(s.splice(o,1),s.length===0&&this.o_.delete(r))}const i=e.Dt();i&&i.Ba().indexOf(e)>=0&&i.Zo(e),i!==null&&(i.Yo(),this.P_(i)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,n){e.Go(n)}O_(e,n){e.Jo(n),this.k_()}B_(e){e.Qo()}A_(e,n){e.t_(n)}I_(e,n){e.i_(n),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const n=this.yl.Xs();e.Ro({Wn:!0}),n!==null&&e.h_(n),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=RN(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const n=e.r_();if(n&&n.length>0&&!this.yl.Ni()){const r=this.yl.Xs();r!==null&&e.h_(r)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let n=0,r=0;for(let i=0;i<e.length;i++){const s=e[i].Xi();s!==null&&(s<n&&(n=s),s>r&&(r=s))}return{H_:n,y_:r}}T_(e,n,r){let i=this.w_(n);if(i===null&&(i=this.v_(n,this.$i.W().overlayPriceScales)),this.po.push(e),!Yd(n)){const s=this.o_.get(n)||[];s.push(e),this.o_.set(n,s)}i.qo(e),e.Gi(i),e.Ki(r),this.P_(i),this.mo=null}m_(e,n,r){n.Cr!==r.Cr&&this.L_(e)}v_(e,n){const r=Object.assign({visible:!0,autoScale:!0},Sr(n)),i=new J5(e,r,this.$i.W().layout,this.$i.W().localization);return i.Lo(this.At()),i}}class tV{constructor(e,n,r=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=n,this.ir=r}Y_(e){const n=e.time,r=this.q_.cacheKey(n),i=this.tr.get(r);if(i!==void 0)return i.Z_;if(this.Ke===this.ir){const o=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(Tt(o)),this.Je++,this.Ke--}const s=this.U_(e);return this.tr.set(r,{Z_:s,rr:this.Ge}),this.Qe.set(this.Ge,r),this.Ke++,this.Ge++,s}}class _a{constructor(e,n){Si(e<=n,"right should be >= left"),this.X_=e,this.K_=n}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function q0(t,e){return t===null||e===null?t===e:t.Ch(e)}class nV{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,n){this.nu(n),this.tr=null;for(let r=n;r<e.length;++r){const i=e[r];let s=this.J_.get(i.timeWeight);s===void 0&&(s=[],this.J_.set(i.timeWeight,s)),s.push({index:r,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}su(e,n){const r=Math.ceil(n/e);return this.tr!==null&&this.tr.eu===r||(this.tr={Ha:this.ru(r),eu:r}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const n=[];this.J_.forEach((r,i)=>{e<=r[0].index?n.push(i):r.splice(Il(r,e,s=>s.index<e),1/0)});for(const r of n)this.J_.delete(r)}ru(e){let n=[];for(const r of Array.from(this.J_.keys()).sort((i,s)=>s-i)){if(!this.J_.get(r))continue;const i=n;n=[];const s=i.length;let o=0;const a=Tt(this.J_.get(r)),l=a.length;let c=1/0,u=-1/0;for(let d=0;d<l;d++){const f=a[d],p=f.index;for(;o<s;){const g=i[o],m=g.index;if(!(m<p)){c=m;break}o++,n.push(g),u=m,c=1/0}if(c-p>=e&&p-u>=e)n.push(f),u=p;else if(this.Q_)return i}for(;o<s;o++)n.push(i[o])}return n}}class ao{constructor(e){this.hu=e}lu(){return this.hu===null?null:new _a(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new ao(null)}}function rV(t,e){return t.weight>e.weight?t:e}class iV{constructor(e,n,r,i){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new nV,this.du=new Map,this.fu=ao.ou(),this.vu=!0,this.pu=new Xe,this.mu=new Xe,this.bu=new Xe,this.wu=null,this.gu=null,this.Mu=[],this.cn=n,this.yo=r,this.xu=n.rightOffset,this.Su=n.barSpacing,this.$i=e,this.q_=i,this.ku(),this.cu.tu(n.uniformDistribution)}W(){return this.cn}yu(e){Ln(this.yo,e),this.Cu(),this.ku()}$h(e,n){var r;Ln(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((r=e.barSpacing)!==null&&r!==void 0?r:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var n,r;return(r=(n=this.uu[e])===null||n===void 0?void 0:n.time)!==null&&r!==void 0?r:null}Ui(e){var n;return(n=this.uu[e])!==null&&n!==void 0?n:null}Va(e,n){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return n?this.uu.length-1:null;const r=Il(this.uu,this.q_.key(e),(i,s)=>this.q_.key(i.time)<s);return this.q_.key(e)<this.q_.key(this.uu[r].time)?n?r:null:r}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const n={from:e.Os(),to:e.ui()};return this.Ou(n)}Ou(e){const n=Math.round(e.from),r=Math.round(e.to),i=W(this.Bu()),s=W(this.Au());return{from:W(this.Ui(Math.max(i,n))),to:W(this.Ui(Math.min(s,r)))}}Iu(e){return{from:W(this.Va(e.from,!0)),to:W(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const n=this.Du(),r=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&r!==0){const i=this.Su*e/r;this.Su=i}if(this.cn.fixLeftEdge&&n!==null&&n.Os()<=0){const i=r-e;this.xu-=Math.round(i/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!fl(e))return 0;const n=this.Eu()+this.xu-e;return this.__-(n+.5)*this.Su-1}Qs(e,n){const r=this.Eu(),i=n===void 0?0:n.from,s=n===void 0?e.length:n.to;for(let o=i;o<s;o++){const a=e[o].ot,l=r+this.xu-a,c=this.__-(l+.5)*this.Su-1;e[o].nt=c}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,n=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),r=Math.round(n/e),i=W(this.Xs()),s=Math.max(i.Os(),i.Os()-r),o=Math.max(i.ui(),i.ui()-r),a=this.cu.su(e,n),l=this.Bu()+r,c=this.Au()-r,u=this.$u(),d=this.cn.fixLeftEdge||u,f=this.cn.fixRightEdge||u;let p=0;for(const g of a){if(!(s<=g.index&&g.index<=o))continue;let m;p<this.Mu.length?(m=this.Mu[p],m.coord=this.It(g.index),m.label=this.Uu(g),m.weight=g.weight):(m={needAlignCoordinate:!1,coord:this.It(g.index),label:this.Uu(g),weight:g.weight},this.Mu.push(m)),this.Su>n/2&&!u?m.needAlignCoordinate=!1:m.needAlignCoordinate=d&&g.index<=l||f&&g.index>=c,p++}return this.Mu.length=p,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,n){const r=this.Fu(e),i=this.le(),s=i+n*(i/10);this.Gn(s),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(r-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const n=rm(this.__-e,0,this.__),r=rm(this.__-W(this.wo),0,this.__);n!==0&&r!==0&&this.Gn(this.wu.le*n/r)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const n=(this.Mo-e)/this.le();this.xu=W(this.wu).Hu+n,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,n=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.xu,i=performance.now();this.$i.Zn({Qu:s=>(s-i)/n>=1,tc:s=>{const o=(s-i)/n;return o>=1?e:r+(e-r)*o}})}bt(e,n){this.vu=!0,this.uu=e,this.cu.iu(e,n),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const n=e.G_();this.ju(this.__/n),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),n=this.Au();e!==null&&n!==null&&this.rc(new _a(e,n+this.cn.rightOffset))}lc(e){const n=new _a(e.from,e.to);this.rc(n)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:n}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const n=this.ac(e),r=this.Eu()+this.xu-n;return Math.round(1e6*r)/1e6}ju(e){const n=this.Su;this.Su=e,this.zu(),n!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(ao.ou());const e=this.Eu(),n=this.__/this.Su,r=this.xu+e,i=new _a(r-n+1,r);this._c(new ao(i))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const n=.5*this.__;this.Su>n&&(this.Su=n,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const n=this.dc();this.xu>n&&(this.xu=n,this.vu=!0)}cc(){const e=this.Bu(),n=this._u;return e===null||n===null?null:e-n-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let n=this.du.get(e.weight);return n===void 0&&(n=new tV(r=>this.fc(r),this.q_),this.du.set(e.weight,n)),n.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const n=this.fu;this.fu=e,q0(n.lu(),this.fu.lu())||this.pu.m(),q0(n.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const n=this.Xs();if(n===null)return;const r=n.Os()-e;if(r<0){const i=this.xu-r-1;this.Jn(i)}this.zu()}Pu(){this.Lu(),this.zu()}}class sV{X(e,n,r){e.useMediaCoordinateSpace(i=>this.K(i,n,r))}gl(e,n,r){e.useMediaCoordinateSpace(i=>this.vc(i,n,r))}vc(e,n,r){}}class oV extends sV{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:n,mediaSize:r}=e;let i=0;for(const o of this.zt.bc){if(o.Kt.length===0)continue;n.font=o.R;const a=this.wc(n,o.Kt);a>r.width?o.Zu=r.width/a:o.Zu=1,i+=o.gc*o.Zu}let s=0;switch(this.zt.Mc){case"top":s=0;break;case"center":s=Math.max((r.height-i)/2,0);break;case"bottom":s=Math.max(r.height-i,0)}n.fillStyle=this.zt.V;for(const o of this.zt.bc){n.save();let a=0;switch(this.zt.xc){case"left":n.textAlign="left",a=o.gc/2;break;case"center":n.textAlign="center",a=r.width/2;break;case"right":n.textAlign="right",a=r.width-1-o.gc/2}n.translate(a,s),n.textBaseline="top",n.font=o.R,n.scale(o.Zu,o.Zu),n.fillText(o.Kt,0,o.Sc),n.restore(),s+=o.gc*o.Zu}}wc(e,n){const r=this.kc(e.font);let i=r.get(n);return i===void 0&&(i=e.measureText(n).width,r.set(n,i)),i}kc(e){let n=this.mc.get(e);return n===void 0&&(n=new Map,this.mc.set(e,n)),n}}class aV{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new oV(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),n=this.Ft;n.yt=e.visible,n.yt&&(n.V=e.color,n.xc=e.horzAlign,n.Mc=e.vertAlign,n.bc=[{Kt:e.text,R:Eo(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class lV extends fv{constructor(e,n){super(),this.cn=n,this.wn=new aV(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var G0,K0,X0,im,Y0;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(G0||(G0={}));class cV{constructor(e,n,r){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new Xe,this.Rc=new Xe,this.Dc=null,this.Vc=e,this.cn=n,this.q_=r,this.Oc=new BB(this),this.yl=new iV(this,n.timeScale,this.cn.localization,r),this.vt=new QB(this,n.crosshair),this.Bc=new G5(n.crosshair),this.Ac=new lV(this,n.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(at.es())}Uh(){this.Nc(at.ss())}oa(){this.Nc(new at(1))}Gl(e){const n=this.Fc(e);this.Nc(n)}Wc(){return this.Tc}jc(e){const n=this.Tc;this.Tc=e,n!==null&&this.Gl(n.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){Ln(this.cn,e),this.yc.forEach(n=>n.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,n){if(e==="left")return void this.$h({leftPriceScale:n});if(e==="right")return void this.$h({rightPriceScale:n});const r=this.Uc(e);r!==null&&(r.Dt.$h(n),this.Pc.m())}Uc(e){for(const n of this.yc){const r=n.w_(e);if(r!==null)return{Ht:n,Dt:r}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,n){e.Lo(n),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(n=>n.S_(e)),this.Wu()}Ic(e){const n=new eV(this.yl,this);e!==void 0?this.yc.splice(e,0,n):this.yc.push(n);const r=e===void 0?this.yc.length-1:e,i=at.es();return i.Nn(r,{Fn:0,Wn:!0}),this.Nc(i),n}V_(e,n,r){e.V_(n,r)}O_(e,n,r){e.O_(n,r),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,n){e.B_(n),this.Nc(this.Gc(e,2))}A_(e,n,r){n.Vo()||e.A_(n,r)}I_(e,n,r){n.Vo()||(e.I_(n,r),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,n){n.Vo()||(e.z_(n),this.Nc(this.Gc(e,2)))}E_(e,n){e.E_(n),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,n){const r=this.St();if(r.Ni()||n===0)return;const i=r.Hi();e=Math.max(1,Math.min(e,i)),r.Zu(e,n),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,n,r,i,s){this.vt.gn(e,n);let o=NaN,a=this.yl.Nu(e);const l=this.yl.Xs();l!==null&&(a=Math.min(Math.max(l.Os(),a),l.ui()));const c=i.vn(),u=c.Ct();u!==null&&(o=c.pn(n,u)),o=this.Bc.Oa(o,a,i),this.vt.kn(a,o,i),this.oa(),s||this.Rc.m(this.vt.xt(),{x:e,y:n},r)}ad(e,n,r){const i=r.vn(),s=i.Ct(),o=i.Rt(e,W(s)),a=this.yl.Va(n,!0),l=this.yl.It(W(a));this.ld(l,o,null,r,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const n=this.vt.xn(),r=this.vt.Sn();this.ld(n,r,null,e)}this.vt.Vn()}_d(e,n,r){const i=this.yl.mn(0);n!==void 0&&r!==void 0&&this.yl.bt(n,r);const s=this.yl.mn(0),o=this.yl.Eu(),a=this.yl.Xs();if(a!==null&&i!==null&&s!==null){const l=a.Kr(o),c=this.q_.key(i)>this.q_.key(s),u=e!==null&&e>o&&!c,d=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=l&&(r!==void 0||d)&&this.yl.W().shiftVisibleRangeOnNewBar;if(u&&!f){const p=e-o;this.yl.Jn(this.yl.Hu()-p)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const n=this.yc.find(r=>r.Uo().includes(e));return n===void 0?null:n}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,n,r){const i=this.yc[0],s=this.fd(n,e,i,r);return this.Cc.push(s),this.Cc.length===1?this.Kl():this.Uh(),s}vd(e){const n=this.dr(e),r=this.Cc.indexOf(e);Si(r!==-1,"Series not found"),this.Cc.splice(r,1),W(n).Zo(e),e.S&&e.S()}Xl(e,n){const r=W(this.dr(e));r.Zo(e);const i=this.Uc(n);if(i===null){const s=e.Xi();r.qo(e,n,s)}else{const s=i.Ht===r?e.Xi():void 0;i.Ht.qo(e,n,s)}}hc(){const e=at.ss();e.$n(),this.Nc(e)}pd(e){const n=at.ss();n.Yn(e),this.Nc(n)}Kn(){const e=at.ss();e.Kn(),this.Nc(e)}Gn(e){const n=at.ss();n.Gn(e),this.Nc(n)}Jn(e){const n=at.ss();n.Jn(e),this.Nc(n)}Zn(e){const n=at.ss();n.Zn(e),this.Nc(n)}Un(){const e=at.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const n=this.Ec,r=this.zc;if(n===r)return n;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==r||this.Dc.Rs!==n)this.Dc={Ps:r,Rs:n,wd:new Map};else{const s=this.Dc.wd.get(e);if(s!==void 0)return s}const i=function(s,o,a){const[l,c,u,d]=hl(s),[f,p,g,m]=hl(o),w=[ln(l+a*(f-l)),ln(c+a*(p-c)),ln(u+a*(g-u)),fN(d+a*(m-d))];return`rgba(${w[0]}, ${w[1]}, ${w[2]}, ${w[3]})`}(r,n,e/100);return this.Dc.wd.set(e,i),i}Gc(e,n){const r=new at(n);if(e!==null){const i=this.yc.indexOf(e);r.Nn(i,{Fn:n})}return r}Fc(e,n){return n===void 0&&(n=2),this.Gc(this.dr(e),n)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(n=>n.j_().qh().bt())}fd(e,n,r,i){const s=new vv(this,e,n,r,i),o=e.priceScaleId!==void 0?e.priceScaleId:this.md();return r.qo(s,o),Yd(o)||s.$h(e),s}Lc(e){const n=this.cn.layout;return n.background.type==="gradient"?e===0?n.background.topColor:n.background.bottomColor:n.background.color}}function sm(t){return!Zn(t)&&!Al(t)}function MN(t){return Zn(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(K0||(K0={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(X0||(X0={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(im||(im={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Y0||(Y0={}));const Z0=t=>t.getUTCFullYear();function uV(t,e,n){return e.replace(/yyyy/g,(r=>kr(Z0(r),4))(t)).replace(/yy/g,(r=>kr(Z0(r)%100,2))(t)).replace(/MMMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,n)).replace(/MMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,n)).replace(/MM/g,(r=>kr((i=>i.getUTCMonth()+1)(r),2))(t)).replace(/dd/g,(r=>kr((i=>i.getUTCDate())(r),2))(t))}class AN{constructor(e="yyyy-MM-dd",n="default"){this.gd=e,this.Md=n}Y_(e){return uV(e,this.gd,this.Md)}}class dV{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",kr(e.getUTCHours(),2)).replace("%m",kr(e.getUTCMinutes(),2)).replace("%s",kr(e.getUTCSeconds(),2))}}const hV={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class fV{constructor(e={}){const n=Object.assign(Object.assign({},hV),e);this.Td=new AN(n.Sd,n.Cd),this.Pd=new dV(n.kd),this.Rd=n.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function fc(t){return 60*t*60*1e3}function cf(t){return 60*t*1e3}const pc=[{Dd:(Q0=1,1e3*Q0),Vd:10},{Dd:cf(1),Vd:20},{Dd:cf(5),Vd:21},{Dd:cf(30),Vd:22},{Dd:fc(1),Vd:30},{Dd:fc(3),Vd:31},{Dd:fc(6),Vd:32},{Dd:fc(12),Vd:33}];var Q0;function J0(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=pc.length-1;n>=0;--n)if(Math.floor(e.getTime()/pc[n].Dd)!==Math.floor(t.getTime()/pc[n].Dd))return pc[n].Vd;return 0}function uf(t){let e=t;if(Al(t)&&(e=yv(t)),!sm(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(n.getTime()/1e3),Bd:e}}function ew(t){if(!MN(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function yv(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function tw(t){Al(t.time)&&(t.time=yv(t.time))}class nw{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(n){n.forEach(tw)}(e):tw(e)}createConverterToInternalObj(e){return W(function(n){return n.length===0?null:sm(n[0].time)||Al(n[0].time)?uf:ew}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const n=e;return n.Bd===void 0?new Date(1e3*n.Od).getTime():new Date(Date.UTC(n.Bd.year,n.Bd.month-1,n.Bd.day)).getTime()}convertHorzItemToInternal(e){return MN(n=e)?ew(n):sm(n)?uf(n):uf(yv(n));var n}updateFormatter(e){if(!this.cn)return;const n=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new fV({Sd:n,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new AN(n,e.locale)}formatHorzItem(e){const n=e;return this.Ad.Y_(new Date(1e3*n.Od))}formatTickmark(e,n){const r=function(s,o,a){switch(s){case 0:case 10:return o?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(i.tickMarkFormatter!==void 0){const s=i.tickMarkFormatter(e.originalTime,r,n.locale);if(s!==null)return s}return function(s,o,a){const l={};switch(o){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const c=s.Bd===void 0?new Date(1e3*s.Od):new Date(Date.UTC(s.Bd.year,s.Bd.month-1,s.Bd.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(a,l)}(e.time,r,n.locale)}maxTickMarkWeight(e){let n=e.reduce(rV,e[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(e,n){(function(r,i=0){if(r.length===0)return;let s=i===0?null:r[i-1].time.Od,o=s!==null?new Date(1e3*s):null,a=0;for(let l=i;l<r.length;++l){const c=r[l],u=new Date(1e3*c.time.Od);o!==null&&(c.timeWeight=J0(u,o)),a+=c.time.Od-(s||c.time.Od),s=c.time.Od,o=u}if(i===0&&r.length>1){const l=Math.ceil(a/(r.length-1)),c=new Date(1e3*(r[0].time.Od-l));r[0].timeWeight=J0(new Date(1e3*r[0].time.Od),c)}})(e,n)}static Id(e){return Ln({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const _o=typeof window<"u";function rw(){return!!_o&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function df(){return!!_o&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function om(t){return t+t%2}function hf(t,e){return t.zd-e.zd}function ff(t,e,n){const r=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(r)*Math.min(Math.abs(r),n)}class pV{constructor(e,n,r,i){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=n,this.qd=r,this.rs=i}Yd(e,n){if(this.Ld!==null){if(this.Ld.ot===n)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:n,zd:e}}Vr(e,n){if(this.Ld===null||this.Ed===null||n-this.Ld.ot>50)return;let r=0;const i=ff(this.Ld,this.Ed,this.Ud),s=hf(this.Ld,this.Ed),o=[i],a=[s];if(r+=s,this.Nd!==null){const c=ff(this.Ed,this.Nd,this.Ud);if(Math.sign(c)===Math.sign(i)){const u=hf(this.Ed,this.Nd);if(o.push(c),a.push(u),r+=u,this.Fd!==null){const d=ff(this.Nd,this.Fd,this.Ud);if(Math.sign(d)===Math.sign(i)){const f=hf(this.Nd,this.Fd);o.push(d),a.push(f),r+=f}}}}let l=0;for(let c=0;c<o.length;++c)l+=a[c]/r*o[c];Math.abs(l)<this.$d||(this.Wd={zd:e,ot:n},this.Hd=l,this.jd=function(c,u){const d=Math.log(u);return Math.log(1*d/-c)/d}(Math.abs(l),this.qd))}tc(e){const n=W(this.Wd),r=e-n.ot;return n.zd+this.Hd*(Math.pow(this.qd,r)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const n=e-W(this.Wd).ot;return Math.min(n,this.jd)}}class mV{constructor(e,n){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=n,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return pN(hl(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function ds(t,e){const n=W(t.ownerDocument).createElement("canvas");t.appendChild(n);const r=_B(n,{options:{allowResizeObserver:!1},transform:(i,s)=>({width:Math.max(i.width,s.width),height:Math.max(i.height,s.height)})});return r.resizeCanvasElement(e),r}function hs(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function am(t,e,n,r){t.gl&&t.gl(e,n,r)}function Wc(t,e,n,r){t.X(e,n,r)}function lm(t,e,n,r){const i=t(n,r);for(const s of i){const o=s.gt();o!==null&&e(o)}}function gV(t){_o&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class xv{constructor(e,n,r){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!df(),this.Af=i=>{this.If(i)},this.zf=i=>{if(this.Lf(i)){const s=this.Ef(i);if(++this._f,this.uf&&this._f>1){const{Nf:o}=this.Ff(Wn(i),this.cf);o<30&&!this.wf&&this.Wf(s,this.Hf.jf),this.$f()}}else{const s=this.Ef(i);if(++this.hf,this.lf&&this.hf>1){const{Nf:o}=this.Ff(Wn(i),this.af);o<5&&!this.bf&&this.Uf(s,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=n,this.cn=r,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const n=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",n)},this.Zf.addEventListener("mousemove",n),this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const n=this.Ef(e);this.Uf(n,this.Hf.tv),this.Bf=!0}iv(e){const n=pf(e.changedTouches,W(this.Of));if(n===null||(this.Vf=mc(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const r=this.Ff(Wn(n),W(this.pf)),{nv:i,sv:s,Nf:o}=r;if(this.mf||!(o<5)){if(!this.mf){const a=.5*i,l=s>=a&&!this.cn.ev(),c=a>s&&!this.cn.rv();l||c||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const a=this.Ef(e,n);this.Wf(a,this.Hf.hv),_s(e)}}}lv(e){if(e.button!==0)return;const n=this.Ff(Wn(e),W(this.vf)),{Nf:r}=n;if(r>=5&&(this.bf=!0,this.Yf()),this.bf){const i=this.Ef(e);this.Uf(i,this.Hf.av)}}Ff(e,n){const r=Math.abs(n.nt-e.nt),i=Math.abs(n.st-e.st);return{nv:r,sv:i,Nf:r+i}}ov(e){let n=pf(e.changedTouches,W(this.Of));if(n===null&&e.touches.length===0&&(n=e.changedTouches[0]),n===null)return;this.Of=null,this.Vf=mc(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const r=this.Ef(e,n);if(this.Wf(r,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:i}=this.Ff(Wn(n),this.cf);i<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}else this.wf||(this.Wf(r,this.Hf.uv),this.Hf.uv&&_s(e));this._f===0&&_s(e),e.touches.length===0&&this.ff&&(this.ff=!1,_s(e))}If(e){if(e.button!==0)return;const n=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),rw()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(n,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:r}=this.Ff(Wn(e),this.af);r<5&&!this.bf&&this.Uf(n,this.Hf.qf),this.Yf()}else this.bf||this.Uf(n,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const n=e.changedTouches[0];this.Of=n.identifier,this.Vf=mc(e);const r=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=Wn(n),this.yf&&(this.yf(),this.yf=null);{const s=this.iv.bind(this),o=this.ov.bind(this);this.yf=()=>{r.removeEventListener("touchmove",s),r.removeEventListener("touchend",o)},r.addEventListener("touchmove",s,{passive:!1}),r.addEventListener("touchend",o,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const i=this.Ef(e,n);this.Wf(i,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=Wn(n))}mv(e){if(e.button!==0)return;const n=this.Zf.ownerDocument.documentElement;rw()&&n.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=Wn(e),this.kf&&(this.kf(),this.kf=null);{const i=this.lv.bind(this),s=this.If.bind(this);this.kf=()=>{n.removeEventListener("mousemove",i),n.removeEventListener("mouseup",s)},n.addEventListener("mousemove",i),n.addEventListener("mouseup",s)}if(this.Df=!0,this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=Wn(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,n=r=>{this.Hf.wv&&(r.composed&&this.Zf.contains(r.composedPath()[0])||r.target&&this.Zf.contains(r.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",n)},this.gf=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}df()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),gV(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const n=iw(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,n),_s(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const n=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,st:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this.Tf=iw(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const n=this.Ef(e);this.Uf(n,this.Hf.Pv),this.Bf=!df()}vv(e){const n=pf(e.touches,W(this.Of));if(n===null)return;const r=this.Ef(e,n);this.Wf(r,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:mc(e)<this.Vf+500}Wf(e,n){n&&n.call(this.Hf,e)}Uf(e,n){n&&n.call(this.Hf,e)}Ef(e,n){const r=n||e,i=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-i.left,localY:r.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:r.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&_s(e)}}}}function iw(t,e){const n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)}function _s(t){t.cancelable&&t.preventDefault()}function Wn(t){return{nt:t.pageX,st:t.pageY}}function mc(t){return t.timeStamp||performance.now()}function pf(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function gc(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function vV(t,e,n){for(const r of t){const i=r.gt();if(i!==null&&i.wr){const s=i.wr(e,n);if(s!==null)return{Bv:r,Iv:s}}}return null}function mf(t,e){return n=>{var r,i,s,o;return((i=(r=n.Dt())===null||r===void 0?void 0:r.Pa())!==null&&i!==void 0?i:"")!==e?[]:(o=(s=n.da)===null||s===void 0?void 0:s.call(n,t))!==null&&o!==void 0?o:[]}}function sw(t,e,n,r){if(!t.length)return;let i=0;const s=n/2,o=t[0].At(r,!0);let a=e===1?s-(t[0].Vi()-o/2):t[0].Vi()-o/2-s;a=Math.max(0,a);for(let l=1;l<t.length;l++){const c=t[l],u=t[l-1],d=u.At(r,!1),f=c.Vi(),p=u.Vi();if(e===1?f>p-d:f<p+d){const g=p-d*e;c.Oi(g);const m=g-e*d/2;if((e===1?m<0:m>n)&&a>0){const w=e===1?-1-m:m-n,y=Math.min(w,a);for(let x=i;x<t.length;x++)t[x].Oi(t[x].Vi()+e*y);a-=y}}else i=l,a=e===1?p-d-f:f-(p+d)}}class ow{constructor(e,n,r,i){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new ml(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=n,this.ko=n.layout,this.Oc=r,this.qv=i==="left",this.Yv=mf("normal",i),this.Zv=mf("top",i),this.Xv=mf("bottom",i),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=ds(this.Kv,De({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=ds(this.Kv,De({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const a={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new xv(this.Jv.canvasElement,a,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),hs(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),hs(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const n=this.ap(),r=W(this.Gv.canvasElement.getContext("2d"));r.save();const i=this.Li.Ha();r.font=this._p(),i.length>0&&(e=Math.max(this.Fv.xi(r,i[0].so),this.Fv.xi(r,i[i.length-1].so)));const s=this.up();for(let c=s.length;c--;){const u=this.Fv.xi(r,s[c].Kt());u>e&&(e=u)}const o=this.Li.Ct();if(o!==null&&this.Ev!==null&&(a=this.cn.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const c=this.Li.pn(1,o),u=this.Li.pn(this.Ev.height-2,o);e=Math.max(e,this.Fv.xi(r,this.Li.Fi(Math.floor(Math.min(c,u))+.11111111111111,o)),this.Fv.xi(r,this.Li.Fi(Math.ceil(Math.max(c,u))-.11111111111111,o)))}var a;r.restore();const l=e||34;return om(Math.ceil(n.C+n.T+n.A+n.I+5+l))}cp(e){this.Ev!==null&&Ki(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return W(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,W(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const r=cs(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)}),this.tn.bp(r,this.Xv),this.wp(r),this.tn.bp(r,this.Yv),this.gp(r))}this.Jv.applySuggestedBitmapSize();const n=cs(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.Mp(n),this.tn.bp(n,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!0,n.V_(r,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp(),i=this.Li;n.O_(r,i,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp(),r=this.Li;this.Nv&&(this.Nv=!1,e.B_(n,r))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!1,n.B_(r,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],n=this.Li===null?void 0:this.Li;return(r=>{for(let i=0;i<r.length;++i){const s=r[i].Rn(this.tn.fp(),n);for(let o=0;o<s.length;o++)e.push(s[o])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:n}){const{width:r,height:i}=n,s=this.tn.fp().$t(),o=s.q(),a=s.bd();o===a?Kd(e,0,0,r,i,o):mN(e,0,0,r,i,o,a)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:r}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const i=Math.max(1,Math.floor(this.ap().C*r));let s;s=this.qv?n.width-i:0,e.fillRect(s,0,i,n.height)}wp(e){if(this.Ev===null||this.Li===null)return;const n=this.Li.Ha(),r=this.Li.W(),i=this.ap(),s=this.qv?this.Ev.width-i.T:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:l})=>{o.fillStyle=r.borderColor;const c=Math.max(1,Math.floor(l)),u=Math.floor(.5*l),d=Math.round(i.T*a);o.beginPath();for(const f of n)o.rect(Math.floor(s*a),Math.round(f.Ea*l)-u,d,c);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{var a;o.font=this._p(),o.fillStyle=(a=r.textColor)!==null&&a!==void 0?a:this.ko.textColor,o.textAlign=this.qv?"right":"left",o.textBaseline="middle";const l=this.qv?Math.round(s-i.A):Math.round(s+i.T+i.A),c=n.map(u=>this.Fv.Mi(o,u.so));for(let u=n.length;u--;){const d=n[u];o.fillText(d.so,l,d.Ea+c[u])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],n=this.Li.Uo().slice(),r=this.tn.fp(),i=this.ap();this.Li===r.pr()&&this.tn.fp().Uo().forEach(o=>{r.vr(o)&&n.push(o)});const s=this.Li;n.forEach(o=>{o.Rn(r,s).forEach(a=>{a.Oi(null),a.Bi()&&e.push(a)})}),e.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.yp(e,i)}yp(e,n){if(this.Ev===null)return;const r=this.Ev.height/2,i=e.filter(o=>o.ki()<=r),s=e.filter(o=>o.ki()>r);i.sort((o,a)=>a.ki()-o.ki()),s.sort((o,a)=>o.ki()-a.ki());for(const o of e){const a=Math.floor(o.At(n)/2),l=o.ki();l>-a&&l<a&&o.Oi(a),l>this.Ev.height-a&&l<this.Ev.height+a&&o.Oi(this.Ev.height-a)}sw(i,1,this.Ev.height,n),sw(s,-1,this.Ev.height,n)}gp(e){if(this.Ev===null)return;const n=this.up(),r=this.ap(),i=this.qv?"right":"left";n.forEach(s=>{s.Ai()&&s.gt(W(this.Li)).X(e,r,this.Fv,i)})}Mp(e){if(this.Ev===null||this.Li===null)return;const n=this.tn.$v().$t(),r=[],i=this.tn.fp(),s=n.Zc().Rn(i,this.Li);s.length&&r.push(s);const o=this.ap(),a=this.qv?"right":"left";r.forEach(l=>{l.forEach(c=>{c.gt(W(this.Li)).X(e,o,this.Fv,a)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return Eo(this.ko.fontSize,this.ko.fontFamily)}}function yV(t,e){var n,r;return(r=(n=t.ua)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function vc(t,e){var n,r;return(r=(n=t.Pn)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function xV(t,e){var n,r;return(r=(n=t.Ji)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function wV(t,e){var n,r;return(r=(n=t.aa)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}class wv{constructor(e,n){this.Ev=De({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new Xe,this.Op=new Xe,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=n,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(r),this.Gv=ds(r,De({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=ds(r,De({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new xv(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),hs(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),hs(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return W(this.Np)}qp(e){var n,r;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(wv.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(n=this.Pp)!==null&&n!==void 0?n:new mV(this.Wp,this.Qd),this.Pp.bt()):((r=this.Pp)===null||r===void 0||r.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(W(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(W(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const n=e.localX,r=e.localY;this.Gp(n,r,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var n;if(!this.Np)return;this.Kp();const r=e.localX,i=e.localY;this.Gp(r,i,e);const s=this.wr(r,i);this.Qd.Qp((n=s==null?void 0:s.Lv)!==null&&n!==void 0?n:null),this.$i().jc(s&&{Hc:s.Hc,Iv:s.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const n={x:e.localX,y:e.localY};this.rm(n,n,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,n){if(!this.Qd.W().handleScale.pinch)return;const r=5*(n-this.Bp);this.Bp=n,this.$i().Qc(e.nt,r)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const n=this.$i().Zc();this.Ip!==null&&n.yt()&&(this.Lp={x:n.Yt(),y:n.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const n=e.localX,r=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const i=W(this.Lp),s=i.x+(n-this.Ip.x),o=i.y+(r-this.Ip.y);this.Gp(s,o,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,n){const r=this.Np;return r===null?null:function(i,s,o){const a=i.Uo(),l=function(c,u,d){var f,p;let g,m;for(const x of c){const b=(p=(f=x.va)===null||f===void 0?void 0:f.call(x,u,d))!==null&&p!==void 0?p:[];for(const S of b)w=S.zOrder,(!(y=g==null?void 0:g.zOrder)||w==="top"&&y!=="top"||w==="normal"&&y==="bottom")&&(g=S,m=x)}var w,y;return g&&m?{zv:g,Hc:m}:null}(a,s,o);if((l==null?void 0:l.zv.zOrder)==="top")return gc(l);for(const c of a){if(l&&l.Hc===c&&l.zv.zOrder!=="bottom"&&!l.zv.isBackground)return gc(l);const u=vV(c.Pn(i),s,o);if(u!==null)return{Hc:c,Bv:u.Bv,Iv:u.Iv};if(l&&l.Hc===c&&l.zv.zOrder!=="bottom"&&l.zv.isBackground)return gc(l)}return l!=null&&l.zv?gc(l):null}(r,e,n)}_m(e,n){W(n==="left"?this.Cp:this.Tp).cp(De({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){Ki(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=W(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const n of e.Ba())if(e.vr(n)){const r=n.Dt();r!==null&&e.P_(r),n.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const r=cs(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i)}),this.Np&&(this.fm(r,yV),this.vm(r),this.pm(r),this.fm(r,vc),this.fm(r,xV)))}this.Jv.applySuggestedBitmapSize();const n=cs(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.bm(n),this.fm(n,wV))}wm(){return this.Cp}gm(){return this.Tp}bp(e,n){this.fm(e,n)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,n){const r=n.localX,i=n.localY;e.M()&&e.m(this.$i().St().Nu(r),{x:r,y:i},n)}mp({context:e,bitmapSize:n}){const{width:r,height:i}=n,s=this.$i(),o=s.q(),a=s.bd();o===a?Kd(e,0,0,r,i,a):mN(e,0,0,r,i,o,a)}vm(e){const n=W(this.Np).j_().qh().gt();n!==null&&n.X(e,!1)}pm(e){const n=this.$i().Yc();this.Mm(e,vc,am,n),this.Mm(e,vc,Wc,n)}bm(e){this.Mm(e,vc,Wc,this.$i().Zc())}fm(e,n){const r=W(this.Np).Uo();for(const i of r)this.Mm(e,n,am,i);for(const i of r)this.Mm(e,n,Wc,i)}Mm(e,n,r,i){const s=W(this.Np),o=s.$t().Wc(),a=o!==null&&o.Hc===i,l=o!==null&&a&&o.Iv!==void 0?o.Iv.Mr:void 0;lm(n,c=>r(c,e,a,l),i,s)}Zp(){if(this.Np===null)return;const e=this.Qd,n=this.Np.R_().W().visible,r=this.Np.D_().W().visible;n||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),r||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const i=e.$t().ud();n&&this.Cp===null&&(this.Cp=new ow(this,e.W(),i,"left"),this.jp.appendChild(this.Cp.lp())),r&&this.Tp===null&&(this.Tp=new ow(this,e.W(),i,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,n,r){this.$i().ld(this.Sm(e),this.km(n),r,W(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,n,r){this.Ip=e,this.zp=!1,this.Gp(n.x,n.y,r);const i=this.$i().Zc();this.Lp={x:i.Yt(),y:i.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const n=this.$i(),r=this.fp();if(n.z_(r,r.vn()),this.Rp=null,this.Dp=!1,n.ed(),this.Ep!==null){const i=performance.now(),s=n.St();this.Ep.Vr(s.Hu(),i),this.Ep.Qu(i)||n.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)W(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const n=this.$i(),r=n.St();if(r.Ni())return;const i=this.Qd.W(),s=i.handleScroll,o=i.kineticScroll;if((!s.pressedMouseMove||e.Dv)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!e.Dv))return;const a=this.Np.vn(),l=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:l,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&o.touch||!e.Dv&&o.mouse){const c=r.le();this.Ep=new pV(.2/c,7/c,.997,15/c),this.Ep.Yd(r.Hu(),this.Rp.Od)}else this.Ep=null;a.Ni()||n.A_(this.Np,a,e.localY),n.nd(e.localX),this.Dp=!0}this.Dp&&(a.Ni()||n.I_(this.Np,a,e.localY),n.sd(e.localX),this.Ep!==null&&this.Ep.Yd(r.Hu(),l))}}class aw{constructor(e,n,r,i,s){this.ft=!0,this.Ev=De({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=r.ud,this.cn=n,this.Tm=i,this.Pm=s,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=ds(this.Kv,De({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),hs(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){Ki(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const n=cs(this.Gv);n!==null&&n.useBitmapCoordinateSpace(r=>{this.mp(r),this.Ie(r)})}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const s=Math.floor(this.Oc.W().C*r),o=Math.floor(this.Oc.W().C*i),a=this.qv?n.width-s:0;e.fillRect(a,0,s,o)}mp({context:e,bitmapSize:n}){Kd(e,0,0,n.width,n.height,this.Pm())}}function bv(t){return e=>{var n,r;return(r=(n=e.fa)===null||n===void 0?void 0:n.call(e,t))!==null&&r!==void 0?r:[]}}const bV=bv("normal"),SV=bv("top"),kV=bv("bottom");class CV{constructor(e,n){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=De({width:0,height:0}),this.Om=new Xe,this.Fv=new ml(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=n,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=ds(this.Im,De({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=ds(this.Im,De({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const i=this.Jv.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new xv(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),hs(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),hs(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,n,r){Ki(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(De({width:n,height:e.height})),this.Dm!==null&&this.Dm.cp(De({width:r,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const r=cs(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i),this.$m(r,kV)}),this.wp(r),this.$m(r,bV)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const n=cs(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],n),this.$m(n,SV))}$m(e,n){const r=this.Qd.$t().wt();for(const i of r)lm(n,s=>am(s,e,!1,void 0),i,void 0);for(const i of r)lm(n,s=>Wc(s,e,!1,void 0),i,void 0)}mp({context:e,bitmapSize:n}){Kd(e,0,0,n.width,n.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:n,verticalPixelRatio:r}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const i=Math.max(1,Math.floor(this.jm().C*r));e.fillRect(0,0,n.width,i)}}wp(e){const n=this.Qd.$t().St(),r=n.Ha();if(!r||r.length===0)return;const i=this.q_.maxTickMarkWeight(r),s=this.jm(),o=n.W();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:c})=>{a.strokeStyle=this.qm(),a.fillStyle=this.qm();const u=Math.max(1,Math.floor(l)),d=Math.floor(.5*l);a.beginPath();const f=Math.round(s.T*c);for(let p=r.length;p--;){const g=Math.round(r[p].coord*l);a.rect(g-d,0,u,f)}a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{const l=s.C+s.T+s.L+s.P/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.$(),a.font=this._p();for(const c of r)if(c.weight<i){const u=c.needAlignCoordinate?this.Ym(a,c.coord,c.label):c.coord;a.fillText(c.label,u,l)}this.Qd.W().timeScale.allowBoldLabels&&(a.font=this.Zm());for(const c of r)if(c.weight>=i){const u=c.needAlignCoordinate?this.Ym(a,c.coord,c.label):c.coord;a.fillText(c.label,u,l)}})}Ym(e,n,r){const i=this.Fv.xi(e,r),s=i/2,o=Math.floor(n-s)+.5;return o<0?n+=Math.abs(0-o):o+i>this.Ev.width&&(n-=Math.abs(this.Ev.width-(o+i))),n}Um(e,n){const r=this.jm();for(const i of e)for(const s of i.Qi())s.gt().X(n,r)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return Eo(this.j(),this.cn.fontFamily)}Zm(){return Eo(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new ml,Hm:0});const e=this.k,n=this._p();if(e.R!==n){const r=this.j();e.P=r,e.R=n,e.L=3*r/12,e.B=3*r/12,e.ji=9*r/12,e.N=0,e.Hm=4*r/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),n=e.W();n.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),n.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const r={ud:this.Qd.$t().ud()},i=()=>n.leftPriceScale.borderVisible&&e.St().W().borderVisible,s=()=>e.bd();n.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new aw("left",n,r,i,s),this.Bm.appendChild(this.Rm.lp())),n.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new aw("right",n,r,i,s),this.Am.appendChild(this.Dm.lp()))}}const EV=!!_o&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!_o&&(!((gf=navigator==null?void 0:navigator.userAgentData)===null||gf===void 0)&&gf.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var gf;class _V{constructor(e,n,r){var i;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new Xe,this.Op=new Xe,this.Rc=new Xe,this.ib=null,this.nb=null,this.Jd=e,this.cn=n,this.q_=r,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(i=this.Xd).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),vf(this.cn)&&this.hb(!0),this.$i=new cV(this.Vc.bind(this),this.cn,r),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new CV(this,this.q_),this.sb.appendChild(this.ab.lp());const s=n.autoSize&&this.ob();let o=this.cn.width,a=this.cn.height;if(s||o===0||a===0){const l=e.getBoundingClientRect();o=o||l.width,a=a||l.height}this._b(o,a),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],W(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,n,r=!1){if(this.ho===n&&this.__===e)return;const i=function(a){const l=Math.floor(a.width),c=Math.floor(a.height);return De({width:l-l%2,height:c-c%2})}(De({width:e,height:n}));this.ho=i.height,this.__=i.width;const s=this.ho+"px",o=this.__+"px";W(this.Xd).style.height=s,W(this.Xd).style.width=o,this.sb.style.height=s,this.sb.style.width=o,r?this.mb(at.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=at.es());for(let n=0;n<this.Xm.length;n++)this.Xm[n].vp(e.Hn(n).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const n=vf(this.cn);this.$i.$h(e);const r=vf(this.cn);r!==n&&this.hb(r),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=W(n.getContext("2d"));return this.gb(r),n}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:W(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return Tt(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let n=0,r=0;const i=this.Xm[0],s=(a,l)=>{let c=0;for(let u=0;u<this.Xm.length;u++){const d=this.Xm[u],f=W(a==="left"?d.wm():d.gm()),p=f.xp();e!==null&&f.Sp(e,l,c),c+=p.height}};this.xb()&&(s("left",0),n+=W(i.wm()).xp().width);for(let a=0;a<this.Xm.length;a++){const l=this.Xm[a],c=l.xp();e!==null&&l.Sp(e,n,r),r+=c.height}n+=i.xp().width,this.Sb()&&(s("right",n),n+=W(i.gm()).xp().width);const o=(a,l,c)=>{W(a==="left"?this.ab.Lm():this.ab.Em()).Sp(W(e),l,c)};if(this.cn.timeScale.visible){const a=this.ab.xp();if(e!==null){let l=0;this.xb()&&(o("left",l,r),l=W(i.wm()).xp().width),this.ab.Sp(e,l,r),l+=a.width,this.Sb()&&o("right",l,r)}r+=a.height}return De({width:n,height:r})}Pb(){let e=0,n=0,r=0;for(const g of this.Xm)this.xb()&&(n=Math.max(n,W(g.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(r=Math.max(r,W(g.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=g.M_();n=om(n),r=om(r);const i=this.__,s=this.ho,o=Math.max(i-n-r,0),a=this.cn.timeScale.visible;let l=a?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var c;l=(c=l)+c%2;const u=0+l,d=s<u?0:s-u,f=d/e;let p=0;for(let g=0;g<this.Xm.length;++g){const m=this.Xm[g];m.qp(this.$i.qc()[g]);let w=0,y=0;y=g===this.Xm.length-1?d-p:Math.round(m.M_()*f),w=Math.max(y,2),p+=w,m.cp(De({width:o,height:w})),this.xb()&&m._m(n,"left"),this.Sb()&&m._m(r,"right"),m.fp()&&this.$i.Kc(m.fp(),w)}this.ab.Fm(De({width:a?o:0,height:l}),a?n:0,a?r:0),this.$i.S_(o),this.Gm!==n&&(this.Gm=n),this.Jm!==r&&(this.Jm=r)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return EV?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const n=this.Rb(e),r=n*e.deltaX/100,i=-n*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.cn.handleScale.mouseWheel){const s=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(o,s)}r!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*r)}mb(e,n){var r;const i=e.jn();i===3&&this.Db(),i!==3&&i!==2||(this.Vb(e),this.Ob(e,n),this.ab.bt(),this.Xm.forEach(s=>{s.Xp()}),((r=this.Qm)===null||r===void 0?void 0:r.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,n),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,n){for(const r of e.Qn())this.ns(r,n)}Vb(e){const n=this.$i.qc();for(let r=0;r<n.length;r++)e.Hn(r).Wn&&n[r].N_()}ns(e,n){const r=this.$i.St();switch(e.qn){case 0:r.hc();break;case 1:r.lc(e.Vt);break;case 2:r.Gn(e.Vt);break;case 3:r.Jn(e.Vt);break;case 4:r.qu();break;case 5:e.Vt.Qu(n)||r.Jn(e.Vt.tc(n))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(n=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const r=this.Qm;this.Qm=null,this.mb(r,n);for(const i of r.Qn())if(i.qn===5&&!i.Vt.Qu(n)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),n=e.length,r=this.Xm.length;for(let i=n;i<r;i++){const s=Tt(this.Xm.pop());this.sb.removeChild(s.lp()),s.lm().p(this),s.am().p(this),s.S()}for(let i=r;i<n;i++){const s=new wv(this,e[i]);s.lm().l(this.Bb.bind(this),this),s.am().l(this.Ab.bind(this),this),this.Xm.push(s),this.sb.insertBefore(s.lp(),this.ab.lp())}for(let i=0;i<n;i++){const s=e[i],o=this.Xm[i];o.fp()!==s?o.qp(s):o.Up()}this.cb(),this.Pb()}Ib(e,n,r){var i;const s=new Map;e!==null&&this.$i.wt().forEach(u=>{const d=u.In().ll(e);d!==null&&s.set(u,d)});let o;if(e!==null){const u=(i=this.$i.St().Ui(e))===null||i===void 0?void 0:i.originalTime;u!==void 0&&(o=u)}const a=this.$t().Wc(),l=a!==null&&a.Hc instanceof vv?a.Hc:void 0,c=a!==null&&a.Iv!==void 0?a.Iv.gr:void 0;return{zb:o,ee:e??void 0,Lb:n??void 0,Eb:l,Nb:s,Fb:c,Wb:r??void 0}}Bb(e,n,r){this.Vp.m(()=>this.Ib(e,n,r))}Ab(e,n,r){this.Op.m(()=>this.Ib(e,n,r))}lb(e,n,r){this.Rc.m(()=>this.Ib(e,n,r))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const n=e.find(r=>r.target===this.Jd);n&&this._b(n.contentRect.width,n.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function vf(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function NV(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function IN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function lw(t,e,n,r){const i=n.value,s={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.color!==void 0&&(s.V=n.color),s}function TV(t,e,n,r){const i=n.value,s={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.lineColor!==void 0&&(s.lt=n.lineColor),n.topColor!==void 0&&(s.Ps=n.topColor),n.bottomColor!==void 0&&(s.Rs=n.bottomColor),s}function PV(t,e,n,r){const i=n.value,s={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.topLineColor!==void 0&&(s.Re=n.topLineColor),n.bottomLineColor!==void 0&&(s.De=n.bottomLineColor),n.topFillColor1!==void 0&&(s.ke=n.topFillColor1),n.topFillColor2!==void 0&&(s.ye=n.topFillColor2),n.bottomFillColor1!==void 0&&(s.Ce=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(s.Te=n.bottomFillColor2),s}function jV(t,e,n,r){const i={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:r};return n.color!==void 0&&(i.V=n.color),i}function RV(t,e,n,r){const i={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:r};return n.color!==void 0&&(i.V=n.color),n.borderColor!==void 0&&(i.Ot=n.borderColor),n.wickColor!==void 0&&(i.Xh=n.wickColor),i}function MV(t,e,n,r,i){const s=Tt(i)(n),o=Math.max(...s),a=Math.min(...s),l=s[s.length-1],c=[l,o,a,l],u=n,{time:d,color:f}=u;return{ee:e,ot:t,Vt:c,zb:r,$e:IN(u,["time","color"]),V:f}}function yc(t){return t.Vt!==void 0}function cw(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function Ii(t){return(e,n,r,i,s,o)=>function(a,l){return l?l(a):(c=a).open===void 0&&c.value===void 0;var c}(r,o)?cw({ot:e,ee:n,zb:i},r):cw(t(e,n,r,i,s),r)}function uw(t){return{Candlestick:Ii(RV),Bar:Ii(jV),Area:Ii(TV),Baseline:Ii(PV),Histogram:Ii(lw),Line:Ii(lw),Custom:Ii(MV)}[t]}function dw(t){return{ee:0,Hb:new Map,la:t}}function hw(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function fw(t){let e;return t.forEach(n=>{e===void 0&&(e=n.zb)}),Tt(e)}class AV{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,n){let r=this.qb.size!==0,i=!1;const s=this.Yb.get(e);if(s!==void 0)if(this.Yb.size===1)r=!1,i=!0,this.qb.clear();else for(const l of this.Xb)l.pointData.Hb.delete(e)&&(i=!0);let o=[];if(n.length!==0){const l=n.map(p=>p.time),c=this.q_.createConverterToInternalObj(n),u=uw(e.Qh()),d=e.Ca(),f=e.Ta();o=n.map((p,g)=>{const m=c(p.time),w=this.q_.key(m);let y=this.qb.get(w);y===void 0&&(y=dw(m),this.qb.set(w,y),i=!0);const x=u(m,y.ee,p,l[g],d,f);return y.Hb.set(e,x),x})}r&&this.Gb(),this.Jb(e,o);let a=-1;if(i){const l=[];this.qb.forEach(c=>{l.push({timeWeight:0,time:c.la,pointData:c,originalTime:fw(c.Hb)})}),l.sort((c,u)=>this.q_.key(c.time)-this.q_.key(u.time)),a=this.Qb(l)}return this.tw(e,a,function(l,c,u){const d=hw(l,u),f=hw(c,u);if(d!==void 0&&f!==void 0)return{ta:d.Ub>=f.Ub&&d.$b>=f.$b}}(this.Yb.get(e),s,this.q_))}vd(e){return this.Kb(e,[])}iw(e,n){const r=n;(function(m){m.zb===void 0&&(m.zb=m.time)})(r),this.q_.preprocessData(n);const i=this.q_.createConverterToInternalObj([n])(n.time),s=this.Zb.get(e);if(s!==void 0&&this.q_.key(i)<this.q_.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${i}`);let o=this.qb.get(this.q_.key(i));const a=o===void 0;o===void 0&&(o=dw(i),this.qb.set(this.q_.key(i),o));const l=uw(e.Qh()),c=e.Ca(),u=e.Ta(),d=l(i,o.ee,n,r.zb,c,u);o.Hb.set(e,d),this.nw(e,d);const f={ta:yc(d)};if(!a)return this.tw(e,-1,f);const p={timeWeight:0,time:o.la,pointData:o,originalTime:fw(o.Hb)},g=Il(this.Xb,this.q_.key(p.time),(m,w)=>this.q_.key(m.time)<w);this.Xb.splice(g,0,p);for(let m=g;m<this.Xb.length;++m)yf(this.Xb[m].pointData,m);return this.q_.fillWeightsForPoints(this.Xb,g),this.tw(e,g,f)}nw(e,n){let r=this.Yb.get(e);r===void 0&&(r=[],this.Yb.set(e,r));const i=r.length!==0?r[r.length-1]:null;i===null||this.q_.key(n.ot)>this.q_.key(i.ot)?yc(n)&&r.push(n):yc(n)?r[r.length-1]=n:r.splice(-1,1),this.Zb.set(e,n.ot)}Jb(e,n){n.length!==0?(this.Yb.set(e,n.filter(yc)),this.Zb.set(e,n[n.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let n=-1;for(let r=0;r<this.Xb.length&&r<e.length;++r){const i=this.Xb[r],s=e[r];if(this.q_.key(i.time)!==this.q_.key(s.time)){n=r;break}s.timeWeight=i.timeWeight,yf(s.pointData,r)}if(n===-1&&this.Xb.length!==e.length&&(n=Math.min(this.Xb.length,e.length)),n===-1)return-1;for(let r=n;r<e.length;++r)yf(e[r].pointData,r);return this.q_.fillWeightsForPoints(e,n),this.Xb=e,n}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(n=>{n.length!==0&&(e=Math.max(e,n[n.length-1].ee))}),e}tw(e,n,r){const i={ew:new Map,St:{Eu:this.sw()}};if(n!==-1)this.Yb.forEach((s,o)=>{i.ew.set(o,{$e:s,rw:o===e?r:void 0})}),this.Yb.has(e)||i.ew.set(e,{$e:[],rw:r}),i.St.hw=this.Xb,i.St.lw=n;else{const s=this.Yb.get(e);i.ew.set(e,{$e:s||[],rw:r})}return i}}function yf(t,e){t.ee=e,t.Hb.forEach(n=>{n.ee=e})}function Sv(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function pw(t){const e=Sv(t);return t.V!==void 0&&(e.color=t.V),e}function IV(t){const e=Sv(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function OV(t){const e=Sv(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function ON(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function LV(t){const e=ON(t);return t.V!==void 0&&(e.color=t.V),e}function zV(t){const e=ON(t),{V:n,Ot:r,Xh:i}=t;return n!==void 0&&(e.color=n),r!==void 0&&(e.borderColor=r),i!==void 0&&(e.wickColor=i),e}function cm(t){return{Area:IV,Line:pw,Baseline:OV,Histogram:pw,Bar:LV,Candlestick:zV,Custom:DV}[t]}function DV(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const $V={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},FV={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},BV={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:dv,attributionLogo:!0},xf={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},VV={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},WV={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:dv,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function mw(){return{width:0,height:0,autoSize:!1,layout:BV,crosshair:$V,grid:FV,overlayPriceScales:Object.assign({},xf),leftPriceScale:Object.assign(Object.assign({},xf),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},xf),{visible:!0}),timeScale:VV,watermark:WV,localization:{locale:_o?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class UV{constructor(e,n){this.aw=e,this.ow=n}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return Yd(this.ow)?this.aw.Mb(this.ow):0}Li(){return W(this.aw.$t().Uc(this.ow)).Dt}}function gw(t,e,n){const r=IN(t,["time","originalTime"]),i=Object.assign({time:e},r);return n!==void 0&&(i.originalTime=n),i}const HV={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class qV{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class GV{constructor(e,n,r,i,s){this.uw=new Xe,this.Es=e,this.cw=n,this.dw=r,this.q_=s,this.fw=i}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().Rt(e,n.Vt)}coordinateToPrice(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().pn(e,n.Vt)}barsInLogicalRange(e){if(e===null)return null;const n=new ao(new _a(e.from,e.to)).lu(),r=this.Es.In();if(r.Ni())return null;const i=r.ll(n.Os(),1),s=r.ll(n.ui(),-1),o=W(r.el()),a=W(r.An());if(i!==null&&s!==null&&i.ee>s.ee)return{barsBefore:e.from-o,barsAfter:a-e.to};const l={barsBefore:i===null||i.ee===o?e.from-o:i.ee-o,barsAfter:s===null||s.ee===a?a-e.to:a-s.ee};return i!==null&&s!==null&&(l.from=i.zb,l.to=s.zb),l}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,n){const r=this.Es.In().ll(e,n);return r===null?null:cm(this.seriesType())(r)}data(){const e=cm(this.seriesType());return this.Es.In().ne().map(n=>e(n))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const n=e.map(r=>gw(r,this.q_.convertHorzItemToInternal(r.time),r.time));this.Es.na(n)}markers(){return this.Es.sa().map(e=>gw(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return Sr(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const n=Ln(Sr(HV),e),r=this.Es.ea(n);return new qV(r)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class KV{constructor(e,n,r){this.ww=new Xe,this.mu=new Xe,this.Om=new Xe,this.$i=e,this.yl=e.St(),this.ab=n,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=r}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,n){n?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const n={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},r=this.yl.Iu(n);this.$i.pd(r)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){Si(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const n=this.$i.St();return n.Ni()?null:n.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const n=this.q_.convertHorzItemToInternal(e),r=this.yl.Va(n,!1);return r===null?null:this.yl.It(r)}coordinateToTime(e){const n=this.$i.St(),r=n.Nu(e),i=n.Ui(r);return i===null?null:i.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},Sr(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function XV(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(n){if(n>=1)return 0;let r=0;for(;r<8;r++){const i=Math.round(n);if(Math.abs(i-n)<1e-8)return r;n*=10}return r}(e.minMove))}function vw(t){return function(e){if(cc(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:i}=e.handleScale;cc(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),cc(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const n=e.handleScroll;cc(n)&&(e.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),t}class YV{constructor(e,n,r){this.Sw=new Map,this.kw=new Map,this.yw=new Xe,this.Cw=new Xe,this.Tw=new Xe,this.Pw=new AV(n);const i=r===void 0?Sr(mw()):Ln(Sr(mw()),vw(r));this.q_=n,this.aw=new _V(e,i,n),this.aw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Rw(o()))},this),this.aw.am().l(o=>{this.Cw.M()&&this.Cw.m(this.Rw(o()))},this),this.aw.Xc().l(o=>{this.Tw.M()&&this.Tw.m(this.Rw(o()))},this);const s=this.aw.$t();this.Dw=new KV(s,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,n,r){this.autoSizeActive()||this.aw._b(e,n,r)}addCustomSeries(e,n){const r=Us(e),i=Object.assign(Object.assign({},uN),r.defaultOptions());return this.Vw("Custom",i,n,r)}addAreaSeries(e){return this.Vw("Area",AB,e)}addBaselineSeries(e){return this.Vw("Baseline",IB,e)}addBarSeries(e){return this.Vw("Bar",RB,e)}addCandlestickSeries(e={}){return function(n){n.borderColor!==void 0&&(n.borderUpColor=n.borderColor,n.borderDownColor=n.borderColor),n.wickColor!==void 0&&(n.wickUpColor=n.wickColor,n.wickDownColor=n.wickColor)}(e),this.Vw("Candlestick",jB,e)}addHistogramSeries(e){return this.Vw("Histogram",OB,e)}addLineSeries(e){return this.Vw("Line",MB,e)}removeSeries(e){const n=Tt(this.Sw.get(e)),r=this.Pw.vd(n);this.aw.$t().vd(n),this.Ow(r),this.Sw.delete(e),this.kw.delete(n)}pw(e,n){this.Ow(this.Pw.Kb(e,n))}bw(e,n){this.Ow(this.Pw.iw(e,n))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new UV(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(vw(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,n,r){const i=this.Sw.get(r);if(i===void 0)return;const s=this.aw.$t().dr(i);s!==null&&this.aw.$t().ad(e,n,s)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,n,r={},i){XV(r.priceFormat);const s=Ln(Sr(dN),Sr(n),r),o=this.aw.$t().dd(e,s,i),a=new GV(o,this,this,this,this.q_);return this.Sw.set(a,o),this.kw.set(o,a),a}Ow(e){const n=this.aw.$t();n._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((r,i)=>i.J(r.$e,r.rw)),n.Wu()}Bw(e){return Tt(this.kw.get(e))}Rw(e){const n=new Map;e.Nb.forEach((i,s)=>{const o=s.Qh(),a=cm(o)(i);if(o!=="Custom")Si(NV(a));else{const l=s.Ta();Si(!l||l(a)===!1)}n.set(this.Bw(s),a)});const r=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:r,hoveredObjectId:e.Fb,seriesData:n,sourceEvent:e.Wb}}}function ZV(t,e,n){let r;if(Al(t)){const s=document.getElementById(t);Si(s!==null,`Cannot find element in DOM with id=${t}`),r=s}else r=t;const i=new YV(r,e,n);return e.setOptions(i.options()),i}function QV(t,e){return ZV(t,new nw,nw.Id(e))}Object.assign(Object.assign({},dN),uN);const yw={dark:{background:"#01091A",text:"#F9FAFC",grid:"#1C2330",border:"#1C2330",success:"#1F734C",destructive:"#A53232"},light:{background:"#FFFFFF",text:"#01091A",grid:"#E4E7EB",border:"#E4E7EB",success:"#299966",destructive:"#EB4444"}},JV=55,eW=35,LN=({data:t,chartType:e,className:n="h-full w-full",chartOptions:r,seriesOptions:i})=>{const s=v.useRef(null),o=v.useRef(null),a=v.useRef(null),l=Gi(d=>d.preference),c=d=>{const f=yw[d];return{layout:{background:{type:im.Solid,color:f.background},textColor:f.text,attributionLogo:!1,fontSize:11},grid:{vertLines:{color:f.grid},horzLines:{color:f.grid}},timeScale:{borderColor:f.border,timeVisible:!0,secondsVisible:!1},rightPriceScale:{borderColor:f.border,visible:!0,autoScale:!0,invertScale:!1},handleScroll:{vertTouchDrag:!1,mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0},handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:!0,axisDoubleClickReset:!0},crosshair:{mode:nm.Normal,vertLine:{width:1,color:d==="dark"?"rgba(220, 220, 220, 0.4)":"rgba(50, 50, 50, 0.4)",labelVisible:!0,labelBackgroundColor:d==="dark"?"#3B4150":"#E0E3EB"},horzLine:{width:1,color:d==="dark"?"rgba(220, 220, 220, 0.4)":"rgba(50, 50, 50, 0.4)",labelVisible:!0,labelBackgroundColor:d==="dark"?"#3B4150":"#E0E3EB"}},watermark:{visible:!1}}},u=d=>{const f=yw[d],p={lastValueVisible:!1,priceLineVisible:!1,priceFormat:{type:"price",precision:2,minMove:.01},priceLineSource:0,...e==="line"&&{crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:d==="dark"?f.background:f.border}};if(e==="candle")return{...p,upColor:f.success,downColor:f.destructive,borderVisible:!1,wickVisible:!0,wickUpColor:f.success,wickDownColor:f.destructive};{let g=f.text;if(t&&t.length>=2){const m=t[0].close;t[t.length-1].close>=m?g=f.success:g=f.destructive}return{...p,color:g,lineWidth:2,crosshairMarkerBackgroundColor:g}}};return v.useEffect(()=>{if(!s.current)return;const d=()=>{o.current&&s.current&&o.current.resize(s.current.clientWidth,s.current.clientHeight)},p={width:s.current.clientWidth,height:s.current.clientHeight,localization:{locale:"ru-RU",priceFormatter:y=>yr(y*100,"₽",!1)},rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},timeScale:{rightOffset:0,barSpacing:6}};let g;const m=Gi.getState().preference;m==="system"?g=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":g=m;const w={...p,...c(g),...r};return o.current=QV(s.current,w),window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d),o.current&&(o.current.remove(),o.current=null)}},[r]),v.useLayoutEffect(()=>{if(!o.current)return;let d;if(l==="system"?d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d=l,o.current.applyOptions(c(d)),a.current){const f=u(d);a.current.applyOptions(f)}},[l,e,t]),v.useEffect(()=>{if(!o.current||!t)return;a.current&&(o.current.removeSeries(a.current),a.current=null);let d;const f=Gi.getState().preference;f==="system"?d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d=f;const m={...u(d),...i||{}};let w=null;if(e==="candle"){w=o.current.addCandlestickSeries(m);const y=t.map(x=>({time:x.time,open:x.open,high:x.high,low:x.low,close:x.close}));w.setData(y)}else{w=o.current.addLineSeries(m);const y=t.map(x=>({time:x.time,value:x.close}));w.setData(y)}if(a.current=w,t.length>0){o.current.timeScale().applyOptions({fixLeftEdge:!0,fixRightEdge:!0});const y=requestAnimationFrame(()=>{if(o.current){const x=e==="line"?JV:eW,b={from:Math.max(0,t.length-x),to:t.length-1};o.current.timeScale().setVisibleLogicalRange(b)}});return()=>cancelAnimationFrame(y)}else o.current.timeScale().applyOptions({fixLeftEdge:!1,fixRightEdge:!1})},[t,e,l,i]),h.jsx("div",{ref:s,className:n})};var kv="Tabs",[tW,qq]=Rt(kv,[qd]),zN=qd(),[nW,Cv]=tW(kv),DN=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=jl(a),[d,f]=yn({prop:r,onChange:i,defaultProp:s});return h.jsx(nW,{scope:n,baseId:tr(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:h.jsx(te.div,{dir:u,"data-orientation":o,...c,ref:e})})});DN.displayName=kv;var $N="TabsList",FN=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=Cv($N,n),o=zN(n);return h.jsx(j_,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:h.jsx(te.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});FN.displayName=$N;var BN="TabsTrigger",VN=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=Cv(BN,n),a=zN(n),l=HN(o.baseId,r),c=qN(o.baseId,r),u=r===o.value;return h.jsx(R_,{asChild:!0,...a,focusable:!i,active:u,children:h.jsx(te.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:ne(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ne(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ne(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});VN.displayName=BN;var WN="TabsContent",UN=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=Cv(WN,n),l=HN(a.baseId,r),c=qN(a.baseId,r),u=r===a.value,d=v.useRef(u);return v.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),h.jsx(zr,{present:i||u,children:({present:f})=>h.jsx(te.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&s})})});UN.displayName=WN;function HN(t,e){return`${t}-trigger-${e}`}function qN(t,e){return`${t}-content-${e}`}var rW=DN,GN=FN,KN=VN,XN=UN;const Ev=rW,Jd=v.forwardRef(({className:t,...e},n)=>h.jsx(GN,{ref:n,className:$("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Jd.displayName=GN.displayName;const Lt=v.forwardRef(({className:t,...e},n)=>h.jsx(KN,{ref:n,className:$("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Lt.displayName=KN.displayName;const iW=v.forwardRef(({className:t,...e},n)=>h.jsx(XN,{ref:n,className:$("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));iW.displayName=XN.displayName;const sW=()=>{const{id:t}=vs(),e=Number(t),n=ut(),{accounts:r,isLoading:i,error:s}=Ni(),[o,a]=v.useState(null),[l,c]=v.useState(!0),[u,d]=v.useState(null),{tg:f}=Dn(),[p,g]=v.useState("1M"),[m,w]=v.useState("line"),[y,x]=v.useState([]),[b,S]=v.useState(!0),[C,k]=v.useState(null),_=v.useMemo(()=>p==="1D"?"line":m,[p,m]),N=v.useMemo(()=>o?[o.ticker]:[],[o]),{prices:M,isLoading:R,error:j}=Cd(N),P=v.useMemo(()=>o?M.get(o.ticker):null,[o,M]),L=v.useMemo(()=>P?Math.round(P.price*100):null,[P]),I=async()=>{if(!e||isNaN(e)){c(!1),d("Неверный ID актива.");return}c(!0),d(null),a(null);try{const F=await Pk(e);if(!F||typeof F.isSuccess!="boolean")throw new Error("Некорректный ответ от getAssetById.");if(F.isSuccess&&F.resultObject)a(F.resultObject),d(null);else{const O=F.errorMessage||`Актив ${e} не найден.`;d(O),a(null)}}catch(F){d(F.message||"Ошибка загрузки"),a(null)}finally{c(!1)}};v.useEffect(()=>{I()},[e]),v.useEffect(()=>{let F=!0;return(async()=>{if(!(o!=null&&o.id)){x([]),S(!1),k(null);return}S(!0),k(null),console.log(`[AssetPage] Fetching chart history for asset ${o.id}, period ${p}`);try{const A=await Rk(o.id,p);F&&(A.isSuccess&&Array.isArray(A.resultObject)?x(A.resultObject):(k(A.errorMessage||`Не удалось загрузить историю для ${p}.`),x([])))}catch(A){F&&(k(A.message||"Ошибка загрузки истории цен."),x([]))}finally{F&&S(!1)}})(),()=>{F=!1}},[o==null?void 0:o.id,p]),v.useEffect(()=>{const F=()=>n("/market");return f&&(f.BackButton.show(),f.onEvent("backButtonClicked",F)),()=>{f&&(f.BackButton.hide(),f.offEvent("backButtonClicked",F))}},[f,n]);const H=v.useMemo(()=>(r==null?void 0:r.filter(F=>!!(F!=null&&F.brokerAccount)&&!F.brokerAccount.isDeleted))??[],[r]);if(l||i)return h.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-8rem)]",children:h.jsx(Te,{size:"lg"})});if(s)return h.jsxs("div",{className:"p-4 text-center",children:[" ",h.jsx(mt,{message:`Ошибка загрузки данных портфеля: ${s}`})," ",h.jsxs(ie,{variant:"outline",onClick:()=>n(-1),className:"mt-4",children:[h.jsx(Vt,{className:"mr-2 h-4 w-4"})," Назад"]})," "]});if(!o||u){const F=u||`Актив с ID ${e} не найден или произошла ошибка.`;return h.jsxs("div",{className:"p-4 text-center",children:[" ",h.jsx(mt,{message:F})," ",h.jsxs(ie,{variant:"outline",onClick:()=>n(-1),className:"mt-4",children:[h.jsx(Vt,{className:"mr-2 h-4 w-4"})," Назад"]})," "]})}const V=F=>{w(F)};return h.jsxs("div",{className:"p-4 space-y-6 pb-32",children:[h.jsxs("div",{className:"relative flex items-center justify-between h-12",children:[h.jsx(ie,{variant:"ghost",size:"icon",className:"text-foreground/80 h-9 w-9 z-10",onClick:()=>n("/market"),children:h.jsx(Vt,{className:"h-5 w-5"})}),h.jsxs("div",{className:"flex flex-col items-center text-center flex-grow mx-2 min-w-0",children:[h.jsxs("h1",{className:"text-lg font-semibold truncate leading-tight",title:o.title||o.shortName||o.ticker,children:[" ",Tg(o)," "]}),h.jsx("span",{className:"text-sm text-muted-foreground uppercase mt-0.5",children:o.ticker}),h.jsxs("div",{className:"text-xs mt-1",children:[" ",R&&L===null?h.jsx(Te,{size:"sm"}):L!==null?h.jsx(Ht,{value:L,className:"text-foreground"}):j?h.jsx("span",{className:"text-destructive",title:j,children:"Ошибка цены"}):h.jsx("span",{className:"text-muted-foreground",children:"—"})," "]})]}),h.jsxs("div",{className:"flex-shrink-0",children:[" ",h.jsx(rN,{asset:o,priceInfo:P||null,isLoadingPrice:R,priceError:j})," "]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2 px-1 gap-2",children:[h.jsx(Ev,{defaultValue:p,onValueChange:F=>g(F),className:"flex-grow",children:h.jsxs(Jd,{className:"grid grid-cols-6 h-9 w-full",children:[" ",h.jsx(Lt,{value:"1D",className:"text-xs h-full",children:"1D"})," ",h.jsx(Lt,{value:"1W",className:"text-xs h-full",children:"1W"})," ",h.jsx(Lt,{value:"1M",className:"text-xs h-full",children:"1M"})," ",h.jsx(Lt,{value:"1Y",className:"text-xs h-full",children:"1Y"})," ",h.jsx(Lt,{value:"5Y",className:"text-xs h-full",children:"5Y"})," ",h.jsx(Lt,{value:"ALL",className:"text-xs h-full",children:"All"})," "]})}),h.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[h.jsx(ie,{variant:_==="line"?"secondary":"ghost",size:"icon",className:"h-9 w-9",onClick:()=>V("line"),title:"Линейный график",children:h.jsx(Bk,{className:"h-4 w-4"})}),h.jsx(ie,{variant:_==="candle"?"secondary":"ghost",size:"icon",className:"h-9 w-9",onClick:()=>V("candle"),title:"Свечной график",disabled:p==="1D",children:h.jsx(Ok,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"relative h-[250px] w-full",children:[h.jsxs("div",{className:"absolute bottom-0 right-2 z-10",children:[" ",h.jsxs(ie,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>n(`/asset/${o.id}/chart`),title:"На весь экран",children:[" ",h.jsx(iz,{className:"h-3.5 w-3.5"})," "]})," "]}),b?h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/50 z-0",children:h.jsx(Te,{})}):C?h.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 z-0",children:h.jsxs("div",{className:"text-center p-4 border border-destructive/50 rounded-md bg-destructive/10 text-destructive",children:[h.jsx("span",{className:"text-2xl mr-2",children:"⚠️"})," ",C]})}):y.length>0?h.jsx(LN,{data:y,chartType:_}):h.jsx("div",{className:$("flex items-center justify-center text-muted-foreground h-full"),children:" Нет данных о цене за этот период. "})]})]}),h.jsx(cN,{asset:o,accounts:H})]})},oW=(t,e)=>{let n=null;const r=(...i)=>{n&&clearTimeout(n),n=setTimeout(()=>{t(...i),n=null},e)};return r.cancel=()=>{n&&(clearTimeout(n),n=null)},r},aW=20,lW=()=>{const{searchTerm:t,activeTabValue:e,searchResults:n,totalResults:r,isLoading:i,error:s,didPerformSearch:o,marketTabs:a,isTypesLoading:l,typesError:c}=pr(j=>({searchTerm:j.searchTerm,activeTabValue:j.activeTabValue,searchResults:j.searchResults,totalResults:j.totalResults,isLoading:j.isLoading,error:j.error,didPerformSearch:j.didPerformSearch,marketTabs:j.marketTabs,isTypesLoading:j.isTypesLoading,typesError:j.typesError}),to),u=pr(j=>j.setSearchTerm),d=pr(j=>j.setActiveTab),f=pr(j=>j.fetchMarketAssets),p=pr(j=>j.fetchMarketTabs),g=ut(),m=v.useRef(null);v.useEffect(()=>{pr.getState().marketTabs.length<=1&&!l&&p()},[p,l]);const w=v.useRef(oW(j=>{u(j)},400)).current,y=j=>{w(j.target.value)};v.useEffect(()=>{const j=pr.getState();!j.didPerformSearch&&!j.isTypesLoading&&!j.isLoading&&j.marketTabs.length>0&&f(!1)},[l]);const x=v.useCallback(j=>{const L=pr.getState().marketTabs.find(I=>I.value===j);L&&d(j,L.apiTitles)},[d]),b=v.useMemo(()=>n.map(j=>j==null?void 0:j.ticker).filter(j=>!!j&&j!=="RUB"),[n]),{prices:S,isLoading:C,error:k}=Cd(b),_=j=>{j&&g(`/asset/${j}`)},N=v.useCallback(()=>{!i&&n.length<r&&f(!0)},[i,n.length,r,f]),M=!i&&n.length>0&&n.length<r;v.useEffect(()=>{const j=m.current;if(!j)return;const P=new IntersectionObserver(([L])=>{L.isIntersecting&&M&&!i&&N()},{threshold:.1});return P.observe(j),()=>{j&&P.unobserve(j)}},[M,N,i]);const R=j=>h.jsxs("div",{className:"flex items-center justify-between p-3 space-x-3 animate-pulse",children:[h.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden flex-grow",children:[h.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex-shrink-0"}),h.jsxs("div",{className:"space-y-1.5 flex-grow",children:[h.jsx("div",{className:"h-3 rounded bg-muted w-3/4"}),h.jsx("div",{className:"h-2.5 rounded bg-muted w-1/2"})]})]}),h.jsx("div",{className:"h-4 w-16 rounded bg-muted flex-shrink-0 ml-2"})]},`skel-${j}`);return h.jsxs("div",{className:"p-4 space-y-4 flex flex-col",children:[h.jsxs(_t,{className:"flex-shrink-0 shadow-sm border border-border rounded-lg overflow-hidden bg-card",children:[h.jsxs(Lr,{className:"pb-3 pt-4 px-4",children:[h.jsx(Ti,{className:"text-lg mb-2",children:"Биржа"}),h.jsxs("div",{className:"relative",children:[h.jsx(az,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),h.jsx(jn,{type:"search",placeholder:"Название или тикер...",defaultValue:t,onChange:y,className:"pl-9 h-10 rounded-md text-sm","aria-label":"Поиск активов"})]})]}),h.jsx(vn,{className:"pt-1 pb-3 px-4",children:h.jsx("div",{className:"min-h-[40px]",children:l?h.jsx("div",{className:"flex justify-center p-2",children:h.jsx(Te,{size:"sm"})}):c?h.jsx("div",{className:"text-destructive text-xs p-2 text-center",children:c}):a.length>0?h.jsx(Ev,{value:e,onValueChange:x,children:h.jsx(Jd,{className:"flex flex-wrap h-auto justify-start -m-1 p-0 bg-transparent",children:a.map(j=>h.jsx(Lt,{value:j.value,className:$("text-xs h-8 px-3 py-1 m-1 rounded-full transition-all border shadow-sm","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:border-primary data-[state=active]:shadow","data-[state=inactive]:bg-card data-[state=inactive]:border-border data-[state=inactive]:text-muted-foreground hover:data-[state=inactive]:bg-muted/60"),disabled:i||l,children:j.label},j.value))})}):null})})]}),h.jsxs("div",{className:"relative flex-grow overflow-y-auto no-scrollbar border border-border rounded-lg shadow-sm bg-card",children:[i&&n.length===0&&!s&&h.jsxs("div",{className:"divide-y divide-border",children:[" ",Array.from({length:8}).map((j,P)=>R(P))," "]}),s&&n.length===0&&!i&&h.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[" ",h.jsx(mt,{message:s})," "]}),o&&n.length===0&&!i&&!s&&h.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground p-4 text-center",children:"Ничего не найдено."}),n.length>0&&h.jsxs("div",{className:"divide-y divide-border",children:[n.map(j=>{if(!j)return null;const P=S.get(j.ticker),L=P?Math.round(P.price*100):null;return h.jsxs("div",{className:"flex items-center justify-between p-3 space-x-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>_(j.id),children:[h.jsx(Ed,{asset:j,showLotSize:!0,className:"flex-grow min-w-0",iconClassName:"h-8 w-8 rounded-full flex-shrink-0"}),h.jsx("div",{className:"text-right flex-shrink-0 ml-2",children:C&&L===null&&!k?h.jsx(Te,{size:"sm"}):L!==null?h.jsx(Ht,{value:L,className:"text-sm"}):k?h.jsx("span",{className:"text-xs text-destructive",title:k,children:h.jsx(qk,{size:12,className:"inline -mt-0.5"})}):h.jsx("span",{className:"text-xs text-muted-foreground",children:"—"})})]},j.id)}),h.jsx("div",{ref:m,style:{height:"1px"},"aria-hidden":"true"}),i&&n.length>0&&h.jsx("div",{className:"flex justify-center p-4",children:h.jsx(Te,{size:"sm"})}),!i&&!M&&n.length>0&&r>aW&&h.jsx("p",{className:"p-4 text-center text-sm text-muted-foreground",children:"Конец списка"})]}),k&&n.length>0&&!C&&h.jsx("div",{className:"sticky bottom-0 p-1 text-center text-xs bg-destructive/10 text-destructive border-t border-destructive/30 z-10 rounded-b-lg",role:"alert",children:" Ошибка обновления цен. "})]})]})},cW=({investor:t,index:e})=>{const[n,r]=v.useState(!1);if(!(t!=null&&t.telegramUser))return null;const i=t.telegramUser,s=i.userId;Re.useEffect(()=>{r(!1)},[s]);const o=(p,g)=>{var y,x;const m=(y=p==null?void 0:p[0])==null?void 0:y.toUpperCase(),w=(x=g==null?void 0:g[0])==null?void 0:x.toUpperCase();return m&&w?`${m}${w}`:m||"?"},a=i.firstName?`${i.firstName}${i.lastName?` ${i.lastName}`:""}`:i.username?`@${i.username}`:`User ID: ${s}`,l=o(i.firstName,i.lastName),c=i.photo_url||i.photoUrl||null,u=()=>{n||r(!0)},d=e===0?"text-yellow-500":e===1?"text-gray-500 dark:text-gray-400":e===2?"text-orange-500 dark:text-orange-400":"text-foreground/80",f=e+1;return h.jsxs("li",{className:"flex items-center justify-between px-4 py-4 space-x-4 hover:bg-muted/50 transition-colors duration-100",children:[h.jsxs("div",{className:"flex items-center space-x-4 flex-grow min-w-0",children:[h.jsx("div",{className:$("flex-shrink-0 w-8 h-10 flex items-center justify-center font-semibold text-sm tabular-nums"),children:f===1?h.jsx(YL,{size:18,className:$("inline -mt-0.5",d),fill:"currentColor"}):h.jsx("span",{className:d,children:`${f}.`})}),h.jsxs(Bd,{className:"w-10 h-10 flex-shrink-0 border",children:[!n&&c&&h.jsx(Vd,{src:c,alt:a,onError:u},c),h.jsx(Wd,{className:"text-sm",children:l})]}),h.jsxs("div",{className:"overflow-hidden",children:[h.jsx("p",{className:"text-base font-semibold truncate leading-tight",title:a,children:a}),i.username&&h.jsxs("p",{className:"text-sm text-muted-foreground truncate leading-tight",children:["@",i.username]})]})]}),h.jsx("div",{className:"flex-shrink-0 ml-2 text-right",children:h.jsx(Ht,{value:t.totalAmountCopecks,className:"text-base font-semibold"})})]})},uW=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},dW=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},hW=async()=>{var e;const t="Failed to get top investors.";console.log("[API/Investors] getTop10Investors called");try{const n=await yt.get("/api/BrokerAccountUser/GetTop10MostRichInvestors");console.log("[API/Investors] getTop10Investors response received:",(e=n==null?void 0:n.data)==null?void 0:e.isSuccess);const r=uW(n,t);return r.isSuccess&&r.resultObject===null&&(console.warn("[API/Investors] getTop10Investors success but resultObject is null. Returning empty array."),r.resultObject=[]),r}catch(n){return dW(n,t)}},fW=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!0),[i,s]=v.useState(null);return v.useEffect(()=>{(async()=>{r(!0),s(null);try{const a=await hW();if(a!=null&&a.isSuccess&&a.resultObject){const l=a.resultObject.sort((c,u)=>u.totalAmountCopecks-c.totalAmountCopecks);console.log("[TopInvestorsPage] Fetched investors:",l),e(l)}else throw new Error((a==null?void 0:a.errorMessage)||"Failed to load top investors")}catch(a){s(a.message||"Error fetching data"),e([])}finally{r(!1)}})()},[]),h.jsx("div",{className:"p-4 space-y-4 pb-20 flex flex-col h-full",children:h.jsxs(_t,{className:"flex flex-col flex-grow overflow-hidden shadow-md rounded-xl border",children:[h.jsxs(Lr,{className:"flex-shrink-0 border-b pb-3 pt-4 text-center",children:[h.jsx(Ti,{className:"text-lg font-semibold",children:"Топ 10 Инвесторов"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"(По общей стоимости портфеля)"})]}),h.jsxs(vn,{className:"flex-grow overflow-y-auto no-scrollbar p-0",children:[n&&h.jsx("div",{className:"flex justify-center items-center h-48",children:h.jsx(Te,{})}),i&&h.jsx("div",{className:"p-4",children:h.jsx(mt,{message:i})}),!n&&!i&&h.jsx(h.Fragment,{children:t.length>0?h.jsx("ol",{className:"divide-y divide-border/60",children:t.map((o,a)=>{var l;return h.jsx(cW,{investor:o,index:a},((l=o.telegramUser)==null?void 0:l.userId)||a)})}):h.jsx("p",{className:"text-center text-muted-foreground py-16",children:"Список инвесторов пуст."})})]})]})})},pW=`
## Что такое акции и как на них заработать?

Акция — это ценная бумага, которая подтверждает, что вы владеете долей в компании. Покупая акцию, вы становитесь **акционером** и совладельцем бизнеса.

### Зачем компании выпускают акции?

*   **Привлечение капитала:** Компании продают акции, чтобы получить деньги на развитие: запуск новых продуктов, строительство заводов, выход на новые рынки.
*   **Публичность:** Выход на биржу повышает узнаваемость компании.

### Зачем инвесторы покупают акции?

1.  **Рост стоимости:** Цена акции может вырасти со временем, если дела у компании идут хорошо. Инвестор может продать акцию дороже, чем купил, получив **прибыль**.
2.  **Дивиденды:** Некоторые компании делятся частью своей прибыли с акционерами, выплачивая **дивиденды**. Это регулярный доход для инвестора.

### Виды акций

*   **Обыкновенные:** Дают право голоса на собрании акционеров и право на получение дивидендов (если компания их выплачивает).
*   **Привилегированные ("префы"):** Обычно не дают права голоса, но гарантируют получение фиксированных дивидендов (если компания получила прибыль). При банкротстве владельцы "префов" получают выплаты раньше владельцев обыкновенных акций.

### Риски

*   **Рыночный риск:** Цена акции может не только расти, но и падать из-за общих экономических условий или проблем у конкретной компании.
*   **Риск банкротства:** Если компания обанкротится, акционеры могут потерять все вложенные деньги.

**Важно:** Инвестиции в акции связаны с риском. Перед покупкой изучите компанию и оцените свои финансовые возможности.
`,mW=`
## Как найти потерянные акции?

Если вы или ваши родственники когда-то покупали акции (например, в 1990-е годы во время приватизации), но документы утеряны, есть способы попытаться их найти.

### Шаг 1: Соберите информацию

Вспомните или найдите любые данные:
*   Название компании, акции которой покупались.
*   Примерное время покупки.
*   Имя человека, на которого оформлялись акции.
*   Любые старые документы: выписки со счета, сертификаты акций (хотя сейчас они обычно бездокументарные).

### Шаг 2: Обратитесь к регистратору

Акции учитываются в специальных организациях — **регистраторах**.
*   **Узнайте регистратора компании:** Найдите на сайте компании (в разделе "Акционерам" или "Инвесторам") или на сайтах раскрытия информации (например, e-disclosure.ru) название регистратора, который ведет реестр ее акционеров.
*   **Отправьте запрос регистратору:** Свяжитесь с регистратором (по телефону, почте или через сайт) и объясните ситуацию. Укажите всю собранную информацию о предполагаемом владельце акций. Возможно, потребуется предоставить документы, подтверждающие личность или родство (если ищете акции родственника). Регистратор проверит свои записи.

### Шаг 3: Обратитесь к брокеру или депозитарию (если акции покупались через них)

Если акции покупались через брокера или учитывались в депозитарии, можно попробовать обратиться к ним.
*   Вспомните название брокера/депозитария.
*   Свяжитесь с ними и запросите информацию о наличии счета и акций на имя предполагаемого владельца.

### Шаг 4: Проверьте наследство

Если вы ищете акции умершего родственника, они могли войти в **наследственную массу**.
*   Обратитесь к нотариусу, который вел наследственное дело. Он мог делать запросы регистраторам и депозитариям.
*   Если наследственное дело не открывалось или акции не были включены, возможно, придется обращаться в суд для включения акций в наследство.

### Что делать, если акции нашлись?

*   **У регистратора:** Вам нужно будет открыть счет у брокера или в депозитарии, а затем дать поручение регистратору перевести акции на этот счет. Для этого потребуется личный визит к регистратору или нотариально заверенные документы.
*   **У брокера/депозитария:** Если счет еще активен, вы сможете управлять акциями через этого брокера. Если счет закрыт или неактивен, уточните у брокера/депозитария процедуру восстановления доступа или перевода акций.

**Важно:** Процесс поиска может быть долгим и потребовать настойчивости. Некоторые регистраторы и брокеры могут взимать плату за поиск информации или восстановление документов.
`,gW=`
## Зачем нужны депозитарные расписки?

Депозитарная расписка (ДР) — это ценная бумага, которая **удостоверяет право собственности на акции иностранной компании**. Сами акции при этом хранятся в банке-кастодиане в стране происхождения компании, а банк-депозитарий (обычно крупный международный банк) выпускает на них расписки, которые торгуются на других биржах.

### Виды депозитарных расписок:

*   **АДР (ADR, American Depositary Receipt):** Торгуются на американских биржах (NYSE, NASDAQ).
*   **ГДР (GDR, Global Depositary Receipt):** Торгуются на европейских и азиатских биржах (Лондон, Франкфурт, Сингапур и др.).
*   **РДР (Российские депозитарные расписки):** Позволяли иностранным компаниям размещать свои бумаги на российских биржах (сейчас менее актуальны).

### Зачем они нужны?

*   **Инвесторам:**
    *   **Доступ к иностранным акциям:** Позволяют покупать акции иностранных компаний на своей локальной бирже без необходимости открывать счет у иностранного брокера.
    *   **Удобство:** Торгуются в привычной валюте и по правилам местной биржи.
    *   **Дивиденды:** Владельцы ДР обычно получают дивиденды так же, как и владельцы базовых акций (за вычетом комиссий банка-депозитария и налогов).
*   **Компаниям (эмитентам):**
    *   **Привлечение иностранных инвесторов:** Выпуск ДР позволяет компании расширить круг инвесторов и привлечь капитал на международных рынках.
    *   **Повышение ликвидности:** Торги на нескольких площадках увеличивают ликвидность бумаг.
    *   **Престиж:** Листинг на крупных мировых биржах повышает статус компании.

### Соотношение ДР и акций

Одна депозитарная расписка может соответствовать одной акции, нескольким акциям или даже доле акции. Это соотношение (ratio) устанавливается при выпуске ДР.

### Риски

*   **Рыночный риск:** Цена ДР зависит от цены базовой акции и подвержена тем же колебаниям.
*   **Валютный риск:** Если ДР торгуется в валюте, отличной от валюты базовой акции, ее цена будет зависеть и от обменного курса.
*   **Риск делистинга:** ДР могут быть сняты с торгов на бирже.
*   **Геополитические риски:** Санкции или законодательные изменения могут ограничить торговлю ДР или конвертацию их в акции (как это произошло с российскими компаниями, чьи ДР торговались за рубежом).

**В итоге:** Депозитарные расписки — удобный инструмент для диверсификации портфеля за счет иностранных акций, но важно помнить о связанных с ними рисках.
`,vW=`
## Что такое маржинальная торговля и в чем ее риски?

**Маржинальная торговля** — это совершение сделок на бирже с использованием заемных средств (денег или ценных бумаг), предоставляемых брокером под залог активов на вашем счете. Это позволяет покупать больше активов, чем у вас есть денег, или продавать активы, которых у вас нет (игра на понижение, "шорт").

### Как это работает?

1.  **Маржинальный счет:** Для маржинальной торговли нужен специальный брокерский счет с возможностью использования "кредитного плеча".
2.  **Обеспечение (маржа):** Часть ваших собственных средств и активов на счете выступает залогом (начальная маржа).
3.  **Кредитное плечо:** Брокер предоставляет вам заемные средства, превышающие ваше обеспечение в несколько раз (например, плечо 1:3 означает, что на 1 ваш рубль брокер дает еще 2 рубля в долг).
4.  **Сделки:** Вы совершаете сделки на сумму, превышающую ваши собственные средства.
5.  **Плата за плечо:** За использование заемных средств брокер взимает комиссию (обычно ежедневную).
6.  **Поддерживающая маржа:** Стоимость ваших активов (включая заемные) не должна опускаться ниже определенного уровня (поддерживающая маржа), установленного брокером.

### Виды маржинальных сделок:

*   **Лонг (Long):** Покупка активов на заемные деньги в расчете на рост их цены. Вы занимаете деньги.
*   **Шорт (Short, короткая продажа):** Продажа активов, взятых в долг у брокера, в расчете на падение их цены. Вы занимаете ценные бумаги. Чтобы закрыть позицию, вам нужно будет откупить эти бумаги на рынке (желательно дешевле) и вернуть брокеру.

### Преимущества:

*   **Потенциально высокая прибыль:** Кредитное плечо позволяет увеличить объем сделок и, соответственно, потенциальную прибыль от движения цены.
*   **Возможность заработка на падении:** Сделки "шорт" позволяют зарабатывать на снижении котировок.
*   **Гибкость:** Можно использовать для краткосрочных спекуляций или хеджирования рисков.

### Риски (Очень высокие!):

*   **Потенциально высокие убытки:** Кредитное плечо работает в обе стороны. Если цена идет против вас, убытки также умножаются на размер плеча и могут превысить ваши собственные вложения.
*   **Маржин-колл (Margin Call):** Если стоимость активов на вашем счете падает ниже уровня поддерживающей маржи, брокер потребует внести дополнительные средства или закрыть часть позиций для восстановления уровня маржи.
*   **Принудительное закрытие позиций:** Если вы не выполните требования маржин-колла, брокер имеет право принудительно закрыть ваши убыточные позиции по текущим рыночным ценам, чтобы покрыть долг перед ним. Это может зафиксировать значительные убытки.
*   **Плата за перенос позиций:** Комиссия за использование плеча может "съедать" прибыль, особенно при долгом удержании маржинальных позиций.
*   **Риск "шорт-сквиза" (Short Squeeze):** При игре на понижение резкий рост цены актива может заставить "шортистов" массово закрывать позиции (откупать бумаги), что еще больше толкает цену вверх, приводя к огромным убыткам.

**Вывод:** Маржинальная торговля — инструмент для **опытных** инвесторов и трейдеров, которые полностью понимают и принимают высокие риски. **Новичкам категорически не рекомендуется** использовать кредитное плечо досконально не разобравшись в механизмах и рисках.
`,yW=`
## Облигации: что это такое и как на них заработать?

**Облигация** — это долговая ценная бумага. Покупая облигацию, вы даете деньги в долг эмитенту (тому, кто выпустил облигацию), а он обязуется вернуть вам эту сумму в определенный срок и выплачивать процентный доход (купоны) в течение срока обращения облигации.

### Кто выпускает облигации (эмитенты)?

*   **Государство:** Министерство финансов (ОФЗ — Облигации Федерального Займа), регионы РФ (субфедеральные), города (муниципальные). Считаются самыми надежными.
*   **Компании (корпорации):** Крупные и средние предприятия для привлечения финансирования. Риск зависит от надежности компании.

### Основные параметры облигации:

*   **Номинал:** Сумма, которую эмитент вернет вам при погашении облигации. Обычно 1000 рублей.
*   **Рыночная цена:** Цена, по которой облигация торгуется на бирже. Может быть выше, ниже или равна номиналу. Выражается в процентах от номинала (например, 98,5% или 102%).
*   **Дата погашения:** Срок, когда эмитент вернет номинал облигации.
*   **Купон:** Процентный доход, который эмитент выплачивает владельцу облигации. Может быть:
    *   **Фиксированным:** Ставка купона известна заранее и не меняется (например, 8% годовых).
    *   **Переменным:** Ставка купона привязана к какому-либо индикатору (например, ставке ЦБ РФ RUONIA + 1%).
    *   **Нулевым (дисконтные облигации):** Купоны не выплачиваются, но облигация продается со скидкой (дисконтом) к номиналу. Доход инвестора — разница между ценой покупки и номиналом при погашении.
*   **Периодичность выплаты купонов:** Как часто выплачивается купон (например, раз в полгода, раз в квартал).
*   **Накопленный купонный доход (НКД):** Часть купона, которая "накопилась" с момента последней выплаты. При покупке облигации между датами выплаты купонов покупатель платит продавцу НКД, а при следующей выплате получает полный купон.

### Как заработать на облигациях?

1.  **Получение купонов:** Регулярные выплаты процентного дохода.
2.  **Погашение по номиналу:** Получение номинальной стоимости в конце срока. Если вы купили облигацию дешевле номинала (с дисконтом), то разница — ваш дополнительный доход.
3.  **Продажа дороже цены покупки:** Если рыночная цена облигации вырастет (например, из-за снижения процентных ставок в экономике), вы можете продать ее до погашения и получить прибыль.

### Доходность облигаций:

*   **Купонная доходность:** Годовой купон / Номинал.
*   **Текущая доходность:** Годовой купон / Текущая рыночная цена.
*   **Доходность к погашению (YTM, Yield to Maturity):** Самый важный показатель. Учитывает все будущие купонные выплаты и разницу между текущей ценой и номиналом до даты погашения. Показывает реальную годовую доходность, которую вы получите, если продержите облигацию до конца срока.

### Риски:

*   **Кредитный риск (риск дефолта):** Эмитент может оказаться не в состоянии выплатить купоны или вернуть номинал. Чем ниже надежность эмитента, тем выше риск и, как правило, выше доходность.
*   **Процентный риск:** Если процентные ставки в экономике растут, цены уже выпущенных облигаций (особенно с фиксированным купоном) падают, так как новые облигации выпускаются с более высокой доходностью.
*   **Инфляционный риск:** Инфляция может "съесть" доходность облигации, если реальная доходность (доходность минус инфляция) окажется низкой или отрицательной.
*   **Риск ликвидности:** Некоторые облигации (особенно небольших компаний) может быть сложно быстро продать по справедливой рыночной цене.

**Вывод:** Облигации считаются более консервативным и предсказуемым инструментом, чем акции. Они подходят для инвесторов, ищущих регулярный доход и меньший риск (особенно государственные облигации). Однако важно оценивать кредитное качество эмитента и понимать процентные риски.
`,xW=`
## Брокер: как его выбрать и как с ним работать?

**Брокер** — это профессиональный участник рынка ценных бумаг, посредник между инвестором и биржей. Без брокера частное лицо не может напрямую покупать или продавать акции, облигации и другие биржевые инструменты.

### Зачем нужен брокер?

*   **Доступ к бирже:** Открывает вам брокерский счет и предоставляет доступ к торговым системам биржи.
*   **Исполнение сделок:** Выполняет ваши поручения (заявки) на покупку или продажу ценных бумаг.
*   **Учет активов:** Ведет учет ваших денег и ценных бумаг на брокерском счете и в депозитарии.
*   **Налоговый агент:** Рассчитывает, удерживает и перечисляет налог на доходы (НДФЛ) с вашей прибыли от сделок и дивидендов (по российским бумагам).
*   **Предоставление информации:** Дает доступ к котировкам, новостям, аналитике (объем и качество зависят от брокера).
*   **Дополнительные услуги:** Может предлагать маржинальное кредитование, структурные продукты, доверительное управление, ИИС и т.д.

### Как выбрать брокера?

1.  **Наличие лицензии:** **Самое главное!** Убедитесь, что у брокера есть лицензия Банка России на осуществление брокерской деятельности. Проверить можно на сайте ЦБ РФ в разделе "Справочник участников финансового рынка". Работа без лицензии незаконна.
2.  **Надежность:** Оцените историю компании, ее репутацию, финансовое состояние (если доступно). Крупные брокеры, связанные с банками, часто воспринимаются как более надежные.
3.  **Тарифы и комиссии:** Внимательно изучите все комиссии:
    *   За сделки (покупку/продажу) — % от суммы или фикс. сумма.
    *   Депозитарная комиссия — за хранение ценных бумаг.
    *   За ведение счета (может быть при отсутствии сделок или низкой сумме активов).
    *   За вывод денег.
    *   За использование торгового терминала (если он платный).
    *   За маржинальное кредитование (если планируете использовать).
    Выберите тариф, подходящий под ваш стиль инвестирования (частота сделок, суммы).
4.  **Доступные инструменты и биржи:** Убедитесь, что брокер дает доступ к тем биржам (Московская, СПБ Биржа) и инструментам (акции РФ, иностранные акции, облигации, фонды, фьючерсы), которые вам интересны.
5.  **Торговые платформы:** Оцените удобство и функциональность:
    *   **Мобильное приложение:** Основной инструмент для многих начинающих инвесторов. Должно быть понятным и стабильным.
    *   **Веб-терминал:** Торговля через браузер.
    *   **Десктопный терминал (QUIK, MetaTrader и др.):** Для активных трейдеров, предлагает больше возможностей для анализа и выставления заявок.
6.  **Минимальная сумма:** Узнайте, есть ли требования к минимальной сумме для открытия счета или для доступа к определенным тарифам/услугам.
7.  **Качество поддержки:** Как быстро и компетентно отвечает поддержка на вопросы? Можно почитать отзывы или задать пару вопросов перед открытием счета.
8.  **Дополнительные сервисы:** Наличие ИИС, аналитика, обучение, персональные рекомендации (если это важно для вас).

### Как работать с брокером?

1.  **Заключение договора:** Обычно происходит онлайн через сайт или приложение брокера с подтверждением через Госуслуги или встречу с представителем.
2.  **Открытие счета:** Брокер открывает вам брокерский счет и счет в депозитарии.
3.  **Пополнение счета:** Перевод денег на брокерский счет (обычно с банковского счета или карты).
4.  **Подача поручений (заявок):** Через торговую платформу вы выставляете заявки на покупку или продажу:
    *   **Рыночная заявка:** Исполняется немедленно по лучшей доступной цене на рынке.
    *   **Лимитная заявка:** Исполняется только по указанной вами цене или лучше.
5.  **Контроль счета:** Следите за состоянием портфеля, открытыми позициями, доступными средствами.
6.  **Вывод средств:** Подача поручения на вывод денег с брокерского счета на банковский.

**Помните:** Брокер — это посредник. Он исполняет ваши приказы, но не несет ответственности за ваши инвестиционные решения и возможные убытки.
`,wW=`
## Что такое доверительное управление и зачем оно начинающему инвестору?

**Доверительное управление (ДУ)** — это услуга, при которой вы передаете свои деньги или ценные бумаги профессиональному управляющему (управляющей компании, УК), а он инвестирует их от вашего имени с целью получения дохода. Вы остаетесь собственником активов, но право принимать инвестиционные решения переходит к управляющему.

### Как это работает?

1.  **Договор ДУ:** Вы заключаете договор с управляющей компанией, где прописываются:
    *   **Инвестиционная стратегия:** Цели, уровень риска, разрешенные инструменты (например, только акции РФ, смешанная стратегия, только облигации).
    *   **Срок договора.**
    *   **Вознаграждение управляющего:** Обычно это процент от среднегодовой стоимости активов под управлением (management fee) и/или процент от полученной прибыли сверх определенного уровня (success fee).
    *   **Порядок отчетности:** Как часто УК будет отчитываться перед вами о результатах.
2.  **Передача активов:** Вы переводите деньги на специальный счет, открытый на ваше имя в рамках ДУ.
3.  **Управление:** Управляющий формирует портфель в соответствии с выбранной стратегией и активно им управляет (покупает/продает активы).
4.  **Отчетность:** УК регулярно предоставляет вам отчеты о составе портфеля и результатах управления.
5.  **Получение дохода / возврат активов:** По окончании срока договора или при досрочном расторжении (если это предусмотрено) вы получаете назад свои активы (деньги и/или ценные бумаги) и полученный инвестиционный доход (за вычетом вознаграждения УК и налогов).

### Плюсы ДУ для начинающего инвестора:

*   **Профессиональное управление:** Вашими деньгами управляют опытные специалисты с доступом к аналитике и ресурсам, которых может не быть у новичка.
*   **Экономия времени:** Вам не нужно самостоятельно анализировать рынок, выбирать бумаги и совершать сделки.
*   **Доступ к сложным стратегиям:** УК могут предлагать стратегии, которые сложно реализовать самостоятельно.
*   **Диверсификация:** Готовые стратегии часто предполагают вложения в разные классы активов.

### Минусы и риски ДУ:

*   **Нет гарантии доходности:** Управляющий не гарантирует прибыль. Результаты зависят от рыночной ситуации и мастерства управляющего. Возможны убытки.
*   **Высокий порог входа:** Часто для открытия договора ДУ требуется значительная сумма (сотни тысяч или миллионы рублей), хотя появляются и более доступные варианты.
*   **Комиссии:** Вознаграждение управляющего может существенно снизить вашу итоговую доходность, особенно если она невелика.
*   **Отсутствие контроля:** Вы не можете влиять на конкретные сделки управляющего в рамках выбранной стратегии.
*   **Риск выбора УК:** Важно выбрать надежную управляющую компанию с хорошей репутацией и прозрачными условиями.
*   **Налоги:** Доход от ДУ облагается НДФЛ. Обычно УК выступает налоговым агентом.

### ДУ vs Самостоятельное инвестирование vs ПИФы:

*   **ДУ vs Сам:** ДУ подходит тем, кто не хочет или не может тратить время на инвестиции, готов платить за управление и доверяет профессионалам. Самостоятельное инвестирование требует знаний, времени, но дает полный контроль и экономию на комиссиях за управление.
*   **ДУ vs ПИФы:** ПИФы (Паевые Инвестиционные Фонды) — это коллективные инвестиции, где много инвесторов вкладывают деньги в общий портфель под управлением УК. ПИФы обычно имеют более низкий порог входа, чем ДУ, и стандартизированные стратегии. ДУ часто предлагает более индивидуальный подход (хотя есть и стандартные стратегии ДУ).

**Вывод:** Доверительное управление может быть вариантом для начинающих инвесторов с **крупным капиталом**, которые хотят передать управление профессионалам и готовы платить за это комиссии, осознавая при этом все риски и отсутствие гарантий. Для инвесторов с небольшими суммами или желающих больше контроля, более подходящими могут быть самостоятельные инвестиции или ПИФы/БПИФы.
`,bW=`
## Зачем нужен инвестиционный советник и как его выбрать?

**Инвестиционный советник** — это профессионал или компания, которые дают **индивидуальные инвестиционные рекомендации (ИИР)** клиентам на основе их финансовых целей, опыта, отношения к риску и других параметров.

### Отличие от брокера и управляющего:

*   **Брокер:** Исполняет ваши сделки, предоставляет доступ к бирже. Не дает индивидуальных рекомендаций (может предоставлять общую аналитику).
*   **Управляющий (ДУ):** Самостоятельно управляет вашими активами в рамках согласованной стратегии. Вы не принимаете решения по конкретным сделкам.
*   **Инвестсоветник:** **Рекомендует**, что купить или продать, но **решение принимаете вы сами**. Он помогает сформировать стратегию и подобрать инструменты, но не управляет вашими деньгами напрямую.

### Зачем нужен инвестсоветник?

*   **Персональный план:** Помогает определить финансовые цели (накопить на пенсию, купить квартиру, образование детей) и разработать долгосрочную инвестиционную стратегию для их достижения.
*   **Оценка риск-профиля:** Определяет вашу готовность к риску и подбирает соответствующие инструменты.
*   **Подбор активов:** Дает конкретные рекомендации по покупке/продаже акций, облигаций, фондов и других инструментов, подходящих под вашу стратегию и риск-профиль.
*   **Формирование и ребалансировка портфеля:** Помогает собрать диверсифицированный портфель и корректировать его со временем.
*   **Обучение и информация:** Объясняет принципы инвестирования, риски, особенности инструментов.
*   **Психологическая поддержка:** Помогает избежать эмоциональных решений во время рыночных колебаний.

### Кому может быть полезен инвестсоветник?

*   **Начинающим инвесторам:** Которые не знают, с чего начать, боятся ошибок и хотят получить персональный план.
*   **Занятым людям:** У которых нет времени самостоятельно изучать рынок и управлять портфелем.
*   **Инвесторам с крупным капиталом:** Которые ищут индивидуальные решения и комплексное управление финансами.
*   **Тем, кто хочет получить "второе мнение"** по своей стратегии.

### Как выбрать инвестсоветника?

1.  **Реестр Банка России:** **Обязательно!** Проверьте, состоит ли советник (человек или компания) в **Едином реестре инвестиционных советников** на сайте ЦБ РФ. Только члены реестра имеют право давать ИИР.
2.  **Опыт и квалификация:** Изучите опыт работы советника, наличие квалификационных аттестатов (ФСФР/ЦБ), образование.
3.  **Специализация:** Некоторые советники специализируются на определенных рынках или инструментах. Убедитесь, что их экспертиза соответствует вашим потребностям.
4.  **Модель оплаты:** Как советник получает вознаграждение?
    *   **Фиксированная плата:** За консультацию, разработку плана или годовое сопровождение.
    *   **Процент от активов:** Годовой процент от суммы активов, по которым даются рекомендации.
    *   **Процент от дохода:** Вознаграждение зависит от прибыли клиента (менее распространено и может создавать конфликт интересов).
    *   **Комиссии от продуктов:** Советник может получать комиссии от продажи определенных инвестпродуктов (самый высокий риск конфликта интересов!). **Избегайте таких советников.**
    Предпочтительны модели с фиксированной платой или % от активов, так как они минимизируют конфликт интересов.
5.  **Прозрачность и договор:** Внимательно изучите договор. В нем должны быть четко прописаны услуги, ответственность сторон, порядок предоставления рекомендаций, стоимость услуг, порядок расторжения.
6.  **Отзывы и репутация:** Поищите отзывы других клиентов, но относитесь к ним критически.
7.  **Личное общение:** Проведите встречу (или онлайн-звонок), чтобы понять, комфортно ли вам общаться с этим человеком/представителем компании, совпадают ли ваши взгляды на инвестиции.

**Важно:** Инвестиционный советник дает рекомендации, но **ответственность за принятие решения и его последствия лежит на вас**. Советник не гарантирует доходность и не несет ответственности за рыночные убытки, если его рекомендации соответствовали вашему профилю и договору.
`,SW=`
## Паевые фонды (ПИФы): как они работают и как на них заработать?

**Паевой инвестиционный фонд (ПИФ)** — это форма коллективных инвестиций. Множество инвесторов (пайщиков) объединяют свои деньги в один большой портфель, которым управляет профессиональная **управляющая компания (УК)** в соответствии с заранее определенной стратегией.

### Как это работает?

1.  **Формирование фонда:** УК создает фонд с определенной инвестиционной стратегией (например, ПИФ акций российских компаний, ПИФ облигаций, смешанный ПИФ).
2.  **Покупка паев:** Инвесторы покупают **паи** — доли в этом фонде. Цена пая зависит от общей стоимости активов фонда (Стоимость Чистых Активов, СЧА), деленной на количество паев в обращении.
3.  **Управление активами:** УК на деньги пайщиков покупает ценные бумаги и другие активы согласно стратегии фонда. Цель УК — увеличить стоимость активов фонда.
4.  **Рост/падение стоимости пая:** Если активы в фонде дорожают, растет СЧА и, соответственно, цена пая. Если активы дешевеют — пай тоже дешевеет.
5.  **Продажа (погашение) паев:** Инвестор может продать свои паи обратно управляющей компании (если это открытый ПИФ) или другому инвестору на бирже (если это биржевой ПИФ).

### Виды ПИФов по доступности паев:

*   **Открытые (ОПИФ):** Паи можно купить и продать (погасить) в любой рабочий день напрямую у управляющей компании или ее агентов. Самый распространенный тип.
*   **Интервальные (ИПИФ):** Купить и продать паи можно только в определенные периоды (интервалы), установленные правилами фонда (например, раз в квартал или полгода).
*   **Закрытые (ЗПИФ):** Паи покупаются при формировании фонда, а погасить их можно только при его закрытии (часто через несколько лет). Иногда паи ЗПИФов могут торговаться на бирже или внебиржевом рынке. Обычно инвестируют в менее ликвидные активы (недвижимость, венчурные проекты).

### Виды ПИФов по составу активов:

*   **Фонды акций:** Инвестируют в акции компаний.
*   **Фонды облигаций:** Инвестируют в государственные или корпоративные облигации.
*   **Смешанные фонды:** Инвестируют и в акции, и в облигации в разных пропорциях.
*   **Фонды денежного рынка:** Вкладывают в краткосрочные долговые инструменты и депозиты.
*   **Индексные фонды:** Стараются повторить структуру и доходность определенного биржевого индекса (например, индекса МосБиржи).
*   **Фонды недвижимости (ЗПИФы):** Инвестируют в объекты недвижимости.
*   **И другие** (товарные, венчурные и т.д.)

### Как заработать на ПИФах?

Основной способ — **рост стоимости пая**. Вы покупаете пай дешевле, а продаете дороже. Дивиденды и купоны, полученные фондом от активов внутри, обычно **реинвестируются**, то есть направляются на покупку новых активов, что увеличивает стоимость пая. Некоторые фонды могут предусматривать выплату промежуточного дохода пайщикам, но это встречается реже.

### Плюсы ПИФов:

*   **Профессиональное управление:** Не нужно самому выбирать бумаги.
*   **Диверсификация:** Даже небольшая сумма инвестируется сразу в корзину активов, что снижает риск.
*   **Доступность:** Начать инвестировать можно с небольших сумм (часто от 1000 рублей).
*   **Регулирование:** Деятельность УК и ПИФов контролируется Банком России.

### Минусы и риски ПИФов:

*   **Нет гарантии доходности:** Стоимость пая может не только расти, но и падать. Возможны убытки.
*   **Комиссии:** УК берет плату за управление (процент от СЧА), также могут быть надбавки при покупке и скидки при продаже паев. Комиссии снижают итоговую доходность.
*   **Зависимость от УК:** Результат зависит от профессионализма управляющей компании.
*   **Ограничения интервальных и закрытых ПИФов:** Сложно быстро продать паи.

**Вывод:** ПИФы — хороший инструмент для начинающих инвесторов, позволяющий диверсифицировать вложения и доверить управление профессионалам при относительно низком пороге входа. Важно выбрать фонд с подходящей стратегией, низкими комиссиями и надежной УК.
`,kW=`
## Биржевые фонды (БПИФы, ETF): что это и стоит ли вкладывать?

**Биржевой паевой инвестиционный фонд (БПИФ)** и **Exchange Traded Fund (ETF)** — это инвестиционные фонды, паи (или акции) которых торгуются на бирже так же свободно, как и обычные акции.

### Сходства и различия:

*   **Общее:** И БПИФы, и ETF представляют собой готовый портфель активов (акций, облигаций, золота и т.д.), собранный по определенному принципу (часто по индексу). Покупая один пай/акцию фонда, вы инвестируете сразу во все активы внутри него.
*   **БПИФ:** Создается по **российскому** законодательству. Управляется российской управляющей компанией (УК). Активы могут быть как российскими, так и иностранными (но с учетом текущих ограничений). Торгуются на Московской бирже за рубли.
*   **ETF:** Создается по **иностранному** законодательству (например, Ирландия, Люксембург). Управляется иностранным провайдером (FinEx, BlackRock, Vanguard и др.). Активы обычно иностранные. Ранее торговались на МосБирже и СПБ Бирже, но из-за санкций и ограничений ЦБ РФ **торги большинством иностранных ETF для неквалифицированных инвесторов в России сейчас недоступны или приостановлены**.

**По сути, для российского инвестора сегодня БПИФ — это основной доступный аналог ETF.**

### Как работают БПИФы?

1.  **Следование индексу (чаще всего):** Большинство БПИФов являются **индексными**. Они стремятся максимально точно повторить состав и структуру выбранного биржевого индекса (например, Индекс МосБиржи IMOEX, Индекс гособлигаций RGBI, индекс акций IT-сектора и т.д.).
2.  **Формирование портфеля:** УК покупает активы в тех же пропорциях, что и в индексе.
3.  **Торги на бирже:** Паи фонда выпускаются и торгуются на бирже в течение всего торгового дня. Цена пая колеблется в зависимости от спроса/предложения и стоимости базовых активов.
4.  **Маркет-мейкеры:** Специальные участники торгов (авторизованные УК) следят за тем, чтобы цена пая на бирже не сильно отклонялась от реальной стоимости активов внутри фонда (СЧА на пай). Они выставляют заявки на покупку/продажу паев около справедливой цены.
5.  **Реинвестирование доходов:** Дивиденды и купоны, полученные фондом, обычно реинвестируются, увеличивая стоимость пая.

### Плюсы БПИФов (и ETF):

*   **Мгновенная диверсификация:** Покупка одного пая дает долю во множестве активов.
*   **Низкий порог входа:** Цена одного пая обычно невелика, можно начать с малых сумм.
*   **Прозрачность:** Состав индексных фондов обычно известен и соответствует индексу. СЧА публикуется регулярно.
*   **Ликвидность:** Паи можно купить/продать на бирже в любой момент в течение торговой сессии (в отличие от ОПИФов, где расчеты занимают несколько дней).
*   **Низкие издержки (часто):** Комиссии за управление у индексных БПИФов обычно ниже, чем у активно управляемых ОПИФов.

### Минусы и риски БПИФов (и ETF):

*   **Рыночный риск:** Стоимость пая зависит от динамики базовых активов. Если рынок падает, пай тоже дешевеет.
*   **Ошибка слежения (Tracking Error):** Цена пая может незначительно отклоняться от динамики индекса из-за комиссий, налогов, особенностей репликации индекса.
*   **Комиссии фонда:** УК берет комиссию за управление, также есть другие расходы фонда (депозитарные, аудиторские), которые включены в стоимость пая.
*   **Биржевые комиссии:** При покупке/продаже пая на бирже вы платите стандартную брокерскую комиссию.
*   **Риск контрагента (для ETF):** Хотя и маловероятный, но существует риск банкротства иностранного провайдера или кастодиана.
*   **Санкционные риски (особенно для ETF и БПИФов на иностранные активы):** Возможность блокировки активов, приостановки торгов, проблемы с получением выплат.

### Стоит ли вкладывать?

БПИФы (особенно индексные) — **отличный инструмент для начинающих и долгосрочных инвесторов** благодаря простоте, диверсификации и низкому порогу входа. Они позволяют легко инвестировать в широкий рынок акций или облигаций.

**При выборе БПИФа обращайте внимание на:**

*   **Базовый актив/индекс:** Во что инвестирует фонд? Соответствует ли это вашей стратегии?
*   **Комиссии:** Суммарная комиссия фонда (TER/СГР). Чем ниже, тем лучше.
*   **Ошибка слежения:** Насколько точно фонд следует за индексом (если применимо).
*   **Ликвидность:** Объемы торгов паями на бирже.
*   **Управляющая компания:** Ее надежность и опыт.

С иностранными ETF в текущих условиях нужно быть **очень осторожным** из-за высоких рисков блокировок и ограничений для российских инвесторов.
`,CW=`
## Закрытые паевые фонды (ЗПИФы): в чем их особенности и подходят ли они начинающим инвесторам?

**Закрытый паевой инвестиционный фонд (ЗПИФ)** — это вид ПИФа, паи которого можно купить только во время его формирования (первичного размещения), а погасить (продать обратно управляющей компании) — только при завершении работы фонда, дата которого определена заранее (например, через 5, 10 или 15 лет).

### Ключевые особенности ЗПИФов:

1.  **Ограниченный вход и выход:** В отличие от открытых ПИФов (ОПИФов), где паи можно купить/продать в любой рабочий день, в ЗПИФе инвестор "замораживает" свои деньги на весь срок существования фонда.
2.  **Инвестиции в неликвидные активы:** Закрытая структура позволяет управляющей компании инвестировать в активы, которые сложно быстро купить или продать по справедливой цене. Чаще всего это:
    *   **Недвижимость:** Строящиеся или готовые объекты (жилая, коммерческая, складская).
    *   **Прямые инвестиции (Private Equity):** Доли в непубличных компаниях.
    *   **Венчурные инвестиции:** Вложения в стартапы на ранних стадиях.
    *   **Предметы искусства, антиквариат.**
    *   Иногда — биржевые инструменты, но с долгосрочной стратегией.
3.  **Высокий порог входа:** Как правило, минимальная сумма для покупки пая ЗПИФа значительно выше, чем у ОПИФов или БПИФов (может составлять сотни тысяч или миллионы рублей).
4.  **Доступность для "квалов":** Большинство ЗПИФов предназначены **только для квалифицированных инвесторов**. Неквалифицированным инвесторам доступны лишь некоторые ЗПИФы (обычно на недвижимость), паи которых торгуются на бирже.
5.  **Вторичный рынок:** Иногда паи ЗПИФов могут обращаться на бирже или внебиржевом рынке. Это дает возможность выйти из фонда до его закрытия, продав пай другому инвестору. Однако ликвидность таких торгов часто низкая, и цена пая на вторичном рынке может сильно отличаться от его расчетной стоимости (СЧА).
6.  **Выплата дохода:** Некоторые ЗПИФы (особенно рентные фонды недвижимости) могут предусматривать периодическую выплату дохода пайщикам (например, от сдачи недвижимости в аренду). В других случаях весь доход реинвестируется и выплачивается только при закрытии фонда.

### Плюсы ЗПИФов:

*   **Доступ к уникальным активам:** Позволяют инвестировать в недвижимость, частные компании и другие активы, недоступные напрямую широкому кругу инвесторов.
*   **Потенциально высокая доходность:** Инвестиции в непубличные активы могут принести более высокую прибыль, чем традиционные биржевые инструменты (но и риски выше).
*   **Защита от эмоциональных решений:** Невозможность быстро продать пай удерживает инвестора от панических продаж во время рыночных спадов.

### Минусы и риски ЗПИФов:

*   **Низкая ликвидность:** Основной минус. Сложно или невозможно быстро вернуть вложенные деньги до закрытия фонда.
*   **Высокий порог входа.**
*   **Ограниченный доступ для "неквалов".**
*   **Высокие риски базовых активов:** Инвестиции в недвижимость, стартапы, непубличные компании inherently более рискованны.
*   **Сложность оценки:** Трудно оценить справедливую стоимость пая, особенно если он не торгуется на бирже.
*   **Комиссии УК:** Могут быть выше, чем у ОПИФов/БПИФов.
*   **Риск управляющей компании:** Результат сильно зависит от профессионализма УК.

### Подходят ли ЗПИФы начинающим инвесторам?

**Как правило, нет.** Из-за высокого порога входа, низкой ликвидности, сложности активов и частого требования статуса квалифицированного инвестора, ЗПИФы — это инструмент для **опытных и состоятельных инвесторов**, которые готовы "заморозить" значительную часть капитала на долгий срок и принять высокие риски ради потенциально высокой доходности от альтернативных инвестиций.

Начинающим инвесторам лучше сосредоточиться на более простых, ликвидных и доступных инструментах, таких как ОФЗ, корпоративные облигации, ОПИФы и БПИФы на акции и облигации.
`,EW=`
## Как устроена фондовая биржа?

**Фондовая биржа** — это организованный рынок, где встречаются продавцы и покупатели ценных бумаг (акций, облигаций, паев фондов и др.) и заключают сделки по установленным правилам.

### Основные функции биржи:

1.  **Организация торгов:** Предоставляет инфраструктуру (торговую систему) и устанавливает правила для проведения сделок.
2.  **Сведение заявок:** Автоматически находит встречные заявки на покупку и продажу по совпадающим ценам и заключает сделки.
3.  **Определение рыночной цены:** В результате множества сделок формируется справедливая рыночная цена на активы.
4.  **Гарантия исполнения сделок:** Через центрального контрагента (см. ниже) биржа гарантирует, что покупатель получит бумаги, а продавец — деньги.
5.  **Листинг:** Допускает ценные бумаги компаний к торгам после проверки их соответствия определенным требованиям (финансовое состояние, прозрачность и т.д.).
6.  **Раскрытие информации:** Обеспечивает доступ участников торгов к информации о котировках, объемах торгов и новостях эмитентов.
7.  **Клиринг и расчеты:** Учитывает взаимные обязательства участников по итогам сделок и организует их исполнение.

### Участники биржевых торгов:

*   **Эмитенты:** Компании или государство, выпускающие ценные бумаги для привлечения капитала.
*   **Инвесторы:** Частные лица и организации (фонды, банки, страховые компании), которые покупают и продают ценные бумаги с целью получения дохода. **Частные инвесторы торгуют не напрямую, а через посредников.**
*   **Брокеры:** Профессиональные посредники, которые исполняют заявки инвесторов на бирже. Имеют лицензию ЦБ.
*   **Депозитарии:** Организации, которые хранят ценные бумаги (в электронном виде) и учитывают права собственности на них.
*   **Регистраторы:** Ведут реестр владельцев ценных бумаг конкретного эмитента.
*   **Управляющие компании:** Управляют активами паевых фондов (ПИФов) или активами клиентов в рамках доверительного управления.
*   **Маркет-мейкеры:** Участники торгов, которые обязуются поддерживать ликвидность по определенным бумагам, постоянно выставляя заявки на покупку и продажу.
*   **Биржа:** Организатор торгов.
*   **Центральный контрагент (ЦК):** Специальная организация (в России — НКЦ, Национальный Клиринговый Центр), которая выступает посредником во всех сделках. Покупатель покупает у ЦК, а продавец продает ЦК. Это снижает риск неисполнения сделки, если одна из сторон окажется недобросовестной.
*   **Клиринговая организация:** Проводит взаимозачет требований и обязательств участников по итогам торгового дня.
*   **Регулятор:** Центральный банк (в России — Банк России), который контролирует и регулирует деятельность всех участников рынка.

### Как происходит сделка?

1.  Инвестор через торговую платформу брокера выставляет **заявку** (приказ) на покупку или продажу определенного количества бумаг по определенной цене (лимитная заявка) или по текущей рыночной цене (рыночная заявка).
2.  Заявка попадает в **"стакан"** — биржевой список всех активных заявок на покупку (бид, bid) и продажу (аск, ask) по данному активу, отсортированных по цене.
3.  **Торговая система биржи** ищет встречные заявки:
    *   Если вы выставили заявку на покупку, система ищет самую дешевую заявку на продажу.
    *   Если вы выставили заявку на продажу, система ищет самую дорогую заявку на покупку.
4.  Если находится встречная заявка с подходящей ценой, **сделка заключается** автоматически.
5.  Информация о сделке передается в **клиринговый центр** и **центральному контрагенту**.
6.  Происходит **клиринг** (взаимозачет) и **расчеты** (обычно на второй рабочий день после сделки, режим Т+2): деньги списываются со счета покупателя и зачисляются продавцу, а ценные бумаги переводятся из депозитария продавца в депозитарий покупателя.

Биржа — это сложный механизм, обеспечивающий прозрачность, надежность и ликвидность для торговли ценными бумагами.
`,_W=`
## Какие налоги платит инвестор?

Инвестируя на бирже, вы можете получать два основных вида дохода, которые облагаются налогом на доходы физических лиц (НДФЛ) в России:

1.  **Доход от продажи ценных бумаг:** Разница между ценой продажи и ценой покупки (а также сопутствующими расходами, например, комиссиями брокера).
2.  **Дивиденды и купоны:** Выплаты от компаний (дивиденды по акциям) или эмитентов облигаций (купоны).

### Ставка НДФЛ

*   **Основная ставка:** **13%** для налоговых резидентов РФ, если совокупный доход за год не превышает 5 млн рублей.
*   **Повышенная ставка:** **15%** с суммы дохода, превышающей 5 млн рублей за год.
*   **Нерезиденты РФ:** Платят **30%** с доходов от продажи бумаг и **15%** с дивидендов (если иное не предусмотрено соглашением об избежании двойного налогообложения).

### Кто платит налог?

*   **Брокер как налоговый агент:** По операциям с **российскими ценными бумагами** на счетах, открытых у **российского брокера**, брокер сам рассчитывает, удерживает и перечисляет НДФЛ в бюджет. Он делает это:
    *   При выводе денег с брокерского счета.
    *   По окончании налогового периода (календарного года).
    *   При расторжении договора с брокером.
    Брокер также удерживает налог с **дивидендов по российским акциям** в момент их зачисления на счет.
    С **купонов по большинству российских облигаций** (ОФЗ, муниципальные, корпоративные, выпущенные с 2017 года) налог удерживать не нужно (они освобождены). Исключение — купоны по облигациям, выпущенным до 2017 года, или если ставка купона превышает определенный порог (ставка ЦБ + 5%).
*   **Инвестор самостоятельно:** Вам нужно будет самостоятельно подать декларацию 3-НДФЛ и уплатить налог в следующих случаях:
    *   **Доход от продажи иностранных ценных бумаг** (даже если они куплены через российского брокера).
    *   **Дивиденды по иностранным акциям.** Брокер удержит налог по ставке страны эмитента (например, 10% в США при подписанной форме W-8BEN), а вам нужно будет доплатить разницу до 13% (или 15%) в России, подав декларацию. Если налог у источника был 15% или выше, доплачивать не нужно, но отчитаться о доходе все равно надо.
    *   **Доход получен через иностранного брокера.**
    *   В некоторых других специфических случаях.

### Налоговые вычеты и льготы для инвесторов:

*   **Индивидуальный инвестиционный счет (ИИС):** Позволяет получать налоговые вычеты:
    *   **Тип А:** Вычет на взносы (до 52 000 руб. в год). Подходит тем, у кого есть официальный доход, облагаемый НДФЛ 13%.
    *   **Тип Б:** Освобождение от налога на прибыль от сделок по истечении срока ИИС (минимум 3 года).
    *   **ИИС-3 (новый тип с 2024 г.):** Совмещает вычеты на взносы и освобождение от налога на прибыль при длительном сроке (от 5 до 10 лет, в зависимости от года открытия).
*   **Льгота на долгосрочное владение (ЛДВ):** Если вы владели ценными бумагами (допущенными к торгам на российских биржах) **более 3 лет**, то при их продаже вы освобождаетесь от НДФЛ с прибыли. Максимальная сумма необлагаемого дохода — 3 млн рублей за каждый год владения.
*   **Перенос убытков:** Убытки, полученные от операций с ценными бумагами в прошлые годы, можно перенести на будущие периоды (до 10 лет) и уменьшить на их сумму налогооблагаемую прибыль.

**Важно:** Налоговое законодательство может меняться. Всегда уточняйте актуальную информацию и при необходимости консультируйтесь с налоговыми специалистами или вашим брокером.
`,NW=`
## Во что инвестировать новичку на бирже? Что дает статус «квала» и в каких случаях придется проходить тестирование?

Начиная инвестировать, важно выбирать инструменты, соответствующие вашему уровню знаний, опыту и готовности к риску.

### Инструменты для начинающих (обычно доступны без ограничений):

1.  **Облигации Федерального Займа (ОФЗ):** Долговые бумаги Министерства финансов РФ. Считаются самым надежным инструментом на российском рынке. Риск минимален, доходность обычно немного выше банковских вкладов. Подходят для консервативных инвесторов.
2.  **Надежные корпоративные облигации:** Облигации крупных, стабильных российских компаний с высоким кредитным рейтингом. Риск чуть выше ОФЗ, доходность тоже.
3.  **Паи Биржевых Паевых Инвестиционных Фондов (БПИФ) и ETF (на российские активы):** Покупая пай фонда, вы сразу инвестируете в готовую корзину активов (например, акции крупнейших российских компаний — индекс МосБиржи, или облигации). Это обеспечивает **диверсификацию** (снижение риска за счет распределения вложений) и не требует самостоятельного выбора отдельных бумаг. Обращайте внимание на комиссию фонда.
4.  **Акции "голубых фишек":** Акции самых крупных, известных и ликвидных российских компаний (например, Сбербанк, Газпром, Лукойл). Они менее волатильны, чем акции небольших компаний, но все равно несут рыночный риск.

### Инструменты, требующие тестирования или статуса "квала":

С 1 октября 2021 года Банк России ввел **обязательное тестирование** для неквалифицированных инвесторов перед допуском к некоторым сложным или рискованным инструментам. Цель — убедиться, что инвестор понимает особенности и риски продукта.

**Тестирование обычно требуется для:**

*   **Маржинальная торговля:** Сделки с кредитным плечом (необеспеченные сделки).
*   **Производные финансовые инструменты (ПФИ):** Фьючерсы, опционы.
*   **Структурные облигации.**
*   **Облигации со структурным доходом.**
*   **Акции иностранных компаний, не входящих в ведущие мировые индексы.**
*   **Иностранные ETF.**
*   **Паи Закрытых ПИФов (ЗПИФ).**
*   **Облигации российских компаний с низким кредитным рейтингом (или без него).**
*   **Договоры РЕПО.**

Тестирование проводится **бесплатно** у вашего брокера (обычно онлайн). Количество попыток не ограничено. Вопросы проверяют понимание основных характеристик и рисков инструмента.

### Статус квалифицированного инвестора ("квал")

**Квалифицированный инвестор** — это инвестор, обладающий достаточными знаниями, опытом или финансовыми ресурсами, которому доступны **все** инструменты на рынке без необходимости проходить тестирование.

**Как получить статус "квала" (нужно соответствовать ОДНОМУ из условий):**

1.  **Активы:** Владеть ценными бумагами и/или деньгами на счетах у брокеров/банков на сумму **не менее 6 млн рублей**.
2.  **Опыт работы:** Иметь опыт работы в организации, совершавшей сделки с ценными бумагами (не менее 2 лет, если она сама "квал", или 3 года в ином случае).
3.  **Образование:** Иметь высшее экономическое образование в ВУЗе, который мог аттестовывать в сфере проф. деятельности на рынке ценных бумаг, ИЛИ квалификационный аттестат специалиста финансового рынка (ФСФР/ЦБ), CFA, CIIA, FRM.
4.  **Оборот сделок:** Совершить за последние 4 квартала сделки с ценными бумагами на сумму **не менее 6 млн рублей**, при этом не менее 10 сделок в квартал и не реже 1 сделки в месяц.

Статус присваивается брокером по вашему заявлению и предоставленным подтверждающим документам.

**Нужен ли статус "квала" новичку?**

**Нет.** Большинству начинающих инвесторов доступны все необходимые инструменты (ОФЗ, надежные облигации, БПИФы на индекс МосБиржи, акции "голубых фишек") **без** статуса "квала" и без тестирования (кроме акций). Статус "квала" нужен для доступа к более сложным, рискованным или иностранным инструментам.

**Рекомендация новичку:** Начните с простых и понятных инструментов (ОФЗ, БПИФы на индекс). Постепенно изучайте рынок. Если захотите использовать более сложные инструменты, пройдите тестирование у брокера. Не гонитесь за статусом "квала", если не понимаете, зачем он вам нужен.
`,TW=`
## Что такое ИИС-3?

**ИИС-3 (Индивидуальный инвестиционный счет третьего типа)** — это новый тип ИИС, введенный в России с 1 января 2024 года. Он пришел на смену старым типам ИИС (Тип А и Тип Б), открытие которых стало невозможным с 2024 года (но ранее открытые продолжают действовать на прежних условиях).

### Ключевые особенности ИИС-3:

1.  **Объединение вычетов:** ИИС-3 сочетает в себе преимущества старых типов:
    *   **Налоговый вычет на взносы:** Как у ИИС типа А. Можно вернуть 13% (или 15%) от суммы, внесенной на ИИС за год, но не более чем с 400 000 рублей (т.е. максимальный возврат — 52 000 или 60 000 рублей в год). Вычет можно получать ежегодно. Условие: наличие официального дохода, облагаемого НДФЛ по ставке 13%/15%.
    *   **Освобождение от НДФЛ на доход:** Как у ИИС типа Б. Весь финансовый результат (прибыль от продажи ценных бумаг, купоны) освобождается от налога при закрытии счета по истечении минимального срока.
2.  **Минимальный срок владения:** Это главное отличие. Чтобы получить налоговые льготы, ИИС-3 нужно держать **минимум 10 лет**. Однако предусмотрен **переходный период:**
    *   Для счетов, открытых в 2024-2026 гг. — минимальный срок **5 лет**.
    *   Далее срок будет постепенно увеличиваться на 1 год ежегодно, пока не достигнет 10 лет в 2031 году.
3.  **Количество счетов:** Можно иметь **до трех** счетов ИИС-3 одновременно у разных брокеров/УК. Старые ИИС (А или Б) также учитываются, т.е. если у вас уже есть старый ИИС, вы можете открыть еще два ИИС-3. **Важно:** Налоговый вычет на взносы (52/60 тыс. руб.) предоставляется **суммарно по всем ИИС**, а не на каждый счет отдельно.
4.  **Сумма взносов:** Вносить на ИИС-3 можно **любую сумму** (в отличие от старых ИИС, где был лимит 1 млн руб. в год). Однако вычет на взносы по-прежнему ограничен суммой 400 000 руб. в год.
5.  **Вывод средств:** Вывести деньги с ИИС-3 без потери льгот и закрытия счета можно только в **особых жизненных ситуациях** (например, для оплаты дорогостоящего лечения), перечень которых должно определить Правительство РФ. В остальных случаях досрочный вывод средств ведет к потере права на все налоговые льготы (придется вернуть полученные вычеты и уплатить налог с дохода).
6.  **Трансформация старых ИИС:** Владельцы старых ИИС (А или Б), открытых до 31 декабря 2023 года, могут:
    *   Продолжать пользоваться ими на прежних условиях до истечения 3-летнего срока (или дольше).
    *   Трансформировать свой старый ИИС в ИИС-3. При этом срок владения старым ИИС (но не более 3 лет) зачтется в минимальный срок владения ИИС-3.

### Плюсы ИИС-3:

*   Сочетание двух типов налоговых льгот.
*   Возможность иметь до трех счетов.
*   Отсутствие лимита на годовые взносы (хотя вычет ограничен).

### Минусы ИИС-3:

*   **Длительный минимальный срок владения (5-10 лет):** Основной недостаток. Деньги "замораживаются" на долгий срок для получения льгот.
*   Ограничения на вывод средств без потери льгот.

**Вывод:** ИИС-3 — это инструмент для **долгосрочных** инвесторов, которые готовы вкладывать деньги на 5-10 лет и более, и хотят получить максимальные налоговые льготы. Если вам может потребоваться доступ к деньгам раньше, возможно, стоит рассмотреть обычный брокерский счет (с ЛДВ) или пока не трансформировать старый ИИС (если он есть).
`,PW=`
## Как продать заблокированные активы?

С 2022 года многие российские инвесторы столкнулись с блокировкой части своих **иностранных ценных бумаг** (акций, ETF, депозитарных расписок), купленных через российских брокеров. Это произошло из-за санкций, нарушивших связь между российскими и иностранными депозитариями (НРД, Euroclear, Clearstream).

**Что значит "заблокированные"?** Эти бумаги по-прежнему принадлежат вам, но вы не можете ими торговать (продать на бирже) или получать по ним выплаты (дивиденды, купоны), так как инфраструктура для этого нарушена.

### Способы продажи (или обмена) заблокированных активов:

1.  **Указ Президента № 844 (Обмен активами):**
    *   **Суть:** Позволяет российским инвесторам продать заблокированные иностранные бумаги нерезидентам, которые хотят купить российские активы на свои средства со счетов типа "С".
    *   **Организатор:** Брокер "Инвестиционная палата".
    *   **Лимит:** Каждый инвестор мог подать заявку на продажу активов на сумму **не более 100 000 рублей**.
    *   **Статус:** Сбор заявок от инвесторов завершился 8 мая 2024 года. Сейчас идет этап сбора заявок от нерезидентов (до 5 июля 2024) и определения единой цены выкупа для каждого актива. Расчеты ожидаются до 1 сентября 2024 года. **Новые заявки от россиян уже не принимаются.**
    *   **Что делать:** Если вы подавали заявку, следите за информацией от вашего брокера и организатора торгов.

2.  **Конвертация депозитарных расписок (ГДР/АДР) российских компаний:**
    *   **Суть:** Российские компании, чьи расписки торговались за рубежом, обязаны были провести их конвертацию в обыкновенные акции, торгующиеся на МосБирже.
    *   **Статус:** Основная волна конвертаций прошла в 2022-2023 годах. Большинство брокеров автоматически или по заявлению клиента провели эту процедуру.
    *   **Что делать:** Проверьте свой брокерский отчет. Если у вас были ГДР/АДР российских компаний (Сбер, Газпром, Лукойл и др.), они должны были замениться на соответствующие акции. Если этого не произошло, срочно свяжитесь с брокером.

3.  **Перевод активов к другому брокеру (не под санкциями):**
    *   **Суть:** Если ваш брокер попал под блокирующие санкции (Сбер, ВТБ, Альфа и др.), он обычно предлагал (или предлагает) перевести иностранные активы к другому российскому брокеру, не находящемуся под такими санкциями.
    *   **Статус:** Актуально, если вы еще не перевели активы.
    *   **Что делать:** Свяжитесь с вашим санкционным брокером и уточните процедуру и возможных брокеров-партнеров для перевода. **Важно:** Сам по себе перевод не гарантирует разблокировки, если бумаги учитывались через НРД/Euroclear, но может упростить участие в будущих схемах обмена или получение выплат, если они возобновятся.

4.  **Индивидуальные лицензии (для крупных инвесторов):**
    *   **Суть:** Получение разрешения от европейских регуляторов (например, Минфина Бельгии, где находится Euroclear) на разблокировку и перевод активов.
    *   **Статус:** Сложный, дорогой и долгий процесс, актуальный в основном для инвесторов с очень крупными портфелями заблокированных активов (миллионы долларов/евро). Требует привлечения юристов.

5.  **Ожидание системного решения:**
    *   **Суть:** Надежда на то, что в будущем будет найдено общее решение на уровне регуляторов или через новые механизмы обмена для разблокировки активов всех инвесторов.
    *   **Статус:** Перспективы туманны и зависят от геополитической ситуации.

**Что НЕЛЬЗЯ сделать сейчас (в большинстве случаев):**

*   Продать заблокированные иностранные акции на МосБирже или СПБ Бирже.
*   Перевести их к иностранному брокеру напрямую.
*   Получить по ним дивиденды или купоны (они "зависают" в иностранной инфраструктуре).

**Рекомендация:** Следите за новостями от вашего брокера и Банка России. Если вы участвовали в обмене по Указу № 844, ждите результатов. Если ваши активы у санкционного брокера, рассмотрите возможность перевода к несанкционному.
`,jW=`
## Брокер или доверительный управляющий оказались под санкциями: что делать?

Если ваш российский брокер или управляющая компания (УК), через которую вы инвестировали (например, в ПИФы или ДУ), попали под блокирующие санкции США, ЕС или Великобритании, это может повлиять на ваши инвестиции, особенно в иностранные активы.

### Возможные последствия санкций:

*   **Блокировка иностранных активов:** Наиболее частое последствие. Из-за разрыва связей с иностранными депозитариями (Euroclear/Clearstream) вы теряете возможность торговать иностранными акциями, ETF, еврооблигациями и получать по ним выплаты. Сами активы остаются вашими, но "заморожены".
*   **Ограничения на операции с валютой:** Могут возникнуть сложности с покупкой/продажей/выводом долларов США, евро и других "недружественных" валют.
*   **Проблемы с доступом к торговым платформам:** В редких случаях возможны временные сбои в работе приложений или терминалов.
*   **Принудительный перевод активов:** Брокер/УК может инициировать перевод ваших активов (особенно иностранных) к другому участнику рынка, не находящемуся под санкциями.

### Что делать инвестору?

1.  **Не паниковать:** Санкции против брокера не означают потерю ваших активов. Ваши ценные бумаги хранятся в депозитарии, а деньги на специальных счетах, отдельно от средств брокера.
2.  **Следить за информацией от брокера/УК:** Они обязаны информировать клиентов о последствиях санкций и дальнейших действиях. Проверяйте сообщения в приложении, на сайте, по email.
3.  **Оценить состав портфеля:**
    *   **Российские активы (акции РФ, ОФЗ, рублевые корп. облигации):** Как правило, санкции на них напрямую не влияют. Вы можете продолжать ими торговать на МосБирже через этого же брокера (если он сохраняет доступ к торгам) или перевести их к другому брокеру при желании.
    *   **Иностранные активы:** Если они заблокированы, см. рекомендации по продаже/обмену заблокированных активов. Если они *не* заблокированы (например, учитывались не через НРД), уточните у брокера возможность их продажи или перевода.
    *   **Валюта:** Уточните у брокера лимиты и комиссии на операции с "недружественными" валютами. Возможно, имеет смысл перевести ее на банковский счет или конвертировать в рубли или "дружественные" валюты (юань).
4.  **Перевод активов (если предлагается/необходимо):**
    *   **Иностранные ценные бумаги:** Если брокер предлагает перевод к несанкционному партнеру, **обычно стоит соглашаться**. Это не гарантирует разблокировку, но может упростить дальнейшие действия. Внимательно изучите условия перевода (сроки, комиссии, брокер-получатель).
    *   **Российские ценные бумаги и рубли:** Вы можете перевести их к любому другому российскому брокеру по стандартной процедуре (подача поручений у обоих брокеров), если вас не устраивает работа с санкционным брокером.
5.  **ПИФы под управлением санкционной УК:**
    *   **Открытые ПИФы (ОПИФы):** Если фонд инвестировал в российские активы, санкции на УК обычно не влияют на возможность купить/продать паи. Если фонд инвестировал в иностранные активы, они могут быть заблокированы внутри фонда, что отразится на стоимости пая и возможности его погашения. Следите за информацией от УК.
    *   **Биржевые ПИФы (БПИФы):** Аналогично ОПИФам. Если базовые активы заблокированы, торги паями на бирже могут быть приостановлены или цена пая будет нерелевантной.
    *   **Закрытые ПИФы (ЗПИФы):** Уточняйте информацию у УК.
6.  **Доверительное управление (ДУ) у санкционной УК:** Свяжитесь с управляющей компанией и уточните статус ваших активов и дальнейшие действия в соответствии с вашим договором ДУ.

**Главное:** Взаимодействуйте с вашим брокером/УК, читайте их официальные сообщения и следуйте инструкциям. При необходимости обращайтесь в их службу поддержки.
`,RW=[{id:"stocks",title:"Акции",isActive:!0,articles:[{id:"what-are-stocks",title:"Что такое акции и как на них заработать?",url:"https://fincult.info/article/chto-takoe-aktsii-i-kak-na-nikh-zarabotat/",content:pW},{id:"find-lost-stocks",title:"Как найти потерянные акции?",url:"https://fincult.info/article/kak-nayti-poteryannye-aktsii/",content:mW},{id:"depository-receipts",title:"Зачем нужны депозитарные расписки?",url:"https://fincult.info/article/zachem-nuzhny-depozitarnye-raspiski/",content:gW},{id:"margin-trading",title:"Что такое маржинальная торговля и в чем ее риски?",url:"https://fincult.info/article/chto-takoe-marzhinalnaya-torgovlya-i-v-chem-ee-riski/",content:vW}]},{id:"bonds",title:"Облигации",isActive:!0,articles:[{id:"what-are-bonds",title:"Облигации: что это такое и как на них заработать?",url:"https://fincult.info/article/obligatsii-chto-eto-takoe-i-kak-na-nikh-zarabotat/",content:yW}]},{id:"brokers-and-management",title:"Брокеры и управление",isActive:!0,articles:[{id:"choose-broker",title:"Брокер: как его выбрать и как с ним работать?",url:"https://fincult.info/article/broker-kak-ego-vybrat-i-kak-s-nim-rabotat/",content:xW},{id:"trust-management",title:"Что такое доверительное управление и зачем оно начинающему инвестору?",url:"https://fincult.info/article/chto-takoe-doveritelnoe-upravlenie-i-zachem-ono-nachinayushchemu-investoru/",content:wW},{id:"investment-advisor",title:"Зачем нужен инвестиционный советник и как его выбрать?",url:"https://fincult.info/article/zachem-nuzhen-investitsionnyy-sovetnik-i-kak-ego-vybrat/",content:bW}]},{id:"funds",title:"Фонды (ПИФы, БПИФы, ETF)",isActive:!0,articles:[{id:"mutual-funds",title:"Паевые фонды (ПИФы): как они работают и как на них заработать?",url:"https://fincult.info/article/paevye-fondy-kak-oni-rabotayut-i-kak-na-nikh-zarabotat/",content:SW},{id:"etfs",title:"Биржевые фонды (БПИФы, ETF): что это и стоит ли вкладывать?",url:"https://fincult.info/article/birzhevye-fondy-ili-etf-chto-eto-i-stoit-li-vkladyvat-v-nikh-dengi/",content:kW},{id:"closed-end-funds",title:"Закрытые паевые фонды (ЗПИФы): в чем их особенности?",url:"https://fincult.info/article/zakrytye-paevye-fondy-v-chem-ikh-osobennosti-i-podkhodyat-li-oni-nachinayushchim-investoram/",content:CW}]},{id:"general-investing",title:"Общие вопросы инвестирования",isActive:!0,articles:[{id:"stock-exchange",title:"Как устроена фондовая биржа?",url:"https://fincult.info/article/kak-ustroena-fondovaya-birzha/",content:EW},{id:"investor-taxes",title:"Какие налоги платит инвестор?",url:"https://fincult.info/article/kakie-nalogi-platit-investor/",content:_W},{id:"newbie-investing",title:"Во что инвестировать новичку на бирже? Что дает статус «квала»?",url:"https://fincult.info/article/vo-chto-investirovat-novichku-na-birzhe-chto-daet-status-kvala-i-v-kakikh-sluchayakh-pridetsya-prokh/",content:NW},{id:"iis-3",title:"Что такое ИИС-3?",url:"https://fincult.info/article/chto-takoe-iis-3/",content:TW}]},{id:"sanctions",title:"Санкции и блокировки",isActive:!0,articles:[{id:"sell-blocked-assets",title:"Как продать заблокированные активы?",url:"https://fincult.info/article/kak-prodat-zablokirovannye-aktivy/",content:PW},{id:"broker-sanctions",title:"Брокер или доверительный управляющий оказались под санкциями: что делать?",url:"https://fincult.info/article/broker-ili-doveritelnyy-upravlyayushchiy-okazalis-pod-sanktsiyami-chto-delat/",content:jW}]}],um=t=>`${t}-${Date.now()}-${Math.random().toString(36).substring(2,7)}`,MW=RW.map(t=>({...t,isActive:t.isActive??!0,articles:t.articles.map(e=>({...e,id:e.id||um(`art-${t.id}`)}))})),fn=_i()(_l((t,e)=>({categories:MW,setCategories:n=>t({categories:n}),addCategory:n=>{const r=n.trim();if(!r)return null;const i=um("cat"),s={id:i,title:r,articles:[],isActive:!0};return t(o=>({categories:[...o.categories,s]})),console.log(`[FaqStore] Added category: ${i} - ${r}`),i},deleteCategory:n=>t(r=>({categories:r.categories.filter(i=>i.id!==n)})),updateCategoryTitle:(n,r)=>{const i=r.trim();i&&t(s=>({categories:s.categories.map(o=>o.id===n?{...o,title:i}:o)}))},toggleCategoryActive:n=>t(r=>({categories:r.categories.map(i=>i.id===n?{...i,isActive:!(i.isActive??!0)}:i)})),addArticle:(n,r,i="")=>{const s=r.trim();if(!s)return null;const o=um(`art-${n}`),a={id:o,title:s,content:i,url:""};let l=!1;return t(c=>({categories:c.categories.map(u=>u.id===n?(l=!0,{...u,articles:[...u.articles,a]}):u)})),l?(console.log(`[FaqStore] Added article ${o} to category ${n}`),o):(console.error(`[FaqStore] Category ${n} not found when trying to add article.`),null)},deleteArticle:(n,r)=>t(i=>({categories:i.categories.map(s=>s.id===n?{...s,articles:s.articles.filter(o=>o.id!==r)}:s)})),updateArticle:(n,r,i)=>{const s={...i};if(delete s.id,delete s.url,Object.keys(s).length===0){console.log(`[FaqStore] No valid updates provided for article ${r}.`);return}t(o=>({categories:o.categories.map(a=>a.id===n?{...a,articles:a.articles.map(l=>l.id===r?{...l,...s}:l)}:a)})),console.log(`[FaqStore] Updated article ${r} in category ${n} with:`,s)},getCategoryById:n=>e().categories.find(r=>r.id===n),getArticleByIds:(n,r)=>{const i=e().getCategoryById(n);return i==null?void 0:i.articles.find(s=>s.id===r)}}),{name:"faq-storage",storage:Io(()=>localStorage),onRehydrateStorage:()=>t=>{console.log("[FaqStore] Hydration finished.")}}));console.log("[FaqStore] Initialized with data:",fn.getState().categories);const AW=()=>{const t=ut(),{tg:e}=Dn(),n=fn(s=>s.categories);v.useEffect(()=>{const s=()=>t("/profile");return e&&(e.BackButton.show(),e.onEvent("backButtonClicked",s),console.log("[FaqPage] Telegram BackButton shown and handler attached.")),()=>{e&&(e.BackButton.hide(),e.offEvent("backButtonClicked",s),console.log("[FaqPage] Telegram BackButton hidden and handler removed."))}},[e,t]);const r=s=>{t(`/faq/${s}`)},i=n.filter(s=>s.isActive??!0);return h.jsxs("div",{className:"p-4 space-y-4 pb-4 flex flex-col h-full",children:[h.jsxs("div",{className:"relative flex items-center justify-center h-12 mb-2 flex-shrink-0",children:[h.jsx(ie,{variant:"ghost",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 text-foreground/80 h-9 w-9 z-10",onClick:()=>t("/profile"),children:h.jsx(Vt,{className:"h-5 w-5"})}),h.jsx("h1",{className:"text-lg font-semibold text-center",children:"Часто задаваемые вопросы"}),h.jsx("div",{className:"h-9 w-9 absolute right-0"})," "]}),h.jsx(_t,{className:"flex-grow shadow-sm border rounded-lg overflow-hidden flex flex-col",children:h.jsx(vn,{className:"p-0 flex-grow overflow-y-auto no-scrollbar",children:h.jsx("div",{className:"divide-y divide-border/60",children:i.length>0?i.map(s=>h.jsxs("button",{onClick:()=>r(s.id),className:$("flex items-center w-full text-left p-4 transition-colors","hover:bg-muted/50 active:bg-muted/80 cursor-pointer"),children:[h.jsx("span",{className:"text-base flex-grow",children:s.title}),h.jsx(Dk,{className:"h-5 w-5 flex-shrink-0 text-muted-foreground"})]},s.id)):h.jsx("p",{className:"p-6 text-center text-muted-foreground",children:"Нет доступных категорий."})})})})]})},IW=()=>{const{categoryId:t}=vs(),e=ut(),{tg:n}=Dn(),{getCategoryById:r}=fn(),i=fn.persist.hasHydrated(),s=v.useMemo(()=>{if(!(!i||!t))return console.log(`[FaqCategoryPage] Store hydrated, getting category: ${t}`),r(t)},[t,r,i]);v.useEffect(()=>{const a=()=>e("/faq");return n&&(n.BackButton.show(),n.onEvent("backButtonClicked",a),console.log("[FaqCategoryPage] Telegram BackButton shown and handler attached.")),()=>{n&&(n.BackButton.hide(),n.offEvent("backButtonClicked",a),console.log("[FaqCategoryPage] Telegram BackButton hidden and handler removed."))}},[n,e]);const o=a=>{console.log("[FaqCategoryPage handleArticleClick] Clicked article:",a),a.content||a.id?(console.log("[FaqCategoryPage handleArticleClick] Navigating internally..."),e(`/faq/${t}/${a.id}`)):console.error("[FaqCategoryPage handleArticleClick] Article has no content or id!",a)};if(!i)return h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx(Te,{size:"lg"})});if(!s||!(s.isActive??!0)){const a=s?`Категория "${s.title}" временно недоступна.`:`Категория FAQ "${t}" не найдена.`;return h.jsxs("div",{className:"p-4 text-center",children:[h.jsx(mt,{message:a}),h.jsxs(ie,{variant:"outline",onClick:()=>e("/faq"),className:"mt-4",children:[h.jsx(Vt,{className:"mr-2 h-4 w-4"})," К списку категорий"]})]})}return h.jsxs("div",{className:"p-4 space-y-4 pb-4 flex flex-col h-full",children:[h.jsxs("div",{className:"relative flex items-center justify-center h-12 mb-2 flex-shrink-0",children:[h.jsx(ie,{variant:"ghost",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 text-foreground/80 h-9 w-9 z-10",onClick:()=>e("/faq"),children:h.jsx(Vt,{className:"h-5 w-5"})}),h.jsx("h1",{className:"text-lg font-semibold text-center truncate max-w-[calc(100%-5rem)]",title:s.title,children:s.title}),h.jsx("div",{className:"h-9 w-9 absolute right-0"})]}),h.jsx(_t,{className:"flex-grow shadow-sm border rounded-lg overflow-hidden flex flex-col",children:h.jsx(vn,{className:"p-0 flex-grow overflow-y-auto no-scrollbar",children:h.jsx("div",{className:"divide-y divide-border/60",children:s.articles.length>0?s.articles.map(a=>h.jsxs("button",{onClick:()=>o(a),className:$("flex items-center w-full text-left p-4 transition-colors","hover:bg-muted/50 active:bg-muted/80 cursor-pointer"),children:[h.jsx("span",{className:"text-base flex-grow mr-2",children:a.title}),h.jsx(HL,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground"})]},a.id)):h.jsx("p",{className:"p-6 text-center text-muted-foreground",children:"В этой категории пока нет статей."})})})})]})};function OW(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const LW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,DW={};function xw(t,e){return(DW.jsx?zW:LW).test(t)}const $W=/[ \t\n\f\r]/g;function FW(t){return typeof t=="object"?t.type==="text"?ww(t.value):!1:ww(t)}function ww(t){return t.replace($W,"")===""}class Ol{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Ol.prototype.normal={};Ol.prototype.property={};Ol.prototype.space=void 0;function YN(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ol(n,r,e)}function dm(t){return t.toLowerCase()}class qt{constructor(e,n){this.attribute=n,this.property=e}}qt.prototype.attribute="";qt.prototype.booleanish=!1;qt.prototype.boolean=!1;qt.prototype.commaOrSpaceSeparated=!1;qt.prototype.commaSeparated=!1;qt.prototype.defined=!1;qt.prototype.mustUseProperty=!1;qt.prototype.number=!1;qt.prototype.overloadedBoolean=!1;qt.prototype.property="";qt.prototype.spaceSeparated=!1;qt.prototype.space=void 0;let BW=0;const ce=ys(),Ze=ys(),ZN=ys(),q=ys(),Ae=ys(),lo=ys(),Kt=ys();function ys(){return 2**++BW}const hm=Object.freeze(Object.defineProperty({__proto__:null,boolean:ce,booleanish:Ze,commaOrSpaceSeparated:Kt,commaSeparated:lo,number:q,overloadedBoolean:ZN,spaceSeparated:Ae},Symbol.toStringTag,{value:"Module"})),wf=Object.keys(hm);class _v extends qt{constructor(e,n,r,i){let s=-1;if(super(e,n),bw(this,"space",i),typeof r=="number")for(;++s<wf.length;){const o=wf[s];bw(this,wf[s],(r&hm[o])===hm[o])}}}_v.prototype.defined=!0;function bw(t,e,n){n&&(t[e]=n)}function $o(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new _v(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[dm(r)]=r,n[dm(s.attribute)]=r}return new Ol(e,n,t.space)}const QN=$o({properties:{ariaActiveDescendant:null,ariaAtomic:Ze,ariaAutoComplete:null,ariaBusy:Ze,ariaChecked:Ze,ariaColCount:q,ariaColIndex:q,ariaColSpan:q,ariaControls:Ae,ariaCurrent:null,ariaDescribedBy:Ae,ariaDetails:null,ariaDisabled:Ze,ariaDropEffect:Ae,ariaErrorMessage:null,ariaExpanded:Ze,ariaFlowTo:Ae,ariaGrabbed:Ze,ariaHasPopup:null,ariaHidden:Ze,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ae,ariaLevel:q,ariaLive:null,ariaModal:Ze,ariaMultiLine:Ze,ariaMultiSelectable:Ze,ariaOrientation:null,ariaOwns:Ae,ariaPlaceholder:null,ariaPosInSet:q,ariaPressed:Ze,ariaReadOnly:Ze,ariaRelevant:null,ariaRequired:Ze,ariaRoleDescription:Ae,ariaRowCount:q,ariaRowIndex:q,ariaRowSpan:q,ariaSelected:Ze,ariaSetSize:q,ariaSort:null,ariaValueMax:q,ariaValueMin:q,ariaValueNow:q,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function JN(t,e){return e in t?t[e]:e}function eT(t,e){return JN(t,e.toLowerCase())}const VW=$o({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lo,acceptCharset:Ae,accessKey:Ae,action:null,allow:null,allowFullScreen:ce,allowPaymentRequest:ce,allowUserMedia:ce,alt:null,as:null,async:ce,autoCapitalize:null,autoComplete:Ae,autoFocus:ce,autoPlay:ce,blocking:Ae,capture:null,charSet:null,checked:ce,cite:null,className:Ae,cols:q,colSpan:null,content:null,contentEditable:Ze,controls:ce,controlsList:Ae,coords:q|lo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ce,defer:ce,dir:null,dirName:null,disabled:ce,download:ZN,draggable:Ze,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ce,formTarget:null,headers:Ae,height:q,hidden:ce,high:q,href:null,hrefLang:null,htmlFor:Ae,httpEquiv:Ae,id:null,imageSizes:null,imageSrcSet:null,inert:ce,inputMode:null,integrity:null,is:null,isMap:ce,itemId:null,itemProp:Ae,itemRef:Ae,itemScope:ce,itemType:Ae,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ce,low:q,manifest:null,max:null,maxLength:q,media:null,method:null,min:null,minLength:q,multiple:ce,muted:ce,name:null,nonce:null,noModule:ce,noValidate:ce,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ce,optimum:q,pattern:null,ping:Ae,placeholder:null,playsInline:ce,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ce,referrerPolicy:null,rel:Ae,required:ce,reversed:ce,rows:q,rowSpan:q,sandbox:Ae,scope:null,scoped:ce,seamless:ce,selected:ce,shadowRootClonable:ce,shadowRootDelegatesFocus:ce,shadowRootMode:null,shape:null,size:q,sizes:null,slot:null,span:q,spellCheck:Ze,src:null,srcDoc:null,srcLang:null,srcSet:null,start:q,step:null,style:null,tabIndex:q,target:null,title:null,translate:null,type:null,typeMustMatch:ce,useMap:null,value:Ze,width:q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ae,axis:null,background:null,bgColor:null,border:q,borderColor:null,bottomMargin:q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ce,declare:ce,event:null,face:null,frame:null,frameBorder:null,hSpace:q,leftMargin:q,link:null,longDesc:null,lowSrc:null,marginHeight:q,marginWidth:q,noResize:ce,noHref:ce,noShade:ce,noWrap:ce,object:null,profile:null,prompt:null,rev:null,rightMargin:q,rules:null,scheme:null,scrolling:Ze,standby:null,summary:null,text:null,topMargin:q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ce,disableRemotePlayback:ce,prefix:null,property:null,results:q,security:null,unselectable:null},space:"html",transform:eT}),WW=$o({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kt,accentHeight:q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:q,amplitude:q,arabicForm:null,ascent:q,attributeName:null,attributeType:null,azimuth:q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:q,by:null,calcMode:null,capHeight:q,className:Ae,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:q,diffuseConstant:q,direction:null,display:null,dur:null,divisor:q,dominantBaseline:null,download:ce,dx:null,dy:null,edgeMode:null,editable:null,elevation:q,enableBackground:null,end:null,event:null,exponent:q,externalResourcesRequired:null,fill:null,fillOpacity:q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lo,g2:lo,glyphName:lo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:q,horizOriginX:q,horizOriginY:q,id:null,ideographic:q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:q,k:q,k1:q,k2:q,k3:q,k4:q,kernelMatrix:Kt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:q,overlineThickness:q,paintOrder:null,panose1:null,path:null,pathLength:q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ae,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:q,pointsAtY:q,pointsAtZ:q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kt,rev:Kt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kt,requiredFeatures:Kt,requiredFonts:Kt,requiredFormats:Kt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:q,specularExponent:q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:q,strikethroughThickness:q,string:null,stroke:null,strokeDashArray:Kt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:q,strokeOpacity:q,strokeWidth:null,style:null,surfaceScale:q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kt,tabIndex:q,tableValues:null,target:null,targetX:q,targetY:q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:q,underlineThickness:q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:q,values:null,vAlphabetic:q,vMathematical:q,vectorEffect:null,vHanging:q,vIdeographic:q,version:null,vertAdvY:q,vertOriginX:q,vertOriginY:q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:JN}),tT=$o({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),nT=$o({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:eT}),rT=$o({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),UW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},HW=/[A-Z]/g,Sw=/-[a-z]/g,qW=/^data[-\w.:]+$/i;function GW(t,e){const n=dm(e);let r=e,i=qt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&qW.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Sw,XW);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Sw.test(s)){let o=s.replace(HW,KW);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=_v}return new i(r,e)}function KW(t){return"-"+t.toLowerCase()}function XW(t){return t.charAt(1).toUpperCase()}const YW=YN([QN,VW,tT,nT,rT],"html"),Nv=YN([QN,WW,tT,nT,rT],"svg");function ZW(t){return t.join(" ").trim()}var Tv={},kw=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,QW=/\n/g,JW=/^\s*/,eU=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,tU=/^:\s*/,nU=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,rU=/^[;\s]*/,iU=/^\s+|\s+$/g,sU=`
`,Cw="/",Ew="*",Di="",oU="comment",aU="declaration",lU=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(g){var m=g.match(QW);m&&(n+=m.length);var w=g.lastIndexOf(sU);r=~w?g.length-w:r+g.length}function s(){var g={line:n,column:r};return function(m){return m.position=new o(g),c(),m}}function o(g){this.start=g,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(g){var m=new Error(e.source+":"+n+":"+r+": "+g);if(m.reason=g,m.filename=e.source,m.line=n,m.column=r,m.source=t,!e.silent)throw m}function l(g){var m=g.exec(t);if(m){var w=m[0];return i(w),t=t.slice(w.length),m}}function c(){l(JW)}function u(g){var m;for(g=g||[];m=d();)m!==!1&&g.push(m);return g}function d(){var g=s();if(!(Cw!=t.charAt(0)||Ew!=t.charAt(1))){for(var m=2;Di!=t.charAt(m)&&(Ew!=t.charAt(m)||Cw!=t.charAt(m+1));)++m;if(m+=2,Di===t.charAt(m-1))return a("End of comment missing");var w=t.slice(2,m-2);return r+=2,i(w),t=t.slice(m),r+=2,g({type:oU,comment:w})}}function f(){var g=s(),m=l(eU);if(m){if(d(),!l(tU))return a("property missing ':'");var w=l(nU),y=g({type:aU,property:_w(m[0].replace(kw,Di)),value:w?_w(w[0].replace(kw,Di)):Di});return l(rU),y}}function p(){var g=[];u(g);for(var m;m=f();)m!==!1&&(g.push(m),u(g));return g}return c(),p()};function _w(t){return t?t.replace(iU,Di):Di}var cU=qc&&qc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.default=dU;var uU=cU(lU);function dU(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,uU.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.camelCase=void 0;var hU=/^--[a-zA-Z0-9_-]+$/,fU=/-([a-z])/g,pU=/^[^-]+$/,mU=/^-(webkit|moz|ms|o|khtml)-/,gU=/^-(ms)-/,vU=function(t){return!t||pU.test(t)||hU.test(t)},yU=function(t,e){return e.toUpperCase()},Nw=function(t,e){return"".concat(e,"-")},xU=function(t,e){return e===void 0&&(e={}),vU(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(gU,Nw):t=t.replace(mU,Nw),t.replace(fU,yU))};eh.camelCase=xU;var wU=qc&&qc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},bU=wU(Tv),SU=eh;function fm(t,e){var n={};return!t||typeof t!="string"||(0,bU.default)(t,function(r,i){r&&i&&(n[(0,SU.camelCase)(r,e)]=i)}),n}fm.default=fm;var kU=fm;const CU=yl(kU),iT=sT("end"),Pv=sT("start");function sT(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function EU(t){const e=Pv(t),n=iT(t);if(e&&n)return{start:e,end:n}}function Na(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Tw(t.position):"start"in t||"end"in t?Tw(t):"line"in t||"column"in t?pm(t):""}function pm(t){return Pw(t&&t.line)+":"+Pw(t&&t.column)}function Tw(t){return pm(t&&t.start)+"-"+pm(t&&t.end)}function Pw(t){return t&&typeof t=="number"?t:1}class xt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Na(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}xt.prototype.file="";xt.prototype.name="";xt.prototype.reason="";xt.prototype.message="";xt.prototype.stack="";xt.prototype.column=void 0;xt.prototype.line=void 0;xt.prototype.ancestors=void 0;xt.prototype.cause=void 0;xt.prototype.fatal=void 0;xt.prototype.place=void 0;xt.prototype.ruleId=void 0;xt.prototype.source=void 0;const jv={}.hasOwnProperty,_U=new Map,NU=/[A-Z]/g,TU=new Set(["table","tbody","thead","tfoot","tr"]),PU=new Set(["td","th"]),oT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function jU(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=DU(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=zU(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Nv:YW,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=aT(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function aT(t,e,n){if(e.type==="element")return RU(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return MU(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return IU(t,e,n);if(e.type==="mdxjsEsm")return AU(t,e);if(e.type==="root")return OU(t,e,n);if(e.type==="text")return LU(t,e)}function RU(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Nv,t.schema=i),t.ancestors.push(e);const s=cT(t,e.tagName,!1),o=$U(t,e);let a=Mv(t,e);return TU.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!FW(l):!0})),lT(t,o,s,e),Rv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function MU(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}vl(t,e.position)}function AU(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);vl(t,e.position)}function IU(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Nv,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:cT(t,e.name,!0),o=FU(t,e),a=Mv(t,e);return lT(t,o,s,e),Rv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function OU(t,e,n){const r={};return Rv(r,Mv(t,e)),t.create(e,t.Fragment,r,n)}function LU(t,e){return e.value}function lT(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Rv(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function zU(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function DU(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=Pv(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function $U(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&jv.call(e.properties,i)){const s=BU(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&PU.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function FU(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else vl(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else vl(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Mv(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:_U;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=aT(t,s,o);a!==void 0&&n.push(a)}return n}function BU(t,e,n){const r=GW(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?OW(n):ZW(n)),r.property==="style"){let i=typeof n=="object"?n:VU(t,String(n));return t.stylePropertyNameCase==="css"&&(i=WU(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?UW[r.property]||r.property:r.attribute,n]}}function VU(t,e){try{return CU(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new xt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=oT+"#cannot-parse-style-attribute",i}}function cT(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=xw(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=xw(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return jv.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);vl(t)}function vl(t,e){const n=new xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=oT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function WU(t){const e={};let n;for(n in t)jv.call(t,n)&&(e[UU(n)]=t[n]);return e}function UU(t){let e=t.replace(NU,HU);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function HU(t){return"-"+t.toLowerCase()}const bf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qU={};function GU(t,e){const n=qU,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return uT(t,r,i)}function uT(t,e,n){if(KU(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return jw(t.children,e,n)}return Array.isArray(t)?jw(t,e,n):""}function jw(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=uT(t[i],e,n);return r.join("")}function KU(t){return!!(t&&typeof t=="object")}const Rw=document.createElement("i");function Av(t){const e="&"+t+";";Rw.innerHTML=e;const n=Rw.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function or(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function dn(t,e){return t.length>0?(or(t,t.length,0,e),t):e}const Mw={}.hasOwnProperty;function XU(t){const e={};let n=-1;for(;++n<t.length;)YU(e,t[n]);return e}function YU(t,e){let n;for(n in e){const i=(Mw.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){Mw.call(i,o)||(i[o]=[]);const a=s[o];ZU(i[o],Array.isArray(a)?a:a?[a]:[])}}}function ZU(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);or(t,0,0,r)}function dT(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function co(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yn=Ri(/[A-Za-z]/),Qt=Ri(/[\dA-Za-z]/),QU=Ri(/[#-'*+\--9=?A-Z^-~]/);function mm(t){return t!==null&&(t<32||t===127)}const gm=Ri(/\d/),JU=Ri(/[\dA-Fa-f]/),e6=Ri(/[!-/:-@[-`{-~]/);function ae(t){return t!==null&&t<-2}function Ut(t){return t!==null&&(t<0||t===32)}function Ne(t){return t===-2||t===-1||t===32}const t6=Ri(new RegExp("\\p{P}|\\p{S}","u")),n6=Ri(/\s/);function Ri(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Fo(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Qt(t.charCodeAt(n+1))&&Qt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Oe(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Ne(l)?(t.enter(n),a(l)):e(l)}function a(l){return Ne(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const r6={tokenize:i6};function i6(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Oe(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return ae(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const s6={tokenize:o6},Aw={tokenize:a6};function o6(t){const e=this,n=[];let r=0,i,s,o;return a;function a(b){if(r<n.length){const S=n[r];return e.containerState=S[1],t.attempt(S[0].continuation,l,c)(b)}return c(b)}function l(b){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const S=e.events.length;let C=S,k;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){k=e.events[C][1].end;break}y(r);let _=S;for(;_<e.events.length;)e.events[_][1].end={...k},_++;return or(e.events,C+1,0,e.events.slice(S)),e.events.length=_,c(b)}return a(b)}function c(b){if(r===n.length){if(!i)return f(b);if(i.currentConstruct&&i.currentConstruct.concrete)return g(b);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Aw,u,d)(b)}function u(b){return i&&x(),y(r),f(b)}function d(b){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,g(b)}function f(b){return e.containerState={},t.attempt(Aw,p,g)(b)}function p(b){return r++,n.push([e.currentConstruct,e.containerState]),f(b)}function g(b){if(b===null){i&&x(),y(0),t.consume(b);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(b)}function m(b){if(b===null){w(t.exit("chunkFlow"),!0),y(0),t.consume(b);return}return ae(b)?(t.consume(b),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(b),m)}function w(b,S){const C=e.sliceStream(b);if(S&&C.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(C),e.parser.lazy[b.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<o&&(!i.events[k][1].end||i.events[k][1].end.offset>o))return;const _=e.events.length;let N=_,M,R;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(M){R=e.events[N][1].end;break}M=!0}for(y(r),k=_;k<e.events.length;)e.events[k][1].end={...R},k++;or(e.events,N+1,0,e.events.slice(_)),e.events.length=k}}function y(b){let S=n.length;for(;S-- >b;){const C=n[S];e.containerState=C[1],C[0].exit.call(e,t)}n.length=b}function x(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function a6(t,e,n){return Oe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Iw(t){if(t===null||Ut(t)||n6(t))return 1;if(t6(t))return 2}function Iv(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const vm={name:"attention",resolveAll:l6,tokenize:c6};function l6(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},f={...t[n][1].start};Ow(d,-l),Ow(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=dn(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=dn(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=dn(c,Iv(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=dn(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=dn(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,or(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function c6(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Iw(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=Iw(l),d=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?d:d&&(i||!f)),c._close=!!(s===42?f:f&&(u||!d)),e(l)}}function Ow(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const u6={name:"autolink",tokenize:d6};function d6(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return Yn(p)?(t.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||Qt(p)?(r=1,a(p)):c(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Qt(p))&&r++<32?(t.consume(p),a):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||mm(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),u):QU(p)?(t.consume(p),c):n(p)}function u(p){return Qt(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,u):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||Qt(p))&&r++<63){const g=p===45?f:d;return t.consume(p),g}return n(p)}}const th={partial:!0,tokenize:h6};function h6(t,e,n){return r;function r(s){return Ne(s)?Oe(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||ae(s)?e(s):n(s)}}const hT={continuation:{tokenize:p6},exit:m6,name:"blockQuote",tokenize:f6};function f6(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ne(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function p6(t,e,n){const r=this;return i;function i(o){return Ne(o)?Oe(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(hT,e,n)(o)}}function m6(t){t.exit("blockQuote")}const fT={name:"characterEscape",tokenize:g6};function g6(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return e6(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const pT={name:"characterReference",tokenize:v6};function v6(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Qt,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=JU,u):(t.enter("characterReferenceValue"),s=7,o=gm,u(d))}function u(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return o===Qt&&!Av(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),u):n(d)}}const Lw={partial:!0,tokenize:x6},zw={concrete:!0,name:"codeFenced",tokenize:y6};function y6(t,e,n){const r=this,i={partial:!0,tokenize:C};let s=0,o=0,a;return l;function l(k){return c(k)}function c(k){const _=r.events[r.events.length-1];return s=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,a=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(k)}function u(k){return k===a?(o++,t.consume(k),u):o<3?n(k):(t.exit("codeFencedFenceSequence"),Ne(k)?Oe(t,d,"whitespace")(k):d(k))}function d(k){return k===null||ae(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(Lw,m,S)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(k))}function f(k){return k===null||ae(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(k)):Ne(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Oe(t,p,"whitespace")(k)):k===96&&k===a?n(k):(t.consume(k),f)}function p(k){return k===null||ae(k)?d(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(k))}function g(k){return k===null||ae(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(k)):k===96&&k===a?n(k):(t.consume(k),g)}function m(k){return t.attempt(i,S,w)(k)}function w(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),y}function y(k){return s>0&&Ne(k)?Oe(t,x,"linePrefix",s+1)(k):x(k)}function x(k){return k===null||ae(k)?t.check(Lw,m,S)(k):(t.enter("codeFlowValue"),b(k))}function b(k){return k===null||ae(k)?(t.exit("codeFlowValue"),x(k)):(t.consume(k),b)}function S(k){return t.exit("codeFenced"),e(k)}function C(k,_,N){let M=0;return R;function R(H){return k.enter("lineEnding"),k.consume(H),k.exit("lineEnding"),j}function j(H){return k.enter("codeFencedFence"),Ne(H)?Oe(k,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):P(H)}function P(H){return H===a?(k.enter("codeFencedFenceSequence"),L(H)):N(H)}function L(H){return H===a?(M++,k.consume(H),L):M>=o?(k.exit("codeFencedFenceSequence"),Ne(H)?Oe(k,I,"whitespace")(H):I(H)):N(H)}function I(H){return H===null||ae(H)?(k.exit("codeFencedFence"),_(H)):N(H)}}}function x6(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Sf={name:"codeIndented",tokenize:b6},w6={partial:!0,tokenize:S6};function b6(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Oe(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):ae(c)?t.attempt(w6,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||ae(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function S6(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ae(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Oe(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):ae(o)?i(o):n(o)}}const k6={name:"codeText",previous:E6,resolve:C6,tokenize:_6};function C6(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function E6(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function _6(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,u(d)):ae(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||ae(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class N6{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&na(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),na(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),na(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);na(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);na(this.left,n.reverse())}}}function na(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function mT(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new N6(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,T6(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return or(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function T6(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let u,d,f=-1,p=n,g=0,m=0;const w=[m];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,w.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),f=w.length;f--;){const y=a.slice(w[f],w[f+1]),x=s.pop();l.push([x,x+y.length-1]),t.splice(x,2,y)}for(l.reverse(),f=-1;++f<l.length;)c[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return c}const P6={resolve:R6,tokenize:M6},j6={partial:!0,tokenize:A6};function R6(t){return mT(t),t}function M6(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ae(a)?t.check(j6,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function A6(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Oe(t,s,"linePrefix")}function s(o){if(o===null||ae(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function gT(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(y){return y===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(y),t.exit(s),f):y===null||y===32||y===41||mm(y)?n(y):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),m(y))}function f(y){return y===62?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(t.exit("chunkString"),t.exit(a),f(y)):y===null||y===60||ae(y)?n(y):(t.consume(y),y===92?g:p)}function g(y){return y===60||y===62||y===92?(t.consume(y),p):p(y)}function m(y){return!u&&(y===null||y===41||Ut(y))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(y)):u<c&&y===40?(t.consume(y),u++,m):y===41?(t.consume(y),u--,m):y===null||y===32||y===40||mm(y)?n(y):(t.consume(y),y===92?w:m)}function w(y){return y===40||y===41||y===92?(t.consume(y),m):m(y)}}function vT(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),u}function u(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):ae(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||ae(p)||a++>999?(t.exit("chunkString"),u(p)):(t.consume(p),l||(l=!Ne(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function yT(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),c(f))}function c(f){return f===o?(t.exit(s),l(o)):f===null?n(f):ae(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Oe(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===o||f===null||ae(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?d:u)}function d(f){return f===o||f===92?(t.consume(f),u):u(f)}}function Ta(t,e){let n;return r;function r(i){return ae(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ne(i)?Oe(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const I6={name:"definition",tokenize:L6},O6={partial:!0,tokenize:z6};function L6(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return vT.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=co(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Ut(p)?Ta(t,c)(p):c(p)}function c(p){return gT(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return t.attempt(O6,d,d)(p)}function d(p){return Ne(p)?Oe(t,f,"whitespace")(p):f(p)}function f(p){return p===null||ae(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function z6(t,e,n){return r;function r(a){return Ut(a)?Ta(t,i)(a):n(a)}function i(a){return yT(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Ne(a)?Oe(t,o,"whitespace")(a):o(a)}function o(a){return a===null||ae(a)?e(a):n(a)}}const D6={name:"hardBreakEscape",tokenize:$6};function $6(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return ae(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const F6={name:"headingAtx",resolve:B6,tokenize:V6};function B6(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},or(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function V6(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||Ut(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||ae(u)?(t.exit("atxHeading"),e(u)):Ne(u)?Oe(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Ut(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const W6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Dw=["pre","script","style","textarea"],U6={concrete:!0,name:"htmlFlow",resolveTo:G6,tokenize:K6},H6={partial:!0,tokenize:Y6},q6={partial:!0,tokenize:X6};function G6(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function K6(t,e,n){const r=this;let i,s,o,a,l;return c;function c(T){return u(T)}function u(T){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(T),d}function d(T){return T===33?(t.consume(T),f):T===47?(t.consume(T),s=!0,m):T===63?(t.consume(T),i=3,r.interrupt?e:E):Yn(T)?(t.consume(T),o=String.fromCharCode(T),w):n(T)}function f(T){return T===45?(t.consume(T),i=2,p):T===91?(t.consume(T),i=5,a=0,g):Yn(T)?(t.consume(T),i=4,r.interrupt?e:E):n(T)}function p(T){return T===45?(t.consume(T),r.interrupt?e:E):n(T)}function g(T){const Se="CDATA[";return T===Se.charCodeAt(a++)?(t.consume(T),a===Se.length?r.interrupt?e:P:g):n(T)}function m(T){return Yn(T)?(t.consume(T),o=String.fromCharCode(T),w):n(T)}function w(T){if(T===null||T===47||T===62||Ut(T)){const Se=T===47,Ge=o.toLowerCase();return!Se&&!s&&Dw.includes(Ge)?(i=1,r.interrupt?e(T):P(T)):W6.includes(o.toLowerCase())?(i=6,Se?(t.consume(T),y):r.interrupt?e(T):P(T)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):s?x(T):b(T))}return T===45||Qt(T)?(t.consume(T),o+=String.fromCharCode(T),w):n(T)}function y(T){return T===62?(t.consume(T),r.interrupt?e:P):n(T)}function x(T){return Ne(T)?(t.consume(T),x):R(T)}function b(T){return T===47?(t.consume(T),R):T===58||T===95||Yn(T)?(t.consume(T),S):Ne(T)?(t.consume(T),b):R(T)}function S(T){return T===45||T===46||T===58||T===95||Qt(T)?(t.consume(T),S):C(T)}function C(T){return T===61?(t.consume(T),k):Ne(T)?(t.consume(T),C):b(T)}function k(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(t.consume(T),l=T,_):Ne(T)?(t.consume(T),k):N(T)}function _(T){return T===l?(t.consume(T),l=null,M):T===null||ae(T)?n(T):(t.consume(T),_)}function N(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Ut(T)?C(T):(t.consume(T),N)}function M(T){return T===47||T===62||Ne(T)?b(T):n(T)}function R(T){return T===62?(t.consume(T),j):n(T)}function j(T){return T===null||ae(T)?P(T):Ne(T)?(t.consume(T),j):n(T)}function P(T){return T===45&&i===2?(t.consume(T),V):T===60&&i===1?(t.consume(T),F):T===62&&i===4?(t.consume(T),X):T===63&&i===3?(t.consume(T),E):T===93&&i===5?(t.consume(T),A):ae(T)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(H6,he,L)(T)):T===null||ae(T)?(t.exit("htmlFlowData"),L(T)):(t.consume(T),P)}function L(T){return t.check(q6,I,he)(T)}function I(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),H}function H(T){return T===null||ae(T)?L(T):(t.enter("htmlFlowData"),P(T))}function V(T){return T===45?(t.consume(T),E):P(T)}function F(T){return T===47?(t.consume(T),o="",O):P(T)}function O(T){if(T===62){const Se=o.toLowerCase();return Dw.includes(Se)?(t.consume(T),X):P(T)}return Yn(T)&&o.length<8?(t.consume(T),o+=String.fromCharCode(T),O):P(T)}function A(T){return T===93?(t.consume(T),E):P(T)}function E(T){return T===62?(t.consume(T),X):T===45&&i===2?(t.consume(T),E):P(T)}function X(T){return T===null||ae(T)?(t.exit("htmlFlowData"),he(T)):(t.consume(T),X)}function he(T){return t.exit("htmlFlow"),e(T)}}function X6(t,e,n){const r=this;return i;function i(o){return ae(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function Y6(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(th,e,n)}}const Z6={name:"htmlText",tokenize:Q6};function Q6(t,e,n){const r=this;let i,s,o;return a;function a(E){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(E),l}function l(E){return E===33?(t.consume(E),c):E===47?(t.consume(E),C):E===63?(t.consume(E),b):Yn(E)?(t.consume(E),N):n(E)}function c(E){return E===45?(t.consume(E),u):E===91?(t.consume(E),s=0,g):Yn(E)?(t.consume(E),x):n(E)}function u(E){return E===45?(t.consume(E),p):n(E)}function d(E){return E===null?n(E):E===45?(t.consume(E),f):ae(E)?(o=d,F(E)):(t.consume(E),d)}function f(E){return E===45?(t.consume(E),p):d(E)}function p(E){return E===62?V(E):E===45?f(E):d(E)}function g(E){const X="CDATA[";return E===X.charCodeAt(s++)?(t.consume(E),s===X.length?m:g):n(E)}function m(E){return E===null?n(E):E===93?(t.consume(E),w):ae(E)?(o=m,F(E)):(t.consume(E),m)}function w(E){return E===93?(t.consume(E),y):m(E)}function y(E){return E===62?V(E):E===93?(t.consume(E),y):m(E)}function x(E){return E===null||E===62?V(E):ae(E)?(o=x,F(E)):(t.consume(E),x)}function b(E){return E===null?n(E):E===63?(t.consume(E),S):ae(E)?(o=b,F(E)):(t.consume(E),b)}function S(E){return E===62?V(E):b(E)}function C(E){return Yn(E)?(t.consume(E),k):n(E)}function k(E){return E===45||Qt(E)?(t.consume(E),k):_(E)}function _(E){return ae(E)?(o=_,F(E)):Ne(E)?(t.consume(E),_):V(E)}function N(E){return E===45||Qt(E)?(t.consume(E),N):E===47||E===62||Ut(E)?M(E):n(E)}function M(E){return E===47?(t.consume(E),V):E===58||E===95||Yn(E)?(t.consume(E),R):ae(E)?(o=M,F(E)):Ne(E)?(t.consume(E),M):V(E)}function R(E){return E===45||E===46||E===58||E===95||Qt(E)?(t.consume(E),R):j(E)}function j(E){return E===61?(t.consume(E),P):ae(E)?(o=j,F(E)):Ne(E)?(t.consume(E),j):M(E)}function P(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),i=E,L):ae(E)?(o=P,F(E)):Ne(E)?(t.consume(E),P):(t.consume(E),I)}function L(E){return E===i?(t.consume(E),i=void 0,H):E===null?n(E):ae(E)?(o=L,F(E)):(t.consume(E),L)}function I(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Ut(E)?M(E):(t.consume(E),I)}function H(E){return E===47||E===62||Ut(E)?M(E):n(E)}function V(E){return E===62?(t.consume(E),t.exit("htmlTextData"),t.exit("htmlText"),e):n(E)}function F(E){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),O}function O(E){return Ne(E)?Oe(t,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):A(E)}function A(E){return t.enter("htmlTextData"),o(E)}}const Ov={name:"labelEnd",resolveAll:nH,resolveTo:rH,tokenize:iH},J6={tokenize:sH},eH={tokenize:oH},tH={tokenize:aH};function nH(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&or(t,0,t.length,n),t}function rH(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=dn(a,t.slice(s+1,s+r+3)),a=dn(a,[["enter",u,e]]),a=dn(a,Iv(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=dn(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=dn(a,t.slice(o+1)),a=dn(a,[["exit",l,e]]),or(t,s,t.length,a),t}function iH(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(co(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(J6,u,o?u:d)(f):f===91?t.attempt(eH,u,o?c:d)(f):o?u(f):d(f)}function c(f){return t.attempt(tH,u,d)(f)}function u(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function sH(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Ut(d)?Ta(t,s)(d):s(d)}function s(d){return d===41?u(d):gT(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Ut(d)?Ta(t,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?yT(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Ut(d)?Ta(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function oH(t,e,n){const r=this;return i;function i(a){return vT.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(co(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function aH(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const lH={name:"labelStartImage",resolveAll:Ov.resolveAll,tokenize:cH};function cH(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const uH={name:"labelStartLink",resolveAll:Ov.resolveAll,tokenize:dH};function dH(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const kf={name:"lineEnding",tokenize:hH};function hH(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Oe(t,e,"linePrefix")}}const Uc={name:"thematicBreak",tokenize:fH};function fH(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||ae(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Ne(c)?Oe(t,a,"whitespace")(c):a(c))}}const It={continuation:{tokenize:vH},exit:xH,name:"list",tokenize:gH},pH={partial:!0,tokenize:wH},mH={partial:!0,tokenize:yH};function gH(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:gm(p)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Uc,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return gm(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(th,r.interrupt?n:u,t.attempt(pH,f,d))}function u(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return Ne(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function vH(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(th,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Oe(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ne(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(mH,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Oe(t,t.attempt(It,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function yH(t,e,n){const r=this;return Oe(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function xH(t){t.exit(this.containerState.type)}function wH(t,e,n){const r=this;return Oe(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Ne(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const $w={name:"setextUnderline",resolveTo:bH,tokenize:SH};function bH(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function SH(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Ne(c)?Oe(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ae(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const kH={tokenize:CH};function CH(t){const e=this,n=t.attempt(th,r,t.attempt(this.parser.constructs.flowInitial,i,Oe(t,t.attempt(this.parser.constructs.flow,i,t.attempt(P6,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const EH={resolveAll:wT()},_H=xT("string"),NH=xT("text");function xT(t){return{resolveAll:wT(t==="text"?TH:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function wT(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function TH(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const PH={42:It,43:It,45:It,48:It,49:It,50:It,51:It,52:It,53:It,54:It,55:It,56:It,57:It,62:hT},jH={91:I6},RH={[-2]:Sf,[-1]:Sf,32:Sf},MH={35:F6,42:Uc,45:[$w,Uc],60:U6,61:$w,95:Uc,96:zw,126:zw},AH={38:pT,92:fT},IH={[-5]:kf,[-4]:kf,[-3]:kf,33:lH,38:pT,42:vm,60:[u6,Z6],91:uH,92:[D6,fT],93:Ov,95:vm,96:k6},OH={null:[vm,EH]},LH={null:[42,95]},zH={null:[]},DH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:LH,contentInitial:jH,disable:zH,document:PH,flow:MH,flowInitial:RH,insideSpan:OH,string:AH,text:IH},Symbol.toStringTag,{value:"Module"}));function $H(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:_(C),check:_(k),consume:x,enter:b,exit:S,interrupt:_(k,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(j){return o=dn(o,j),w(),o[o.length-1]!==null?[]:(N(e,0),c.events=Iv(s,c.events,c),c.events)}function f(j,P){return BH(p(j),P)}function p(j){return FH(o,j)}function g(){const{_bufferIndex:j,_index:P,line:L,column:I,offset:H}=r;return{_bufferIndex:j,_index:P,line:L,column:I,offset:H}}function m(j){i[j.line]=j.column,R()}function w(){let j;for(;r._index<o.length;){const P=o[r._index];if(typeof P=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<P.length;)y(P.charCodeAt(r._bufferIndex));else y(P)}}function y(j){u=u(j)}function x(j){ae(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,R()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=j}function b(j,P){const L=P||{};return L.type=j,L.start=g(),c.events.push(["enter",L,c]),a.push(L),L}function S(j){const P=a.pop();return P.end=g(),c.events.push(["exit",P,c]),P}function C(j,P){N(j,P.from)}function k(j,P){P.restore()}function _(j,P){return L;function L(I,H,V){let F,O,A,E;return Array.isArray(I)?he(I):"tokenize"in I?he([I]):X(I);function X(xe){return ee;function ee(Q){const ge=Q!==null&&xe[Q],re=Q!==null&&xe.null,ve=[...Array.isArray(ge)?ge:ge?[ge]:[],...Array.isArray(re)?re:re?[re]:[]];return he(ve)(Q)}}function he(xe){return F=xe,O=0,xe.length===0?V:T(xe[O])}function T(xe){return ee;function ee(Q){return E=M(),A=xe,xe.partial||(c.currentConstruct=xe),xe.name&&c.parser.constructs.disable.null.includes(xe.name)?Ge():xe.tokenize.call(P?Object.assign(Object.create(c),P):c,l,Se,Ge)(Q)}}function Se(xe){return j(A,E),H}function Ge(xe){return E.restore(),++O<F.length?T(F[O]):V}}}function N(j,P){j.resolveAll&&!s.includes(j)&&s.push(j),j.resolve&&or(c.events,P,c.events.length-P,j.resolve(c.events.slice(P),c)),j.resolveTo&&(c.events=j.resolveTo(c.events,c))}function M(){const j=g(),P=c.previous,L=c.currentConstruct,I=c.events.length,H=Array.from(a);return{from:I,restore:V};function V(){r=j,c.previous=P,c.currentConstruct=L,c.events.length=I,a=H,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function FH(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function BH(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function VH(t){const r={constructs:XU([DH,...(t||{}).extensions||[]]),content:i(r6),defined:[],document:i(s6),flow:i(kH),lazy:{},string:i(_H),text:i(NH)};return r;function i(s){return o;function o(a){return $H(r,s,a)}}}function WH(t){for(;!mT(t););return t}const Fw=/[\0\t\n\r]/g;function UH(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Fw.lastIndex=d,c=Fw.exec(s),f=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(f),!c){e=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const HH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qH(t){return t.replace(HH,GH)}function GH(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return dT(n.slice(s?2:1),s?16:10)}return Av(n)||t}const bT={}.hasOwnProperty;function KH(t,e,n){return typeof e!="string"&&(n=e,e=void 0),XH(n)(WH(VH(n).document().write(UH()(t,e,!0))))}function XH(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Mi),autolinkProtocol:M,autolinkEmail:M,atxHeading:s(Mt),blockQuote:s(re),characterEscape:M,characterReference:M,codeFenced:s(ve),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ve,o),codeText:s(we,o),codeTextData:M,data:M,codeFlowValue:M,definition:s(rt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(wt),hardBreakEscape:s(At),hardBreakTrailing:s(At),htmlFlow:s(Fr,o),htmlFlowData:M,htmlText:s(Fr,o),htmlTextData:M,image:s(oh),label:o,link:s(Mi),listItem:s(RP),listItemValue:f,listOrdered:s(Jv,d),listUnordered:s(Jv),paragraph:s(MP),reference:T,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Mt),strong:s(AP),thematicBreak:s(OP)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:ge,autolinkProtocol:Q,blockQuote:l(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:Ge,characterReferenceMarkerNumeric:Ge,characterReferenceValue:xe,characterReference:ee,codeFenced:l(w),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:R,codeIndented:l(y),codeText:l(H),codeTextData:R,data:R,definition:l(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(P),hardBreakTrailing:l(P),htmlFlow:l(L),htmlFlowData:R,htmlText:l(I),htmlTextData:R,image:l(F),label:A,labelText:O,lineEnding:j,link:l(V),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Se,resourceDestinationString:E,resourceTitleString:X,resource:he,setextHeading:l(N),setextHeadingLineSequence:_,setextHeadingText:k,strong:l(),thematicBreak:l()}};ST(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(D){let G={type:"root",children:[]};const le={stack:[G],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},be=[];let Me=-1;for(;++Me<D.length;)if(D[Me][1].type==="listOrdered"||D[Me][1].type==="listUnordered")if(D[Me][0]==="enter")be.push(Me);else{const xn=be.pop();Me=i(D,xn,Me)}for(Me=-1;++Me<D.length;){const xn=e[D[Me][0]];bT.call(xn,D[Me][1].type)&&xn[D[Me][1].type].call(Object.assign({sliceSerialize:D[Me][2].sliceSerialize},le),D[Me][1])}if(le.tokenStack.length>0){const xn=le.tokenStack[le.tokenStack.length-1];(xn[1]||Bw).call(le,void 0,xn[0])}for(G.position={start:qr(D.length>0?D[0][1].start:{line:1,column:1,offset:0}),end:qr(D.length>0?D[D.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<e.transforms.length;)G=e.transforms[Me](G)||G;return G}function i(D,G,le){let be=G-1,Me=-1,xn=!1,Ai,ur,Bo,Vo;for(;++be<=le;){const Gt=D[be];switch(Gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Gt[0]==="enter"?Me++:Me--,Vo=void 0;break}case"lineEndingBlank":{Gt[0]==="enter"&&(Ai&&!Vo&&!Me&&!Bo&&(Bo=be),Vo=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Vo=void 0}if(!Me&&Gt[0]==="enter"&&Gt[1].type==="listItemPrefix"||Me===-1&&Gt[0]==="exit"&&(Gt[1].type==="listUnordered"||Gt[1].type==="listOrdered")){if(Ai){let xs=be;for(ur=void 0;xs--;){const dr=D[xs];if(dr[1].type==="lineEnding"||dr[1].type==="lineEndingBlank"){if(dr[0]==="exit")continue;ur&&(D[ur][1].type="lineEndingBlank",xn=!0),dr[1].type="lineEnding",ur=xs}else if(!(dr[1].type==="linePrefix"||dr[1].type==="blockQuotePrefix"||dr[1].type==="blockQuotePrefixWhitespace"||dr[1].type==="blockQuoteMarker"||dr[1].type==="listItemIndent"))break}Bo&&(!ur||Bo<ur)&&(Ai._spread=!0),Ai.end=Object.assign({},ur?D[ur][1].start:Gt[1].end),D.splice(ur||be,0,["exit",Ai,Gt[2]]),be++,le++}if(Gt[1].type==="listItemPrefix"){const xs={type:"listItem",_spread:!1,start:Object.assign({},Gt[1].start),end:void 0};Ai=xs,D.splice(be,0,["enter",xs,Gt[2]]),be++,le++,Bo=void 0,Vo=!0}}}return D[G][1]._spread=xn,le}function s(D,G){return le;function le(be){a.call(this,D(be),be),G&&G.call(this,be)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(D,G,le){this.stack[this.stack.length-1].children.push(D),this.stack.push(D),this.tokenStack.push([G,le||void 0]),D.position={start:qr(G.start),end:void 0}}function l(D){return G;function G(le){D&&D.call(this,le),c.call(this,le)}}function c(D,G){const le=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==D.type&&(G?G.call(this,D,be[0]):(be[1]||Bw).call(this,D,be[0]));else throw new Error("Cannot close `"+D.type+"` ("+Na({start:D.start,end:D.end})+"): it’s not open");le.position.end=qr(D.end)}function u(){return GU(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(D){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(D),10),this.data.expectingFirstListItemValue=void 0}}function p(){const D=this.resume(),G=this.stack[this.stack.length-1];G.lang=D}function g(){const D=this.resume(),G=this.stack[this.stack.length-1];G.meta=D}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const D=this.resume(),G=this.stack[this.stack.length-1];G.value=D.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const D=this.resume(),G=this.stack[this.stack.length-1];G.value=D.replace(/(\r?\n|\r)$/g,"")}function x(D){const G=this.resume(),le=this.stack[this.stack.length-1];le.label=G,le.identifier=co(this.sliceSerialize(D)).toLowerCase()}function b(){const D=this.resume(),G=this.stack[this.stack.length-1];G.title=D}function S(){const D=this.resume(),G=this.stack[this.stack.length-1];G.url=D}function C(D){const G=this.stack[this.stack.length-1];if(!G.depth){const le=this.sliceSerialize(D).length;G.depth=le}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function _(D){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(D).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function M(D){const le=this.stack[this.stack.length-1].children;let be=le[le.length-1];(!be||be.type!=="text")&&(be=IP(),be.position={start:qr(D.start),end:void 0},le.push(be)),this.stack.push(be)}function R(D){const G=this.stack.pop();G.value+=this.sliceSerialize(D),G.position.end=qr(D.end)}function j(D){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const le=G.children[G.children.length-1];le.position.end=qr(D.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(G.type)&&(M.call(this,D),R.call(this,D))}function P(){this.data.atHardBreak=!0}function L(){const D=this.resume(),G=this.stack[this.stack.length-1];G.value=D}function I(){const D=this.resume(),G=this.stack[this.stack.length-1];G.value=D}function H(){const D=this.resume(),G=this.stack[this.stack.length-1];G.value=D}function V(){const D=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";D.type+="Reference",D.referenceType=G,delete D.url,delete D.title}else delete D.identifier,delete D.label;this.data.referenceType=void 0}function F(){const D=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";D.type+="Reference",D.referenceType=G,delete D.url,delete D.title}else delete D.identifier,delete D.label;this.data.referenceType=void 0}function O(D){const G=this.sliceSerialize(D),le=this.stack[this.stack.length-2];le.label=qH(G),le.identifier=co(G).toLowerCase()}function A(){const D=this.stack[this.stack.length-1],G=this.resume(),le=this.stack[this.stack.length-1];if(this.data.inReference=!0,le.type==="link"){const be=D.children;le.children=be}else le.alt=G}function E(){const D=this.resume(),G=this.stack[this.stack.length-1];G.url=D}function X(){const D=this.resume(),G=this.stack[this.stack.length-1];G.title=D}function he(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function Se(D){const G=this.resume(),le=this.stack[this.stack.length-1];le.label=G,le.identifier=co(this.sliceSerialize(D)).toLowerCase(),this.data.referenceType="full"}function Ge(D){this.data.characterReferenceType=D.type}function xe(D){const G=this.sliceSerialize(D),le=this.data.characterReferenceType;let be;le?(be=dT(G,le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=Av(G);const Me=this.stack[this.stack.length-1];Me.value+=be}function ee(D){const G=this.stack.pop();G.position.end=qr(D.end)}function Q(D){R.call(this,D);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(D)}function ge(D){R.call(this,D);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(D)}function re(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function we(){return{type:"inlineCode",value:""}}function rt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function wt(){return{type:"emphasis",children:[]}}function Mt(){return{type:"heading",depth:0,children:[]}}function At(){return{type:"break"}}function Fr(){return{type:"html",value:""}}function oh(){return{type:"image",title:null,url:"",alt:null}}function Mi(){return{type:"link",title:null,url:"",children:[]}}function Jv(D){return{type:"list",ordered:D.type==="listOrdered",start:null,spread:D._spread,children:[]}}function RP(D){return{type:"listItem",spread:D._spread,checked:null,children:[]}}function MP(){return{type:"paragraph",children:[]}}function AP(){return{type:"strong",children:[]}}function IP(){return{type:"text",value:""}}function OP(){return{type:"thematicBreak"}}}function qr(t){return{line:t.line,column:t.column,offset:t.offset}}function ST(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?ST(t,r):YH(t,r)}}function YH(t,e){let n;for(n in e)if(bT.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Bw(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Na({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Na({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Na({start:e.start,end:e.end})+") is still open")}function ZH(t){const e=this;e.parser=n;function n(r){return KH(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function QH(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function JH(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function e9(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function t9(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function n9(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function r9(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Fo(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function i9(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function s9(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function kT(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function o9(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return kT(t,e);const i={src:Fo(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function a9(t,e){const n={src:Fo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function l9(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function c9(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return kT(t,e);const i={href:Fo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function u9(t,e){const n={href:Fo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function d9(t,e,n){const r=t.all(e),i=n?h9(n):CT(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function h9(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=CT(n[r])}return e}function CT(t){const e=t.spread;return e??t.children.length>1}function f9(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function p9(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function m9(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function g9(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function v9(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=Pv(e.children[1]),l=iT(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function y9(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const d=e.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let g={type:"element",tagName:s,properties:f,children:[]};d&&(g.children=t.all(d),t.patch(d,g),g=t.applyData(d,g)),c.push(g)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function x9(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Vw=9,Ww=32;function w9(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(Uw(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(Uw(e.slice(i),i>0,!1)),s.join("")}function Uw(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===Vw||s===Ww;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===Vw||s===Ww;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function b9(t,e){const n={type:"text",value:w9(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function S9(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const k9={blockquote:QH,break:JH,code:e9,delete:t9,emphasis:n9,footnoteReference:r9,heading:i9,html:s9,imageReference:o9,image:a9,inlineCode:l9,linkReference:c9,link:u9,listItem:d9,list:f9,paragraph:p9,root:m9,strong:g9,table:v9,tableCell:x9,tableRow:y9,text:b9,thematicBreak:S9,toml:xc,yaml:xc,definition:xc,footnoteDefinition:xc};function xc(){}const ET=-1,nh=0,Pa=1,Hu=2,Lv=3,zv=4,Dv=5,$v=6,_T=7,NT=8,Hw=typeof self=="object"?self:globalThis,C9=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case nh:case ET:return n(o,i);case Pa:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Hu:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case Lv:return n(new Date(o),i);case zv:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Dv:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case $v:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case _T:{const{name:a,message:l}=o;return n(new Hw[a](l),i)}case NT:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new Hw[s](o),i)};return r},qw=t=>C9(new Map,t)(0),Ns="",{toString:E9}={},{keys:_9}=Object,ra=t=>{const e=typeof t;if(e!=="object"||!t)return[nh,e];const n=E9.call(t).slice(8,-1);switch(n){case"Array":return[Pa,Ns];case"Object":return[Hu,Ns];case"Date":return[Lv,Ns];case"RegExp":return[zv,Ns];case"Map":return[Dv,Ns];case"Set":return[$v,Ns];case"DataView":return[Pa,n]}return n.includes("Array")?[Pa,n]:n.includes("Error")?[_T,n]:[Hu,n]},wc=([t,e])=>t===nh&&(e==="function"||e==="symbol"),N9=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=ra(o);switch(a){case nh:{let u=o;switch(l){case"bigint":a=NT,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([ET],o)}return i([a,u],o)}case Pa:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const u=[],d=i([a,u],o);for(const f of o)u.push(s(f));return d}case Hu:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],d=i([a,u],o);for(const f of _9(o))(t||!wc(ra(o[f])))&&u.push([s(f),s(o[f])]);return d}case Lv:return i([a,o.toISOString()],o);case zv:{const{source:u,flags:d}=o;return i([a,{source:u,flags:d}],o)}case Dv:{const u=[],d=i([a,u],o);for(const[f,p]of o)(t||!(wc(ra(f))||wc(ra(p))))&&u.push([s(f),s(p)]);return d}case $v:{const u=[],d=i([a,u],o);for(const f of o)(t||!wc(ra(f)))&&u.push(s(f));return d}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},Gw=(t,{json:e,lossy:n}={})=>{const r=[];return N9(!(e||n),!!e,new Map,r)(t),r},qu=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?qw(Gw(t,e)):structuredClone(t):(t,e)=>qw(Gw(t,e));function T9(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function P9(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function j9(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||T9,r=t.options.footnoteBackLabel||P9,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),d=String(c.identifier).toUpperCase(),f=Fo(d.toLowerCase());let p=0;const g=[],m=t.footnoteCounts.get(d);for(;m!==void 0&&++p<=m;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=u[u.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else u.push(...g);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(u,!0)};t.patch(c,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...qu(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const TT=function(t){if(t==null)return I9;if(typeof t=="function")return rh(t);if(typeof t=="object")return Array.isArray(t)?R9(t):M9(t);if(typeof t=="string")return A9(t);throw new Error("Expected function, string, or object as test")};function R9(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=TT(t[n]);return rh(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function M9(t){const e=t;return rh(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function A9(t){return rh(e);function e(n){return n&&n.type===t}}function rh(t){return e;function e(n,r,i){return!!(O9(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function I9(){return!0}function O9(t){return t!==null&&typeof t=="object"&&"type"in t}const PT=[],L9=!0,Kw=!1,z9="skip";function D9(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=TT(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=PT,g,m,w;if((!e||s(l,c,u[u.length-1]||void 0))&&(p=$9(n(l,u)),p[0]===Kw))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==z9)for(m=(r?y.children.length:-1)+o,w=u.concat(y);m>-1&&m<y.children.length;){const x=y.children[m];if(g=a(x,m,w)(),g[0]===Kw)return g;m=typeof g[1]=="number"?g[1]:m+o}}return p}}}function $9(t){return Array.isArray(t)?t:typeof t=="number"?[L9,t]:t==null?PT:[t]}function jT(t,e,n,r){let i,s,o;typeof e=="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),D9(t,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const ym={}.hasOwnProperty,F9={};function B9(t,e){const n=e||F9,r=new Map,i=new Map,s=new Map,o={...k9,...n.handlers},a={all:c,applyData:W9,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:V9,wrap:H9};return jT(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,f=String(u.identifier).toUpperCase();d.has(f)||d.set(f,u)}}),a;function l(u,d){const f=u.type,p=a.handlers[f];if(ym.call(a.handlers,f)&&p)return p(a,u,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in u){const{children:m,...w}=u,y=qu(w);return y.children=a.all(u),y}return qu(u)}return(a.options.unknownHandler||U9)(a,u,d)}function c(u){const d=[];if("children"in u){const f=u.children;let p=-1;for(;++p<f.length;){const g=a.one(f[p],u);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Xw(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=Xw(m.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function V9(t,e){t.position&&(e.position=EU(t))}function W9(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,qu(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function U9(t,e){const n=e.data||{},r="value"in e&&!(ym.call(n,"hProperties")||ym.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function H9(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Xw(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Yw(t,e){const n=B9(t,e),r=n.one(t,void 0),i=j9(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function q9(t,e){return t&&"run"in t?async function(n,r){const i=Yw(n,{file:r,...e});await t.run(i,r)}:function(n,r){return Yw(n,{file:r,...t||e})}}function Zw(t){if(t)throw t}var Hc=Object.prototype.hasOwnProperty,RT=Object.prototype.toString,Qw=Object.defineProperty,Jw=Object.getOwnPropertyDescriptor,eb=function(e){return typeof Array.isArray=="function"?Array.isArray(e):RT.call(e)==="[object Array]"},tb=function(e){if(!e||RT.call(e)!=="[object Object]")return!1;var n=Hc.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Hc.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Hc.call(e,i)},nb=function(e,n){Qw&&n.name==="__proto__"?Qw(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},rb=function(e,n){if(n==="__proto__")if(Hc.call(e,n)){if(Jw)return Jw(e,n).value}else return;return e[n]},G9=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=rb(a,n),i=rb(e,n),a!==i&&(u&&i&&(tb(i)||(s=eb(i)))?(s?(s=!1,o=r&&eb(r)?r:[]):o=r&&tb(r)?r:{},nb(a,{name:n,newValue:t(u,o,i)})):typeof i<"u"&&nb(a,{name:n,newValue:i}));return a};const Cf=yl(G9);function xm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function K9(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?X9(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function X9(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const Hn={basename:Y9,dirname:Z9,extname:Q9,join:J9,sep:"/"};function Y9(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ll(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Z9(t){if(Ll(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Q9(t){Ll(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function J9(...t){let e=-1,n;for(;++e<t.length;)Ll(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":e8(n)}function e8(t){Ll(t);const e=t.codePointAt(0)===47;let n=t8(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function t8(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Ll(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const n8={cwd:r8};function r8(){return"/"}function wm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function i8(t){if(typeof t=="string")t=new URL(t);else if(!wm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return s8(t)}function s8(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Ef=["history","path","basename","stem","extname","dirname"];class MT{constructor(e){let n;e?wm(e)?n={path:e}:typeof e=="string"||o8(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":n8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ef.length;){const s=Ef[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Ef.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Hn.basename(this.path):void 0}set basename(e){Nf(e,"basename"),_f(e,"basename"),this.path=Hn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Hn.dirname(this.path):void 0}set dirname(e){ib(this.basename,"dirname"),this.path=Hn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Hn.extname(this.path):void 0}set extname(e){if(_f(e,"extname"),ib(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Hn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){wm(e)&&(e=i8(e)),Nf(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Hn.basename(this.path,this.extname):void 0}set stem(e){Nf(e,"stem"),_f(e,"stem"),this.path=Hn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new xt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function _f(t,e){if(t&&t.includes(Hn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Hn.sep+"`")}function Nf(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function ib(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function o8(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const a8=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},l8={}.hasOwnProperty;class Fv extends a8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=K9()}copy(){const e=new Fv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Cf(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(jf("data",this.frozen),this.namespace[e]=n,this):l8.call(this.namespace,e)&&this.namespace[e]||void 0:e?(jf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=bc(e),r=this.parser||this.Parser;return Tf("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Tf("process",this.parser||this.Parser),Pf("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=bc(e),l=r.parse(a);r.run(l,a,function(u,d,f){if(u||!d||!f)return c(u);const p=d,g=r.stringify(p,f);d8(g)?f.value=g:f.result=g,c(u,f)});function c(u,d){u||!d?o(u):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),Tf("processSync",this.parser||this.Parser),Pf("processSync",this.compiler||this.Compiler),this.process(e,i),ob("processSync","process",n),r;function i(s,o){n=!0,Zw(s),r=o}}run(e,n,r){sb(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=bc(n);i.run(e,l,c);function c(u,d,f){const p=d||e;u?a(u):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),ob("runSync","run",r),i;function s(o,a){Zw(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=bc(n),i=this.compiler||this.Compiler;return Pf("stringify",i),sb(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(jf("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=Cf(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===c){f=d;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[p,...g]=u;const m=r[f][1];xm(m)&&xm(p)&&(p=Cf(!0,m,p)),r[f]=[c,p,...g]}}}}const c8=new Fv().freeze();function Tf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Pf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function jf(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function sb(t){if(!xm(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function ob(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function bc(t){return u8(t)?t:new MT(t)}function u8(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function d8(t){return typeof t=="string"||h8(t)}function h8(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const f8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ab=[],lb={allowDangerousHtml:!0},p8=/^(https?|ircs?|mailto|xmpp)$/i,m8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function g8(t){const e=v8(t),n=y8(t);return x8(e.runSync(e.parse(n),n),t)}function v8(t){const e=t.rehypePlugins||ab,n=t.remarkPlugins||ab,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...lb}:lb;return c8().use(ZH).use(n).use(q9,r).use(e)}function y8(t){const e=t.children||"",n=new MT;return typeof e=="string"&&(n.value=e),n}function x8(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||w8;for(const u of m8)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+f8+u.id,void 0);return jT(t,c),jU(t,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(u,d,f){if(u.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let p;for(p in bf)if(Object.hasOwn(bf,p)&&Object.hasOwn(u.properties,p)){const g=u.properties[p],m=bf[p];(m===null||m.includes(u.tagName))&&(u.properties[p]=l(String(g||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):s?s.includes(u.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(u,d,f)),p&&f&&typeof d=="number")return a&&u.children?f.children.splice(d,1,...u.children):f.children.splice(d,1),d}}}function w8(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||p8.test(t.slice(0,e))?t:""}const b8=()=>{const{categoryId:t,articleId:e}=vs(),n=ut(),{tg:r}=Dn(),i=fn(l=>l.getArticleByIds),s=fn(l=>l.getCategoryById),o=v.useMemo(()=>i(t||"",e||""),[t,e,i]),a=v.useMemo(()=>s(t||""),[t,s]);if(v.useEffect(()=>{const l=()=>n(`/faq/${t}`);return r&&(r.BackButton.show(),r.onEvent("backButtonClicked",l),console.log("[FaqArticlePage] Telegram BackButton shown and handler attached.")),()=>{r&&(r.BackButton.hide(),r.offEvent("backButtonClicked",l),console.log("[FaqArticlePage] Telegram BackButton hidden and handler removed."))}},[r,n,t]),!a||!(a.isActive??!0)||!o||!o.content){const l=!a||!(a.isActive??!0)?`Категория FAQ "${t}" не найдена или неактивна.`:`Статья FAQ "${e}" не найдена или не имеет контента.`;return h.jsxs("div",{className:"p-4 text-center",children:[h.jsx(mt,{message:l}),h.jsxs(ie,{variant:"outline",onClick:()=>n(`/faq/${t}`),className:"mt-4",children:[h.jsx(Vt,{className:"mr-2 h-4 w-4"})," К списку статей"]})]})}return h.jsxs("div",{className:"p-4 pb-6 flex flex-col h-full",children:[h.jsxs("div",{className:"relative flex items-center justify-center h-12 mb-4 flex-shrink-0 border-b pb-4",children:[h.jsx(ie,{variant:"ghost",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 text-foreground/80 h-9 w-9 z-10",onClick:()=>n(`/faq/${t}`),children:h.jsx(Vt,{className:"h-5 w-5"})}),h.jsx("h1",{className:"text-lg font-semibold text-center truncate max-w-[calc(100%-5rem)]",title:o.title,children:o.title}),h.jsx("div",{className:"h-9 w-9 absolute right-0"})," "]}),h.jsx("div",{className:$("flex-grow overflow-y-auto no-scrollbar","prose prose-sm dark:prose-invert","max-w-none","prose-headings:font-semibold prose-a:text-primary hover:prose-a:underline","prose-li:my-1 prose-p:leading-relaxed","prose-strong:font-semibold","prose-headings:mt-6 prose-headings:mb-2 first:prose-headings:mt-0","prose-ul:pl-5 prose-ol:pl-5"),children:h.jsx(g8,{children:o.content})})]})},No=_i()(_l(t=>({isAdminAuthenticated:!1,isLoading:!0,login:()=>{console.log("[AdminAuthStore] Setting isAdminAuthenticated to true."),t({isAdminAuthenticated:!0,isLoading:!1})},logout:()=>{console.log("[AdminAuthStore] Setting isAdminAuthenticated to false."),t({isAdminAuthenticated:!1,isLoading:!1})}}),{name:"admin-auth-storage",storage:Io(()=>sessionStorage),onRehydrateStorage:()=>t=>{console.log("[AdminAuthStore] onRehydrateStorage: Hydration complete."),t?(t.isLoading=!1,console.log(`[AdminAuthStore] onRehydrateStorage: State initialized. isLoading: ${t.isLoading}, isAdminAuthenticated: ${t.isAdminAuthenticated}`)):(console.warn("[AdminAuthStore] onRehydrateStorage: Rehydrated state is null."),No.setState({isLoading:!1,isAdminAuthenticated:!1}))},partialize:t=>({isAdminAuthenticated:t.isAdminAuthenticated})}));No.getState().isLoading&&No.setState({isLoading:!1});const S8=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[i,s]=v.useState(!1),{toast:o}=cr(),a=ut(),l=No(f=>f.login),c=ar(f=>f.login),u=async()=>{var f;s(!0);try{console.log("[AdminLogin] Attempting login via /Account/LoginByLogPassPair...");const p=await mB(t,n);if(p.isSuccess&&((f=p.resultObject)!=null&&f.jwt))console.log("[AdminLogin] API login successful. Setting user and admin state."),c(p.resultObject.userId,p.resultObject.jwt),l(),o({title:"Успешный вход",description:"Добро пожаловать, администратор!",variant:"success"}),a("/admin/panel");else throw new Error(p.errorMessage||"Не удалось войти. Проверьте логин и пароль.")}catch(p){console.error("[AdminLogin] Login failed:",p),o({title:"Ошибка входа",description:p.message||"Произошла неизвестная ошибка.",variant:"destructive"}),s(!1)}},d=t.length>0&&n.length>0&&!i;return h.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-muted/40",children:h.jsxs(_t,{className:"w-full max-w-sm shadow-lg rounded-xl",children:[h.jsxs(Lr,{className:"items-center text-center space-y-2 pt-8 pb-6",children:[h.jsx(cz,{className:"h-12 w-12 text-primary mb-2"}),h.jsx(Ti,{className:"text-2xl font-bold",children:"Вход для администратора"}),h.jsx(kd,{children:"Введите учетные данные"})]}),h.jsxs(vn,{className:"space-y-5 px-6 pb-8",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ct,{htmlFor:"username",children:"Логин"}),h.jsx(jn,{id:"username",type:"text",placeholder:"Ваш логин",value:t,onChange:f=>e(f.target.value),disabled:i,autoComplete:"username"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ct,{htmlFor:"password",children:"Пароль"}),h.jsx(jn,{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:f=>r(f.target.value),disabled:i,autoComplete:"current-password"})]}),h.jsx(ie,{className:"w-full h-11 text-base font-semibold mt-4",onClick:u,disabled:!d,children:i?h.jsx(Te,{size:"sm"}):"Войти"}),h.jsx(ie,{variant:"link",className:"text-xs text-muted-foreground hover:text-primary h-auto p-0 w-full mt-2",onClick:()=>a("/login"),children:"Вернуться к обычному входу"})]})]})})};var Bv="Switch",[k8,Gq]=Rt(Bv),[C8,E8]=k8(Bv),AT=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,p]=v.useState(null),g=Ee(e,b=>p(b)),m=v.useRef(!1),w=f?u||!!f.closest("form"):!0,[y=!1,x]=yn({prop:i,defaultProp:s,onChange:c});return h.jsxs(C8,{scope:n,checked:y,disabled:a,children:[h.jsx(te.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":LT(y),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:g,onClick:ne(t.onClick,b=>{x(S=>!S),w&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),w&&h.jsx(_8,{control:f,bubbles:!m.current,name:r,value:l,checked:y,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});AT.displayName=Bv;var IT="SwitchThumb",OT=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=E8(IT,n);return h.jsx(te.span,{"data-state":LT(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});OT.displayName=IT;var _8=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=v.useRef(null),o=Od(n),a=Ad(e);return v.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const f=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(f)}},[o,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function LT(t){return t?"checked":"unchecked"}var zT=AT,N8=OT;const Vv=v.forwardRef(({className:t,...e},n)=>h.jsx(zT,{className:$("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(N8,{className:$("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vv.displayName=zT.displayName;var DT="AlertDialog",[T8,Kq]=Rt(DT,[s_]),$r=s_(),$T=t=>{const{__scopeAlertDialog:e,...n}=t,r=$r(e);return h.jsx(b_,{...r,...n,modal:!0})};$T.displayName=DT;var P8="AlertDialogTrigger",FT=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=$r(n);return h.jsx(M3,{...i,...r,ref:e})});FT.displayName=P8;var j8="AlertDialogPortal",BT=t=>{const{__scopeAlertDialog:e,...n}=t,r=$r(e);return h.jsx(S_,{...r,...n})};BT.displayName=j8;var R8="AlertDialogOverlay",VT=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=$r(n);return h.jsx(rv,{...i,...r,ref:e})});VT.displayName=R8;var uo="AlertDialogContent",[M8,A8]=T8(uo),WT=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=$r(n),o=v.useRef(null),a=Ee(e,o),l=v.useRef(null);return h.jsx(T3,{contentName:uo,titleName:UT,docsSlug:"alert-dialog",children:h.jsx(M8,{scope:n,cancelRef:l,children:h.jsxs(iv,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:ne(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[h.jsx(rC,{children:r}),h.jsx(O8,{contentRef:o})]})})})});WT.displayName=uo;var UT="AlertDialogTitle",HT=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=$r(n);return h.jsx(sv,{...i,...r,ref:e})});HT.displayName=UT;var qT="AlertDialogDescription",GT=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=$r(n);return h.jsx(ov,{...i,...r,ref:e})});GT.displayName=qT;var I8="AlertDialogAction",KT=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=$r(n);return h.jsx(Ud,{...i,...r,ref:e})});KT.displayName=I8;var XT="AlertDialogCancel",YT=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=A8(XT,n),s=$r(n),o=Ee(e,i);return h.jsx(Ud,{...s,...r,ref:o})});YT.displayName=XT;var O8=({contentRef:t})=>{const e=`\`${uo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${uo}\` by passing a \`${qT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${uo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},L8=$T,z8=FT,D8=BT,ZT=VT,QT=WT,JT=KT,eP=YT,tP=HT,nP=GT;const rP=L8,iP=z8,$8=D8,sP=v.forwardRef(({className:t,...e},n)=>h.jsx(ZT,{className:$("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));sP.displayName=ZT.displayName;const Wv=v.forwardRef(({className:t,...e},n)=>h.jsxs($8,{children:[h.jsx(sP,{}),h.jsx(QT,{ref:n,className:$("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Wv.displayName=QT.displayName;const Uv=({className:t,...e})=>h.jsx("div",{className:$("flex flex-col space-y-2 text-center sm:text-left",t),...e});Uv.displayName="AlertDialogHeader";const Hv=({className:t,...e})=>h.jsx("div",{className:$("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Hv.displayName="AlertDialogFooter";const qv=v.forwardRef(({className:t,...e},n)=>h.jsx(tP,{ref:n,className:$("text-lg font-semibold",t),...e}));qv.displayName=tP.displayName;const Gv=v.forwardRef(({className:t,...e},n)=>h.jsx(nP,{ref:n,className:$("text-sm text-muted-foreground",t),...e}));Gv.displayName=nP.displayName;const Kv=v.forwardRef(({className:t,...e},n)=>h.jsx(JT,{ref:n,className:$(Pl(),t),...e}));Kv.displayName=JT.displayName;const Xv=v.forwardRef(({className:t,...e},n)=>h.jsx(eP,{ref:n,className:$(Pl({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Xv.displayName=eP.displayName;const F8=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},B8=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},V8=async()=>{var e,n;const t="Failed to trigger Moex assets update.";console.log("[API/Admin] Triggering Moex assets update...");try{const r=await yt.post("/api/Admin/FillDatabaseWithMoexAssets");return console.log("[API/Admin] Update Moex Assets response:",r==null?void 0:r.data),F8(r,t)}catch(r){return((e=r==null?void 0:r.response)==null?void 0:e.status)===401||((n=r==null?void 0:r.response)==null?void 0:n.status)===403?(console.error("[API/Admin updateMoexAssets] Unauthorized (401) or Forbidden (403). Admin rights required?"),{isSuccess:!1,errorMessage:"Ошибка прав доступа. Требуются права администратора.",resultObject:null}):B8(r,t)}},W8=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),{toast:i}=cr(),s=ut(),o=No(A=>A.logout),a=ar(A=>A.logout),{chatLink:l,setChatLink:c}=X_(),[u,d]=v.useState(l),{categories:f,toggleCategoryActive:p,addCategory:g,deleteCategory:m,updateCategoryTitle:w}=fn(),[y,x]=v.useState(""),[b,S]=v.useState(!1),[C,k]=v.useState(null),[_,N]=v.useState("");v.useEffect(()=>{d(l)},[l]);const M=async()=>{e(!0),i({title:"Обновление базы данных...",description:"Запрос отправлен. Это может занять некоторое время."});try{const A=await V8();if(A.isSuccess)i({title:"Успех!",description:"База данных активов успешно обновлена.",variant:"success"});else throw new Error(A.errorMessage||"Не удалось обновить базу данных.")}catch(A){i({title:"Ошибка обновления",description:A.message||"Произошла ошибка.",variant:"destructive"})}finally{e(!1)}},R=async()=>{r(!0),await new Promise(A=>setTimeout(A,500)),c(u),console.log("Ссылка на чат сохранена в стор:",u),i({title:"Ссылка сохранена",description:`Новая ссылка: ${u}`,variant:"success"}),r(!1)},j=()=>{console.log("[AdminPanelPage] Logging out admin and user..."),o(),a(),s("/login")},P=A=>{p(A);const E=f.find(X=>X.id===A);i({title:`Категория "${(E==null?void 0:E.title)||A}"`,description:`Теперь ${(E==null?void 0:E.isActive)??!0?"скрыта":"активна"}`,duration:2e3})},L=()=>{if(!y.trim()){i({title:"Ошибка",description:"Название категории не может быть пустым.",variant:"destructive"});return}g(y)?(i({title:"Категория добавлена",description:`"${y}"`,variant:"success"}),x(""),S(!1)):i({title:"Ошибка",description:"Не удалось добавить категорию.",variant:"destructive"})},I=(A,E)=>{m(A),i({title:"Категория удалена",description:`"${E}"`,variant:"success"})},H=(A,E)=>{k(A),N(E)},V=()=>{k(null),N("")},F=()=>{C&&_.trim()?(w(C,_),i({title:"Название обновлено",variant:"success",duration:1500}),V()):i({title:"Ошибка",description:"Название не может быть пустым.",variant:"destructive"})},O=A=>{s(`/admin/faq/${A}`)};return h.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-muted/40 overflow-y-auto",children:h.jsxs(_t,{className:"w-full max-w-lg shadow-lg rounded-xl my-auto",children:[h.jsxs(Lr,{className:"items-center text-center pt-6 pb-4 border-b",children:[h.jsx(Ti,{className:"text-xl font-bold",children:"Панель администратора"}),h.jsx(kd,{children:"Управление приложением"})]}),h.jsxs(vn,{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-card",children:[h.jsxs(Ct,{className:"flex items-center gap-2 font-medium text-base",children:[h.jsx(ZL,{className:"h-5 w-5 text-primary"}),"База данных активов"]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Запустить принудительное обновление списка активов и их данных с Московской Биржи."}),h.jsx(ie,{className:"w-full h-10",onClick:M,disabled:t,children:t?h.jsx(Te,{size:"sm"}):"Обновить активы с МосБиржи"})]}),h.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-card",children:[h.jsxs(Ct,{htmlFor:"chatLink",className:"flex items-center gap-2 font-medium text-base",children:[h.jsx(tz,{className:"h-5 w-5 text-primary"}),"Ссылка на Telegram чат"]}),h.jsx(jn,{id:"chatLink",type:"url",value:u,onChange:A=>d(A.target.value),placeholder:"https://t.me/your_chat",disabled:n,className:"h-10"}),h.jsx(ie,{className:"w-full h-10",onClick:R,disabled:n||u===l,children:n?h.jsx(Te,{size:"sm"}):"Сохранить ссылку"})]}),h.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-card",children:[h.jsxs(Ct,{className:"flex items-center gap-2 font-medium text-base",children:[h.jsx($k,{className:"h-5 w-5 text-primary"}),"Управление FAQ"]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Редактируйте категории и статьи."}),h.jsxs("div",{className:"space-y-2 pt-2",children:[f.map(A=>{const E=A.isActive??!0;return h.jsxs("div",{className:$("flex items-center justify-between gap-2 p-2 rounded-md border",!E&&"opacity-60 bg-muted/30"),children:[h.jsxs("div",{className:"flex items-center gap-2 flex-grow min-w-0",children:[h.jsx(Vv,{id:`faq-active-${A.id}`,checked:E,onCheckedChange:()=>P(A.id),"aria-label":`Активность категории ${A.title}`}),C===A.id?h.jsxs("div",{className:"flex items-center gap-1 flex-grow",children:[h.jsx(jn,{value:_,onChange:X=>N(X.target.value),className:"h-8 text-sm flex-grow",autoFocus:!0,onKeyDown:X=>X.key==="Enter"&&F()}),h.jsx(ie,{variant:"ghost",size:"icon",className:"h-7 w-7 text-success",onClick:F,children:h.jsx(_g,{size:16})}),h.jsx(ie,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground",onClick:V,children:h.jsx(Sd,{size:16})})]}):h.jsxs("button",{onClick:()=>O(A.id),className:$("truncate text-left flex-grow text-sm font-medium",E?"hover:text-primary cursor-pointer":"cursor-default"),title:E?`Перейти к статьям "${A.title}"`:"Категория неактивна",disabled:!E,children:[A.title,h.jsx(Wk,{className:"h-3 w-3 inline-block ml-1.5 text-muted-foreground hover:text-primary opacity-50 hover:opacity-100",onClick:X=>{X.stopPropagation(),E&&H(A.id,A.title)}})]})]}),h.jsxs("div",{className:"flex items-center flex-shrink-0",children:[h.jsxs(ie,{variant:"ghost",size:"icon",onClick:()=>O(A.id),className:"h-8 w-8 text-blue-600 hover:text-blue-700",disabled:!E,title:E?`Редактировать статьи "${A.title}"`:"Категория неактивна",children:[h.jsx(Uk,{className:"h-4 w-4"})," "]}),h.jsxs(rP,{children:[h.jsx(iP,{asChild:!0,children:h.jsx(ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",children:h.jsx(Hk,{className:"h-4 w-4"})})}),h.jsxs(Wv,{children:[h.jsxs(Uv,{children:[h.jsx(qv,{children:"Удалить категорию?"}),h.jsxs(Gv,{children:['Вы уверены, что хотите удалить категорию "',A.title,'" и все статьи в ней? Это действие необратимо.']})]}),h.jsxs(Hv,{children:[h.jsx(Xv,{children:"Отмена"}),h.jsx(Kv,{onClick:()=>I(A.id,A.title),className:Pl({variant:"destructive"}),children:"Удалить"})]})]})]})]})]},A.id)}),b?h.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-md mt-2",children:[h.jsx(jn,{placeholder:"Название новой категории",value:y,onChange:A=>x(A.target.value),className:"h-9 flex-grow",autoFocus:!0,onKeyDown:A=>A.key==="Enter"&&L()}),h.jsx(ie,{size:"sm",className:"h-9",onClick:L,children:"Добавить"}),h.jsx(ie,{variant:"ghost",size:"sm",className:"h-9",onClick:()=>S(!1),children:"Отмена"})]}):h.jsxs(ie,{variant:"outline",className:"w-full justify-start gap-2 text-muted-foreground h-10 mt-2",onClick:()=>S(!0),children:[h.jsx(Fk,{className:"h-4 w-4"})," Добавить категорию"]})]})]}),h.jsxs(ie,{variant:"outline",className:"w-full mt-4 h-10",onClick:j,children:[h.jsx(Vk,{className:"h-4 w-4 mr-2"}),"Выйти из панели"]})]})]})})},oP=v.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:$("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));oP.displayName="Textarea";const U8=({isOpen:t,onClose:e,categoryId:n,article:r})=>{const{toast:i}=cr(),{updateArticle:s,addArticle:o}=fn(),[a,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState(!1),p=r!=null;v.useEffect(()=>{t?(l(p?(r==null?void 0:r.title)??"":""),u(p?(r==null?void 0:r.content)??"":""),console.log(`[FaqArticleEditModal] Initialized. Mode: ${p?"Edit":"Create"}. Article ID: ${r==null?void 0:r.id}`)):(l(""),u(""))},[t,r,p]);const g=v.useCallback(async()=>{if(!a.trim()){i({title:"Ошибка",description:"Заголовок статьи не может быть пустым.",variant:"destructive"});return}f(!0);try{if(p&&r){console.log(`[FaqArticleEditModal] Updating article ${r.id}`);const w={},y=a.trim();y&&y!==((r==null?void 0:r.title)??"")&&(w.title=y),c!==((r==null?void 0:r.content)??"")&&(w.content=c),Object.keys(w).length>0&&s(n,r.id,w),i({title:"Сохранено",description:`Статья "${y}" обновлена.`,variant:"success"})}else{if(p)throw new Error("Ошибка: Попытка обновить несуществующую статью.");if(console.log(`[FaqArticleEditModal] Adding new article to category ${n}`),o(n,a,c))i({title:"Статья добавлена",description:`"${a.trim()}"`,variant:"success"});else throw new Error("Не удалось добавить статью в стор.")}await new Promise(w=>setTimeout(w,200)),e()}catch(w){console.error("[FaqArticleEditModal] Save error:",w),i({title:"Ошибка сохранения",description:w.message||"Не удалось сохранить изменения.",variant:"destructive"})}finally{f(!1)}},[p,r,n,a,c,s,o,e,i]),m=p?`Измените заголовок и содержание статьи "${(r==null?void 0:r.title)||"(загрузка...)"}".`:"Создайте новую статью в категории.";return h.jsx(Jp,{open:t,onOpenChange:e,children:h.jsxs($u,{className:"max-w-3xl w-[90vw] h-[85vh] flex flex-col",children:[h.jsxs(Fu,{children:[h.jsx(Bu,{children:p?"Редактировать статью":"Добавить новую статью"}),h.jsxs(Vu,{children:[m," Используйте Markdown."]})]}),h.jsxs("div",{className:"grid gap-4 py-4 flex-grow overflow-y-auto pr-6 -mr-6 pl-1",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx(Ct,{htmlFor:"article-title",children:"Заголовок"}),h.jsx(jn,{id:"article-title",value:a,onChange:w=>l(w.target.value),placeholder:"Введите заголовок статьи...",disabled:d,className:"text-base"})]}),h.jsxs("div",{className:"space-y-1 flex flex-col flex-grow",children:[h.jsx(Ct,{htmlFor:"article-content",children:"Содержание (Markdown)"}),h.jsx(oP,{id:"article-content",value:c,onChange:w=>u(w.target.value),placeholder:"Введите содержание статьи...",disabled:d,className:"text-sm font-mono flex-grow"})]})]}),h.jsxs(av,{className:"mt-4 flex-shrink-0 pt-4 border-t",children:[h.jsx(k_,{asChild:!0,children:h.jsx(ie,{type:"button",variant:"outline",disabled:d,children:"Отмена"})}),h.jsx(ie,{type:"button",onClick:g,disabled:d||!a.trim(),children:d?h.jsx(Te,{size:"sm"}):h.jsxs(h.Fragment,{children:[h.jsx(_g,{size:16,className:"mr-1.5"})," ",p?"Сохранить":"Добавить"]})})]})]})})},H8=()=>{const{categoryId:t}=vs(),e=ut(),{toast:n}=cr(),{deleteArticle:r,updateCategoryTitle:i,toggleCategoryActive:s}=fn(),o=fn.persist.hasHydrated(),a=fn(P=>{if(!o||!t)return;const L=P.categories.find(I=>I.id===t);return L?{id:L.id,title:L.title,articles:L.articles,isActive:L.isActive??!0}:void 0},to),[l,c]=v.useState(void 0),[u,d]=v.useState(!1),[f,p]=v.useState(null),[g,m]=v.useState("");v.useEffect(()=>{d(l!==void 0)},[l]);const w=v.useCallback(P=>{c(P)},[]),y=v.useCallback(()=>{c(null)},[]),x=v.useCallback((P,L)=>{t&&(r(t,P),n({title:"Статья удалена",description:`"${L}"`,variant:"success"}))},[t,r,n]),b=v.useCallback(()=>{c(void 0)},[]),S=v.useCallback((P,L)=>{p(P),m(L)},[]),C=v.useCallback(()=>{p(null),m("")},[]),k=v.useCallback(()=>{f&&g.trim()?(i(f,g),n({title:"Название обновлено",variant:"success",duration:1500}),C()):n({title:"Ошибка",description:"Название не может быть пустым.",variant:"destructive"})},[f,g,i,n,C]),_=v.useCallback(P=>{s(P);const L=fn.getState().categories.find(I=>I.id===P);n({title:`Категория "${(L==null?void 0:L.title)||P}"`,description:`Теперь ${L!=null&&L.isActive?"активна":"скрыта"}`,duration:2e3})},[s,n]);if(!o)return h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx(Te,{size:"lg"})});if(!a)return h.jsxs("div",{className:"p-4 text-center",children:[h.jsx(mt,{message:`Категория FAQ "${t}" не найдена.`}),h.jsxs(ie,{variant:"outline",onClick:()=>e("/admin/panel"),className:"mt-4",children:[h.jsx(Vt,{className:"mr-2 h-4 w-4"})," К панели администратора"]})]});const{id:N,title:M,articles:R,isActive:j}=a;return h.jsxs("div",{className:"p-4 space-y-4 pb-4 flex flex-col h-full",children:[h.jsxs("div",{className:"relative flex items-center justify-center h-12 mb-2 flex-shrink-0",children:[h.jsx(ie,{variant:"ghost",size:"icon",className:"absolute left-0 top-1/2 -translate-y-1/2 text-foreground/80 h-9 w-9 z-10",onClick:()=>e("/admin/panel"),children:h.jsx(Vt,{className:"h-5 w-5"})}),f===N?h.jsxs("div",{className:"flex items-center gap-1 flex-grow mx-10",children:[h.jsx(jn,{value:g,onChange:P=>m(P.target.value),className:"h-9 text-lg font-semibold text-center flex-grow",autoFocus:!0,onKeyDown:P=>P.key==="Enter"&&k()}),h.jsx(ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-success",onClick:k,children:h.jsx(_g,{size:18})}),h.jsx(ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground",onClick:C,children:h.jsx(Sd,{size:18})})]}):h.jsxs("h1",{className:"text-lg font-semibold text-center truncate max-w-[calc(100%-5rem)] cursor-pointer group",title:`Редактировать название "${M}"`,onClick:()=>S(N,M),children:[M,h.jsx(Wk,{className:"h-3.5 w-3.5 inline-block ml-1.5 text-muted-foreground opacity-0 group-hover:opacity-60 transition-opacity"})]}),h.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 flex items-center gap-1",children:h.jsx(Vv,{id:`faq-active-${N}`,checked:j,onCheckedChange:()=>_(N),"aria-label":`Активность категории ${M}`})})]}),h.jsxs(_t,{className:"flex-grow shadow-sm border rounded-lg overflow-hidden flex flex-col",children:[h.jsx(Lr,{className:"px-4 pt-4 pb-2 border-b",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx(Ti,{className:"text-base",children:"Статьи в категории"}),h.jsxs(ie,{size:"sm",variant:"outline",onClick:y,className:"gap-1",children:[h.jsx(Fk,{size:16})," Добавить статью"]})]})}),h.jsx(vn,{className:"p-0 flex-grow overflow-y-auto no-scrollbar",children:R.length>0?h.jsx("div",{className:"divide-y divide-border/60",children:R.map(P=>h.jsxs("div",{className:$("flex items-center justify-between gap-2 p-3 hover:bg-muted/50",!j&&"opacity-60"),children:[h.jsx("span",{className:"text-sm flex-grow mr-2 truncate",children:P.title}),h.jsxs("div",{className:"flex items-center flex-shrink-0",children:[h.jsxs(ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>w(P),children:[h.jsx(Uk,{className:"h-4 w-4"}),h.jsxs("span",{className:"sr-only",children:["Редактировать статью ",P.title]})]}),h.jsxs(rP,{children:[h.jsx(iP,{asChild:!0,children:h.jsxs(ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",children:[h.jsx(Hk,{className:"h-4 w-4"}),h.jsxs("span",{className:"sr-only",children:["Удалить статью ",P.title]})]})}),h.jsxs(Wv,{children:[h.jsxs(Uv,{children:[h.jsx(qv,{children:"Удалить статью?"}),h.jsxs(Gv,{children:['Вы уверены, что хотите удалить статью "',P.title||"Без названия",'"? Это действие необратимо.']})]}),h.jsxs(Hv,{children:[h.jsx(Xv,{children:"Отмена"}),h.jsx(Kv,{onClick:()=>x(P.id,P.title||""),className:Pl({variant:"destructive"}),children:"Удалить"})]})]})]})]})]},P.id))}):h.jsx("p",{className:"p-6 text-center text-muted-foreground",children:"В этой категории пока нет статей."})})]}),N&&h.jsx(U8,{isOpen:u,onClose:b,categoryId:N,article:l})]})},q8=()=>{const{id:t}=vs(),e=Number(t),n=ut(),{tg:r}=Dn(),[i,s]=v.useState(null),[o,a]=v.useState("1M"),[l,c]=v.useState("line"),[u,d]=v.useState(null),[f,p]=v.useState(!0),[g,m]=v.useState(!0),[w,y]=v.useState(null),[x,b]=v.useState(null);v.useEffect(()=>{let k=!0;return(async()=>{if(!e||isNaN(e)){y("Неверный ID актива."),p(!1);return}p(!0),y(null);try{const N=await Pk(e);k&&(N.isSuccess&&N.resultObject?s(N.resultObject):y(N.errorMessage||`Актив ${e} не найден.`))}catch(N){k&&y(N.message||"Ошибка загрузки данных актива.")}finally{k&&p(!1)}})(),()=>{k=!1}},[e]),v.useEffect(()=>{let k=!0;return i?(async()=>{if(!(!k||!(i!=null&&i.id))){m(!0),b(null),d(null),console.log(`[FullscreenChartPage] Fetching history for asset ${i.id}, period ${o}`);try{const N=await Rk(i.id,o);if(k)if(N.isSuccess&&Array.isArray(N.resultObject)){const M=N.resultObject;d(M),console.log(`[FullscreenChartPage] History loaded successfully. Points: ${M.length}`)}else b(N.errorMessage||`Не удалось загрузить историю для ${o}.`),d([])}catch(N){k&&(b(N.message||"Ошибка загрузки истории цен."),d([]))}finally{k&&m(!1)}}})():m(!1),()=>{k=!1}},[i,o]),v.useEffect(()=>{const k=()=>n(`/asset/${e}`);return r&&(r.BackButton.show(),r.onEvent("backButtonClicked",k)),()=>{r&&(r.BackButton.hide(),r.offEvent("backButtonClicked",k))}},[r,n,e]);const S=v.useMemo(()=>o==="1D"?"line":l,[o,l]),C=()=>g?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx(Te,{size:"lg"})}):x&&!u?h.jsx("div",{className:"flex items-center justify-center h-full p-4",children:h.jsxs("div",{className:"text-center p-4 border border-destructive/50 rounded-md bg-destructive/10 text-destructive",children:[h.jsx("span",{className:"text-2xl mr-2",children:"⚠️"})," ",x]})}):!u||u.length===0?h.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Нет данных о цене за этот период."}):h.jsx(LN,{data:u,chartType:S});return f?h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx(Te,{size:"lg"})}):i?h.jsxs("div",{className:"flex flex-col h-screen bg-background text-foreground p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[h.jsxs(ie,{variant:"ghost",size:"icon",onClick:()=>n(`/asset/${e}`),className:"h-9 w-9",children:[" ",h.jsx(Vt,{className:"h-5 w-5"})," "]}),h.jsxs("div",{className:"text-center",children:[" ",h.jsxs("h1",{className:"text-base font-semibold truncate",children:[i.ticker," - ",Tg(i)]})," "]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(ie,{variant:S==="line"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c("line"),title:"Линейный график",children:h.jsx(Bk,{className:"h-4 w-4"})}),h.jsx(ie,{variant:S==="candle"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c("candle"),title:"Свечной график",disabled:o==="1D",children:h.jsx(Ok,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"mb-4 flex-shrink-0",children:h.jsx(Ev,{defaultValue:o,onValueChange:k=>a(k),className:"w-full",children:h.jsxs(Jd,{className:"grid grid-cols-6 h-9 w-full",children:[h.jsx(Lt,{value:"1D",className:"text-xs h-full",children:"1D"}),h.jsx(Lt,{value:"1W",className:"text-xs h-full",children:"1W"}),h.jsx(Lt,{value:"1M",className:"text-xs h-full",children:"1M"}),h.jsx(Lt,{value:"1Y",className:"text-xs h-full",children:"1Y"}),h.jsx(Lt,{value:"5Y",className:"text-xs h-full",children:"5Y"}),h.jsx(Lt,{value:"ALL",className:"text-xs h-full",children:"All"})]})})}),h.jsx("div",{className:"flex-grow overflow-hidden",children:C()})]}):h.jsxs("div",{className:"p-4 text-center",children:[h.jsx(mt,{message:w||`Актив с ID ${e} не найден.`}),h.jsxs(ie,{variant:"outline",onClick:()=>n(-1),className:"mt-4",children:[h.jsx(Vt,{className:"mr-2 h-4 w-4"})," Назад"]})]})},G8=()=>{const t=[{to:"/portfolio",label:"Мои счета",Icon:hz},{to:"/market",label:"Биржа",Icon:oz},{to:"/top10",label:"Топ 10",Icon:dz},{to:"/profile",label:"Профиль",Icon:KL}],e=()=>$("relative flex flex-col items-center justify-center flex-1 h-full group transition-all duration-200 ease-in-out","pt-1 p-1","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background rounded-md"),n=()=>" text-primary",r=()=>"text-muted-foreground hover:text-foreground/90",i="bg-primary/10 dark:bg-primary/15 rounded-lg",s=({isActive:l})=>$("h-5 w-5 mb-0.5 transition-transform duration-150",l?"scale-105":"scale-100 opacity-80 group-hover:opacity-100"),o=({isActive:l})=>$("text-[11px] leading-tight block",l?"font-semibold":"font-normal"),a=h.jsx("div",{className:$("absolute inset-x-1.5 bottom-1 h-[3px] rounded-full bg-primary")});return h.jsx("nav",{className:$("fixed bottom-0 left-0 right-0 h-16 bg-background/95 backdrop-blur-sm border-t border-border/50 shadow-[0_-2px_10px_rgba(0,0,0,0.05)] dark:shadow-[0_-2px_10px_rgba(0,0,0,0.2)]","flex justify-around items-stretch","px-1","safe-padding-bottom z-50"),style:{paddingBottom:"env(safe-area-inset-bottom)"},children:t.map(({to:l,label:c,Icon:u})=>h.jsx(uM,{to:l,end:l==="/portfolio",children:({isActive:d})=>h.jsx("div",{className:$(e(),d?n():r()),children:h.jsxs("div",{className:$("relative flex flex-col items-center justify-center w-full h-full",d&&i),children:[h.jsx(u,{className:s({isActive:d}),strokeWidth:d?2.25:1.75}),h.jsx("span",{className:o({isActive:d}),children:c}),d&&a]})})},l))})};var Yv="ToastProvider",[Zv,K8,X8]=_d("Toast"),[aP,Xq]=Rt("Toast",[X8]),[Y8,ih]=aP(Yv),lP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=v.useState(null),[c,u]=v.useState(0),d=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yv}\`. Expected non-empty \`string\`.`),h.jsx(Zv.Provider,{scope:e,children:h.jsx(Y8,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>u(p=>p+1),[]),onToastRemove:v.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};lP.displayName=Yv;var cP="ToastViewport",Z8=["F8"],bm="toast.viewportPause",Sm="toast.viewportResume",uP=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Z8,label:i="Notifications ({hotkey})",...s}=t,o=ih(cP,n),a=K8(n),l=v.useRef(null),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=Ee(e,d,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;v.useEffect(()=>{const w=y=>{var b;r.length!==0&&r.every(S=>y[S]||y.code===S)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),v.useEffect(()=>{const w=l.current,y=d.current;if(g&&w&&y){const x=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(bm);y.dispatchEvent(k),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Sm);y.dispatchEvent(k),o.isClosePausedRef.current=!1}},S=k=>{!w.contains(k.relatedTarget)&&b()},C=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",S),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:w})=>{const x=a().map(b=>{const S=b.ref.current,C=[S,...uq(S)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?x.reverse():x).flat()},[a]);return v.useEffect(()=>{const w=d.current;if(w){const y=x=>{var C,k,_;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const N=document.activeElement,M=x.shiftKey;if(x.target===w&&M){(C=c.current)==null||C.focus();return}const P=m({tabbingDirection:M?"backwards":"forwards"}),L=P.findIndex(I=>I===N);Rf(P.slice(L+1))?x.preventDefault():M?(k=c.current)==null||k.focus():(_=u.current)==null||_.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[a,m]),h.jsxs(O$,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&h.jsx(km,{ref:c,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Rf(w)}}),h.jsx(Zv.Slot,{scope:n,children:h.jsx(te.ol,{tabIndex:-1,...s,ref:f})}),g&&h.jsx(km,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Rf(w)}})]})});uP.displayName=cP;var dP="ToastFocusProxy",km=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=ih(dP,n);return h.jsx(Ld,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});km.displayName=dP;var sh="Toast",Q8="toast.swipeStart",J8="toast.swipeMove",eq="toast.swipeCancel",tq="toast.swipeEnd",hP=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=yn({prop:r,defaultProp:i,onChange:s});return h.jsx(zr,{present:n||a,children:h.jsx(iq,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Nt(t.onPause),onResume:Nt(t.onResume),onSwipeStart:ne(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ne(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});hP.displayName=sh;var[nq,rq]=aP(sh,{onClose(){}}),iq=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...g}=t,m=ih(sh,n),[w,y]=v.useState(null),x=Ee(e,I=>y(I)),b=v.useRef(null),S=v.useRef(null),C=i||m.duration,k=v.useRef(0),_=v.useRef(C),N=v.useRef(0),{onToastAdd:M,onToastRemove:R}=m,j=Nt(()=>{var H;(w==null?void 0:w.contains(document.activeElement))&&((H=m.viewport)==null||H.focus()),o()}),P=v.useCallback(I=>{!I||I===1/0||(window.clearTimeout(N.current),k.current=new Date().getTime(),N.current=window.setTimeout(j,I))},[j]);v.useEffect(()=>{const I=m.viewport;if(I){const H=()=>{P(_.current),c==null||c()},V=()=>{const F=new Date().getTime()-k.current;_.current=_.current-F,window.clearTimeout(N.current),l==null||l()};return I.addEventListener(bm,V),I.addEventListener(Sm,H),()=>{I.removeEventListener(bm,V),I.removeEventListener(Sm,H)}}},[m.viewport,C,l,c,P]),v.useEffect(()=>{s&&!m.isClosePausedRef.current&&P(C)},[s,C,m.isClosePausedRef,P]),v.useEffect(()=>(M(),()=>R()),[M,R]);const L=v.useMemo(()=>w?xP(w):null,[w]);return m.viewport?h.jsxs(h.Fragment,{children:[L&&h.jsx(sq,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),h.jsx(nq,{scope:n,onClose:j,children:ms.createPortal(h.jsx(Zv.ItemSlot,{scope:n,children:h.jsx(I$,{asChild:!0,onEscapeKeyDown:ne(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||j(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ne(t.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:ne(t.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:ne(t.onPointerMove,I=>{if(!b.current)return;const H=I.clientX-b.current.x,V=I.clientY-b.current.y,F=!!S.current,O=["left","right"].includes(m.swipeDirection),A=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,E=O?A(0,H):0,X=O?0:A(0,V),he=I.pointerType==="touch"?10:2,T={x:E,y:X},Se={originalEvent:I,delta:T};F?(S.current=T,Sc(J8,d,Se,{discrete:!1})):cb(T,m.swipeDirection,he)?(S.current=T,Sc(Q8,u,Se,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(H)>he||Math.abs(V)>he)&&(b.current=null)}),onPointerUp:ne(t.onPointerUp,I=>{const H=S.current,V=I.target;if(V.hasPointerCapture(I.pointerId)&&V.releasePointerCapture(I.pointerId),S.current=null,b.current=null,H){const F=I.currentTarget,O={originalEvent:I,delta:H};cb(H,m.swipeDirection,m.swipeThreshold)?Sc(tq,p,O,{discrete:!0}):Sc(eq,f,O,{discrete:!0}),F.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),sq=t=>{const{__scopeToast:e,children:n,...r}=t,i=ih(sh,e),[s,o]=v.useState(!1),[a,l]=v.useState(!1);return lq(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(Id,{asChild:!0,children:h.jsx(Ld,{...r,children:s&&h.jsxs(h.Fragment,{children:[i.label," ",n]})})})},oq="ToastTitle",fP=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(te.div,{...r,ref:e})});fP.displayName=oq;var aq="ToastDescription",pP=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(te.div,{...r,ref:e})});pP.displayName=aq;var mP="ToastAction",gP=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(yP,{altText:n,asChild:!0,children:h.jsx(Qv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${mP}\`. Expected non-empty \`string\`.`),null)});gP.displayName=mP;var vP="ToastClose",Qv=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=rq(vP,n);return h.jsx(yP,{asChild:!0,children:h.jsx(te.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,i.onClose)})})});Qv.displayName=vP;var yP=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return h.jsx(te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function xP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),cq(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...xP(r))}}),e}function Sc(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?sC(i,s):i.dispatchEvent(s)}var cb=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function lq(t=()=>{}){const e=Nt(t);nt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function cq(t){return t.nodeType===t.ELEMENT_NODE}function uq(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var dq=lP,wP=uP,bP=hP,SP=fP,kP=pP,CP=gP,EP=Qv;const hq=dq,_P=v.forwardRef(({className:t,...e},n)=>h.jsx(wP,{ref:n,className:$("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));_P.displayName=wP.displayName;const fq=Pg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-success bg-success text-success-foreground"}},defaultVariants:{variant:"default"}}),NP=v.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(bP,{ref:r,className:$(fq({variant:e}),t),...n}));NP.displayName=bP.displayName;const pq=v.forwardRef(({className:t,...e},n)=>h.jsx(CP,{ref:n,className:$("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive group-[.success]:border-muted/40 group-[.success]:hover:border-success/30 group-[.success]:hover:bg-success group-[.success]:hover:text-success-foreground group-[.success]:focus:ring-success",t),...e}));pq.displayName=CP.displayName;const TP=v.forwardRef(({className:t,...e},n)=>h.jsx(EP,{ref:n,className:$("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 group-[.success]:text-green-300 group-[.success]:hover:text-green-50 group-[.success]:focus:ring-green-400 group-[.success]:focus:ring-offset-green-600",t),"toast-close":"",...e,children:h.jsx(Sd,{className:"h-4 w-4"})}));TP.displayName=EP.displayName;const PP=v.forwardRef(({className:t,...e},n)=>h.jsx(SP,{ref:n,className:$("text-sm font-semibold",t),...e}));PP.displayName=SP.displayName;const jP=v.forwardRef(({className:t,...e},n)=>h.jsx(kP,{ref:n,className:$("text-sm opacity-90",t),...e}));jP.displayName=kP.displayName;function mq(){const{toasts:t,dismiss:e}=cr();return h.jsxs(hq,{children:[t.map(function({id:n,title:r,description:i,action:s,...o}){return h.jsxs(NP,{...o,onClick:()=>e(n),className:"cursor-pointer",children:[h.jsxs("div",{className:"grid gap-1",children:[r&&h.jsx(PP,{children:r}),i&&h.jsx(jP,{children:i})]}),s,h.jsx(TP,{})]},n)}),h.jsx(_P,{})]})}const gq=()=>{const{tg:t}=Dn(),e=Gi(r=>r.preference),n=()=>{const r=Gi.getState().preference,i=(t==null?void 0:t.colorScheme)??(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");let s;r==="light"?s="light":r==="dark"?s="dark":s=i,console.log(`[ThemeManager Apply] Applying effective theme: ${s} (Preference: ${r}, TG: ${i})`),s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return v.useEffect(()=>{if(!t){console.warn("[ThemeManager] Telegram SDK not ready on mount. Initial theme relies on localStorage/system."),n();return}return t.onEvent("themeChanged",n),console.log("[ThemeManager] Subscribed to Telegram themeChanged event."),n(),()=>{t&&(t.offEvent("themeChanged",n),console.log("[ThemeManager] Unsubscribed from Telegram themeChanged event."))}},[t]),v.useEffect(()=>{console.log(`[ThemeManager Preference Effect] Preference changed to: ${e}`),n()},[e]),null};class vq extends v.Component{constructor(){super(...arguments);ey(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){console.error("Uncaught error in ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n;return this.state.hasError?h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[h.jsx("h1",{className:"text-xl font-semibold text-destructive mb-4",children:"Что-то пошло не так..."}),h.jsx(mt,{message:((n=this.state.error)==null?void 0:n.message)||"Произошла ошибка рендеринга приложения."}),!1,h.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Перезагрузить страницу"})]}):this.props.children}}const ub=({children:t})=>{const{isAdminAuthenticated:e,isLoading:n}=No(),{isAuthenticated:r,isLoading:i,jwt:s}=ar(),o=Or();if(n||i)return console.log("[AdminGuard Simple] Waiting for auth states to load..."),h.jsx("div",{className:"flex-grow flex items-center justify-center h-screen",children:h.jsx(Te,{size:"lg"})});if(!r||!e||!s){console.log("[AdminGuard Simple] Access denied. Redirecting.",{isUserAuthenticated:r,isAdminAuthenticated:e,hasJwt:!!s});const a=r?"/admin/login":"/login";return h.jsx(di,{to:a,state:{from:o},replace:!0})}return console.log("[AdminGuard Simple] Access granted to admin panel."),t},Gr=({children:t})=>{const{isAuthenticated:e,isLoading:n}=ar(),{accounts:r,isLoading:i,error:s,fetchPortfolio:o,isFetching:a,hasAttemptedFetch:l}=Ni(),c=Or();if(v.useEffect(()=>{!n&&e&&!l&&!a&&!i&&(console.log("[ProtectedRoute Initial Fetch] Triggering fetchPortfolio..."),o())},[n,e,l,a,i,o]),n)return h.jsx("div",{className:"flex-grow flex items-center justify-center h-screen",children:h.jsx(Te,{size:"lg"})});if(!e&&!c.pathname.startsWith("/admin"))return h.jsx(di,{to:"/login",state:{from:c},replace:!0});const u=c.pathname.startsWith("/faq")||c.pathname.startsWith("/asset/")||c.pathname.startsWith("/profile");if(e&&!c.pathname.startsWith("/admin")&&!u){if(a||i&&!l)return console.log("[ProtectedRoute] Waiting for portfolio data (initial load)..."),h.jsx("div",{className:"flex-grow flex items-center justify-center h-screen",children:h.jsx(Te,{size:"lg"})});if(l&&s&&!s.includes("401")&&!s.includes("Unauthorized"))return console.error("[ProtectedRoute] Portfolio fetch error:",s),h.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center p-4 text-center",children:[h.jsx(mt,{message:`Ошибка загрузки данных портфеля: ${s}`}),h.jsx(ie,{variant:"outline",onClick:()=>o(!0),className:"mt-4",children:"Повторить"})]});if(l&&r===null&&!s&&!i&&!a)return console.error("[ProtectedRoute] Portfolio fetch attempted, no error, but accounts is still null."),h.jsx("div",{className:"p-4 text-center text-destructive",children:"Не удалось загрузить данные портфеля. Обновите страницу."});if(r!==null){if(r.length===0&&c.pathname!=="/register-initial")return console.log("[ProtectedRoute] No accounts found, redirecting to /register-initial"),h.jsx(di,{to:"/register-initial",replace:!0});if(r.length>0&&c.pathname==="/register-initial")return console.log("[ProtectedRoute] Accounts exist, redirecting from /register-initial to /portfolio"),h.jsx(di,{to:"/portfolio",replace:!0})}}return t},yq=({children:t})=>{const{isAuthenticated:e,isLoading:n}=ar();return n?h.jsx("div",{className:"flex-grow flex items-center justify-center h-screen",children:h.jsx(Te,{})}):e?h.jsx(di,{to:"/",replace:!0}):t},xq=()=>{const t=Or(),e=v.useRef(null),n=pr.getState().resetMarketState;return v.useEffect(()=>{const r=t.pathname;e.current==="/market"&&r!=="/market"&&!r.startsWith("/asset/")&&(console.log("[AppLayout Effect] Navigating away from Market via BottomNav/Other. Resetting Market state."),n()),e.current=r},[t.pathname]),h.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden pb-16",children:[h.jsx("main",{className:"flex-grow overflow-y-auto no-scrollbar",children:h.jsxs(IS,{children:[h.jsx(Qe,{index:!0,element:h.jsx(di,{to:"/portfolio",replace:!0})}),h.jsx(Qe,{path:"/portfolio",element:h.jsx(nD,{})}),h.jsx(Qe,{path:"/market",element:h.jsx(lW,{})}),h.jsx(Qe,{path:"/top10",element:h.jsx(fW,{})}),h.jsx(Qe,{path:"/profile",element:h.jsx(oB,{})}),h.jsx(Qe,{path:"/portfolio/:accountId",element:h.jsx(VD,{})}),h.jsx(Qe,{path:"*",element:h.jsx(di,{to:"/portfolio",replace:!0})})]})}),h.jsx(G8,{})]})};function wq(){const{tg:t}=Dn();return v.useEffect(()=>{t&&(t.ready(),t.expand())},[t]),h.jsxs("div",{className:"flex flex-col h-screen bg-background text-foreground",children:[h.jsx(gq,{}),h.jsx(mq,{}),h.jsx(vq,{children:h.jsxs(IS,{children:[h.jsx(Qe,{path:"/login",element:h.jsx(yq,{children:h.jsx(vB,{})})}),h.jsx(Qe,{path:"/register-initial",element:h.jsx(Gr,{children:h.jsx(hB,{})})}),h.jsx(Qe,{path:"/asset/:id",element:h.jsx(Gr,{children:h.jsx(sW,{})})}),h.jsx(Qe,{path:"/asset/:id/chart",element:h.jsx(Gr,{children:h.jsx(q8,{})})}),h.jsx(Qe,{path:"/portfolio/:accountId/operations",element:h.jsx(Gr,{children:h.jsx("div",{className:$("flex-grow overflow-y-auto no-scrollbar","pb-16"),children:h.jsx(m3,{})})})}),h.jsx(Qe,{path:"/faq",element:h.jsx(Gr,{children:h.jsx(AW,{})})}),h.jsx(Qe,{path:"/faq/:categoryId",element:h.jsx(Gr,{children:h.jsx(IW,{})})}),h.jsx(Qe,{path:"/faq/:categoryId/:articleId",element:h.jsx(Gr,{children:h.jsx(b8,{})})}),h.jsx(Qe,{path:"/admin/login",element:h.jsx(S8,{})}),h.jsx(Qe,{path:"/admin/panel",element:h.jsx(ub,{children:h.jsx(W8,{})})}),h.jsx(Qe,{path:"/admin/faq/:categoryId",element:h.jsx(ub,{children:h.jsx(H8,{})})}),h.jsx(Qe,{path:"/*",element:h.jsx(Gr,{children:h.jsx(xq,{})})})]})})]})}async function bq(){var t;try{await TO(),console.log("[index.tsx] Configuration loaded."),(t=window.Telegram)!=null&&t.WebApp?(window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand(),console.log("[index.tsx] Telegram WebApp SDK initialized.")):console.warn("[index.tsx] Telegram WebApp SDK not found.");const e=document.getElementById("root");if(!e)throw new Error("Root element not found");Mf.createRoot(e).render(h.jsx(oM,{children:h.jsx(wq,{})})),console.log("[index.tsx] React App Rendered.")}catch(e){console.error("[index.tsx] Failed to start the application:",e);const n=document.getElementById("root");n&&!n.innerHTML.includes("Failed to load")&&(n.innerHTML='<div style="padding: 20px; text-align: center; color: red;">Critical error during application startup.</div>')}}bq();
